<!-- Header Start -->
<div class="card">
    <div class="card-body innerdiv p-0">
      <!-- headerstart here -->
      <div class="hor-header">
        <div style="overflow: hidden;">
          <div class="row align-items-left ">
            <div class="col-lg-1 my-2 d-flex">
              <button class="app-sidebar__toggle ms-1 " (click)="sidebarToggle()"></button>
            </div>
            <div class="col-lg-2"></div>
            <div
            class="col-lg-4"
            style="
              font-weight: 600;
              font-size: large;
              text-align: center;
             
            "
          >
          <div *ngIf="showOrderTile" class="order-header col-lg-8" >
            <div class="bid-summary">
              <div class="bid-item" style="color:gray"  container="body" ngbTooltip="Total Bids: {{ totalBids }}">
                <!-- <i class="fas fa-chart-bar bid-icon"></i> -->
             <!-- icon666.com - MILLIONS vector ICONS FREE -->
             <svg style="height:27px" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 48 48" id="Bid" viewBox="11 5 26 38">  <g fill="#909293" class="color000000 svgShape">    <path d="M28 25h-7.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5H25c.54999 0 1 .45001 1 1s-.45001 1-1 1h-4.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5H25c.54999 0 1 .45001 1 1s-.45001 1-1 1h-4c-.82843 0-1.5.67157-1.5 1.5S20.17157 38 21 38h4c.54999 0 1 .45001 1 1s-.45001 1-1 1h-3c-.82843 0-1.5.67157-1.5 1.5S21.17157 43 22 43h6c1.65686 0 3-1.34314 3-3V28C31 26.34314 29.65686 25 28 25zM14 29v4c0 2.04999 1.53998 3.73999 3.53003 3.96997C17.51001 36.82001 17.5 36.65997 17.5 36.5c0-.85999.31-1.65002.83002-2.26001C17.52002 33.59998 17 32.60999 17 31.5c0-.98004.40002-1.85999 1.04999-2.5C17.40002 28.35999 17 27.47998 17 26.5c0-.51001.10999-1 .32001-1.44C15.42999 25.38 14 27.01996 14 29zM18.53003 38.97998C18.34998 38.98999 18.17999 39 18 39c-1.09998 0-2.12-.29004-3-.81V39c0 2.15997 1.70001 3.90997 3.84003 3.98999C18.62 42.53998 18.5 42.02997 18.5 41.5c0-.76001.23999-1.46002.65002-2.03003C18.92999 39.32996 18.71997 39.15997 18.53003 38.97998z" fill="#909293" class="color000000 svgShape"></path>    <rect width="6" height="2" x="21" y="21" fill="#909293" class="color000000 svgShape"></rect>    <path d="M18.75 13h-1v1h1c.27588 0 .5-.22412.5-.5S19.02588 13 18.75 13zM29.25 10h-1v4h1c.55127 0 1-.44873 1-1v-2C30.25 10.44873 29.80127 10 29.25 10zM18.75 10.5c0-.27588-.22412-.5-.5-.5h-.5v1h.5C18.52588 11 18.75 10.77588 18.75 10.5z" fill="#909293" class="color000000 svgShape"></path>    <path d="M36,5H12c-0.55225,0-1,0.44775-1,1v12c0,0.55225,0.44775,1,1,1h24c0.55225,0,1-0.44775,1-1V6C37,5.44775,36.55225,5,36,5z    M18.75,16h-2c-0.55225,0-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1h1.5c1.37842,0,2.5,1.12158,2.5,2.5   c0,0.42432-0.10645,0.82422-0.29346,1.1748C20.94434,12.13135,21.25,12.78076,21.25,13.5C21.25,14.87842,20.12842,16,18.75,16z    M24.75,15c0,0.55225-0.44775,1-1,1s-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1s1,0.44775,1,1V15z M32.25,13c0,1.6543-1.3457,3-3,3   h-2c-0.55225,0-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1h2c1.6543,0,3,1.3457,3,3V13z" fill="#909293" class="color000000 svgShape"></path>  </g></svg>
                          <span class="bid-value badge rounded-pill badge-notification" style="background:gray ;">{{ totalBids }}</span>
              </div>
              <div class="bid-item" style="color:#cd7f32" container="body" ngbTooltip="Pending Bids: {{ pendingBids }}">
                <i class="fas fa-hourglass-half bid-icon"></i>
                <span class="bid-value badge rounded-pill badge-notification" style="background:#cd7f32 ;">{{ pendingBids }}</span>
              </div>
              <div class="bid-item" style="color:#28a745" container="body" ngbTooltip="Completed Bids: {{ completedBids }}">
                <i class="fas fa-check-circle bid-icon"></i>
             
                <span class="bid-value badge rounded-pill badge-notification" style="background:#28a745">{{ completedBids }}</span>
              </div>
              <div class="bid-item" style="color:#bb1d1d" container="body" ngbTooltip="Cancelled Bids: {{ canceledBids }}">
                <i class="fas fa-times-circle bid-icon"></i>
          
                <span class="bid-value badge rounded-pill badge-notification" style="background:#bb1d1d">{{ canceledBids }}</span>
              </div>
            </div>
          </div>
          
          </div>
            <div class="col-lg-2 text-center ">
  
            </div>
  
            <div class="col-lg-1"></div>
            <div class="col-lg-1">
              <!-- <a  routerLink="/ILgic/createTrip"><i class="fa fa-plus-circle" aria-hidden="true" style="font-size: 20px;color: #1D4380;"></i></a>  -->
            </div>
            <div class="col-lg-1 text-center">
              <!-- <a class="header-brand1">
                <img src="assets/images/itraceit_logo1.png" alt="ILGIC Logo" class="header-brand-img desktop-logo"
                  style="height: auto; width: 80%;">
              </a> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- HEADER END -->
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <nav class="flex-md-column">
          <div class="nav nav-tabs" id="nav-tab" role="tablist" style="background-color: #ece9e9">
            <!-- <button class="nav-link active" id="nav-Region-tab" data-bs-toggle="tab" data-bs-target="#nav-Region"
                type="button" role="tab" aria-controls="nav-Region" aria-selected="true"
               >Load Planner</button> -->
  
               <button
             (click)="onTabClicked('order')"
               class="nav-link active"
               id="nav-ORDER-tab"
               data-bs-toggle="tab"
               data-bs-target="#nav-ORDER"
               type="button"
               role="tab"
               aria-controls="nav-ORDER"
               aria-selected="true"
             >
               Order
             </button>
  
             <button (click)="onTabClicked('quote')" class="nav-link" id="nav-Quote-tab" data-bs-toggle="tab" 
             data-bs-target="#nav-Quote" type="button" role="tab" aria-controls="nav-Quote" aria-selected="false">Quote</button>
            <!-- REQUEST -->
            <!-- <button class="nav-link" id="nav-REQUEST-tab" data-bs-toggle="tab" data-bs-target="#nav-REQUEST" type="button"
              role="tab" aria-controls="nav-REQUEST" aria-selected="false">
              Quote(Request)
            </button> -->
  
            <!-- Trip -->
            <!-- <button
                class="nav-link"
                id="nav-Trip-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-Trip"
                type="button"
                role="tab"
                aria-controls="nav-Trip"
                aria-selected="false"
              >
                Trip
              </button> -->
  
            <!-- Billing -->
           
           
  
            <!-- Vehicle -->
          
            <!-- Driver -->
          
          </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
          <!-- statics -->
          <!-- <div class="tab-pane fade show active" id="nav-Region" role="tabpanel" aria-labelledby="nav-Region-tab">
             Load planner
            </div> -->
          <!-- ORDER -->
          <div class="tab-pane fade show active" id="nav-ORDER" role="tabpanel" aria-labelledby="nav-ORDER-tab" style="min-height: 50vh !important">
            <div class="col-lg-12">
              <div class="fiter">
                <p>
  
                  <a data-bs-toggle="collapse" data-bs-target="#collapseExample" role="button" aria-expanded="true"
                    aria-controls="collapseExample" style="font-size: 16px;">
                    <i class="fa fa-filter" aria-hidden="true"
                      style="font-size: 20px;color: gray ;margin-top: 8px;"></i>FILTER
                  </a>
  
                </p>
                <div class="collapse show" id="collapseExample">
                  <div>
                    <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;">
                      <!-- <nav class="flex-md-column"> -->
                        <!-- <div class="nav nav-tabs mm" id="nav-tab" role="tablist" style="border-bottom: none !important;"> -->
                          <!-- <button class="nav-link active" id="nav-Region-tab" data-bs-toggle="tab" data-bs-target="#nav-Region"
                            type="button" role="tab" aria-controls="nav-Region" aria-selected="true"
                           >Load Planner</button> -->
  
                          <!-- <button class="nav-link active all-button " id="nav-All-tab" data-bs-toggle="tab"
                            data-bs-target="#nav-All" type="button" role="tab" aria-controls="nav-All"
                            aria-selected="true" (click)="change_status1()">All</button> -->
                          <!-- REQUEST -->
                          <!-- <button class="nav-link all-button " id="nav-NEw-tab" data-bs-toggle="tab"
                            data-bs-target="#nav-NEw" type="button" role="tab" aria-controls="nav-NEw"
                            aria-selected="false" (click)="change_status()">New</button> -->
  
  
                        <!-- </div> -->
  
                      <!-- </nav> -->
                      <div class="tab-content" id="nav-tabContent">
                        <!-- statics -->
                        <!-- <div class="tab-pane fade show active" id="nav-Region" role="tabpanel" aria-labelledby="nav-Region-tab">
                         Load planner
                        </div> -->
                        <!-- ORDER -->
                        <div class="tab-pane fade show active" id="nav-All" role="tabpanel"
                          aria-labelledby="nav-ORDER-tab">
  
                          <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;"
                            *ngIf="All_data">
                            <!--  -->
                            <form #filterForm="ngForm" (ngSubmit)="filterSubmit(filterForm,'1')">
                              <div class="col-lg-12">
                                <div class="row">
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Start Date</span>
                                    <div class="input-group date" id="datepicker">
  
                                      <input type="input" id="Date-select" (click)="Dateselect()" class="form-control"
                                        [ngModel]="datetimepicker1" required name="from_Date" />
  
                                      <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">End Date</span>
                                    <div class="input-group date" id="datepicker">
  
                                      <input type="input" id="Date-select_end" (click)="Dateselect1()"
                                        class="form-control" [ngModel]="datetimepicker1" required name="To_Date" />
  
                                      <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Order Id</span>
  
                                    <input type="input" name="Order_id" ngModel placeholder="Enter Order Id"
                                      class="form-control" />
  
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Client</span>
                                    <ng-select name="Client" id="ShipmentNo" #Clients="ngModel"
                                      [ngClass]="{'is-invalid': (Clients.invalid && (Clients.touched || filterForm.submitted))}"
                                      style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true" >
  
                                      <ng-option value selected>All</ng-option>
                                      <!-- <ng-option value="" >Close Body</ng-option>
                              <ng-option value="" >Open Body</ng-option> -->
                                      <ng-option [value]="item" *ngFor="let item of client">{{item.value}} </ng-option>
  
                                    </ng-select>
                                  </div>
  
                                  <!-- <div class="col-lg-2">
                            <span class="filtor_name">From</span>
                            <ng-select name="From"  id="ShipmentNo"
                            style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                           
                            <ng-option value="" selected>Select</ng-option>
                            <ng-option [value]="item" *ngFor="let item of Source">{{item.value}} </ng-option>
                            
                          </ng-select>
                          </div>
                          <span style="    position: absolute;
                             margin-left: 82%;
                          top: 31px;
                          width: 2px;"><i class="fa-solid fa-arrow-right-arrow-left" style="color: black;"></i></span>
                          <div class="col-lg-2">
                            <span class="filtor_name">To</span>
                            <ng-select name="To"  id="ShipmentNo"
                            style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                           
                            <ng-option value="" selected>Select</ng-option>
                            <ng-option [value]="item" *ngFor="let item of Destination">{{item.value}} </ng-option>
                            
                          </ng-select>
                          </div> -->
                                  <!-- </div>
                           <div class="row"> -->
                                  <div class="col-lg-1">
  
                                    <button class="btn btn-outline-primary searcg-button" type="submit">Search</button>
                                    <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
  
                        </div>
                        <div class="tab-pane fade" id="nav-NEw" role="tabpanel" aria-labelledby="nav-NEw-tab">
                          <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;"
                            *ngIf="!All_data">
                            <!--  -->
                            <form #filterForm="ngForm" (ngSubmit)="filterSubmit(filterForm,'1')">
                              <div class="col-lg-12">
                                <div class="row">
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Start Date</span>
                                    <div class="input-group date" id="datepicker">
  
                                      <input type="input" id="Date-select" (click)="Dateselect()" class="form-control"
                                        [ngModel]="datetimepicker1" required name="from_Date" />
  
                                      <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">End Date</span>
                                    <div class="input-group date" id="datepicker">
  
                                      <input type="input" id="Date-select_end" (click)="Dateselect1()"
                                        class="form-control" [ngModel]="datetimepicker1" required name="To_Date" />
  
                                      <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Order Id</span>
  
                                    <input type="input" name="Order_id" ngModel placeholder="Enter Order Id"
                                      class="form-control" />
  
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Client</span>
                                    <ng-select name="Client" id="ShipmentNo" #Clients="ngModel"
                                      [ngClass]="{'is-invalid': (Clients.invalid && (Clients.touched || filterForm.submitted))}"
                                      style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true" required>
  
                                      <ng-option value="" selected>Select</ng-option>
                                      <!-- <ng-option value="" >Close Body</ng-option>
                              <ng-option value="" >Open Body</ng-option> -->
                                      <ng-option [value]="item" *ngFor="let item of client">{{item.transporter_name}}
                                      </ng-option>
  
                                    </ng-select>
                                  </div>
  
                                  <!-- <div class="col-lg-2">
                            <span class="filtor_name">From</span>
                            <ng-select name="From"  id="ShipmentNo"
                            style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                           
                            <ng-option value="" selected>Select</ng-option>
                            <ng-option [value]="item" *ngFor="let item of Source">{{item.value}} </ng-option>
                            
                          </ng-select>
                          </div>
                          <span style="    position: absolute;
                             margin-left: 82%;
                          top: 31px;
                          width: 2px;"><i class="fa-solid fa-arrow-right-arrow-left" style="color: black;"></i></span>
                          <div class="col-lg-2">
                            <span class="filtor_name">To</span>
                            <ng-select name="To"  id="ShipmentNo"
                            style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                           
                            <ng-option value="" selected>Select</ng-option>
                            <ng-option [value]="item" *ngFor="let item of Destination">{{item.value}} </ng-option>
                            
                          </ng-select>
                          </div> -->
                                  <!-- </div> -->
                                  <!-- <div class="row"> -->
                                  <div class="col-lg-1">
  
                                    <button class="btn btn-outline-primary searcg-button" type="submit">Search</button>
                                    <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
  
                      </div>
                    </div>
                    <!-- </ng-container> -->
                    <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                  </div>
                </div>
  
  
  
              </div>
              <div class="col-lg-12" *ngIf="table_show">
                <div class="col-lg-3">
                  <!--    data-bs-toggle="modal" data-bs-target="#upload"-->
                  <button type="button" class="btn btn-success set-Assign col-lg-5" style="border-radius: 0px;
                background: #6ABD46  !important;" (click)="redirect()" [disabled]="!isRadioSelected">Assign vehicle</button>
                  <button type="button" class="btn btn-danger set-Decline col-lg-5" style="border-radius: 0px;
                background: red !important;" (click)="orderstatus_Decline('1')" [disabled]="!isRadioSelected"> Decline
                    Request </button>
                </div>
                <div style="overflow: scroll;">
                  <table class=" table" cellspacing="0" id="Assignvehicle" width="100%">
                    <thead>
                      <tr style="text-align: center; white-space: nowrap;">
                        <th class="table-primary"> </th>
                        <th class="table-primary">SL</th>
                        <th class="table-primary">Order Number</th>
                        <th class="table-primary">Client</th>
                        <th class="table-primary">Dispatch Date & Time</th>
                        <th class="table-primary">Source</th>
                        <th class="table-primary">Destination</th>
                        <th class="table-primary">Route Sequence</th>
                        <th class="table-primary">Vehicle Capacity</th>
                        <th class="table-primary">Vehicle Type </th>
                        <th class="table-primary">No of Vehicles </th>
                        <th class="table-primary">Vehicle Accessories</th>
                        <th class="table-primary">Requirement </th>
      
                        <th class="table-primary">Status</th>
      
      
                      </tr>
                    </thead>
                    <tbody style="    font-family: sans-serif;">
                      <tr *ngFor="let item of searched_data;let ind =index"
                      style="white-space: nowrap;text-align: center;"[ngStyle]="{'color': getButtonColor(item.Status)}">
                      <td><input type="radio" name="value" id="value" (change)="selected_radio(item.OrderNumber,item)" [disabled]="item.Status=='3'||item.Status=='2'||item.Status=='0'"></td>
                      <td>{{ind+1}}</td>
                      <td>{{item.OrderNumber}}</td>
                     
                      <td >{{item.customer_name}}</td>
                      <td>{{item.dispatchdate}} {{item.dispatchtime}}</td>
                      <td >{{item.Source}}</td>
                      <td >{{item.Destination}}</td>
                      <td >{{item.Route_Sequence?.value}}</td>
                      <td >{{item.Vehicle_Capacity}}</td>
                      <td >{{item.Vehicle_Type}}</td>
                      <td >{{item.No_of_Vehicles}}</td>
                       <td style="color: green;">
                          <div class="row">
                            <ng-container *ngIf="item.Vehicle_Accessories[0]?.value">
                            <div class="col-3">
                              <img class="me-2" src="{{Safety_list[0].img}}" style="height: 3vh;">
                              <!-- <i class='fas fa-lock-open access' style="color: black;" title="{{item.Vehicle_Accessories[0]?.name}}"></i> -->
                            </div>
                            </ng-container>
                            <ng-container *ngIf="item.Vehicle_Accessories[3]?.value">
                            <div class="col-3">
                              <!-- <i class='fas fa-fire-extinguisher'></i> -->
                              <img class="me-2" src="{{Safety_list[3].img}}" style="height: 3vh;">
                              <!-- <i class='fas fa-fire-extinguisher' style="color: red;font-size: 22px;" title="{{item.Vehicle_Accessories[3]?.name}}"></i> -->
                            </div>
                            </ng-container>
                            <ng-container *ngIf="item.Vehicle_Accessories[1]?.value">
                            <div class="col-3">
                              <img class="me-2" src="{{Safety_list[1].img}}" style="height: 3vh;">
                              <!-- <i class='fa fa-map-marker access' style="color: green;font-size: 22px;" title="{{item.Vehicle_Accessories[1]?.name}}"></i> -->
                            </div>
                            </ng-container>
                            <ng-container *ngIf="item.Vehicle_Accessories[2]?.value">
                            <div class="col-3">
                              <!-- <i class="fas fa-user-friends"></i> -->
                              <img class="me-2" src="{{Safety_list[2].img}}" style="height: 3vh;">
                              <!-- <i class='fas fa-user-friends access' style="color: black;" title="{{item.Vehicle_Accessories[2]?.name}}"></i> -->
                            </div>
                            </ng-container>
                          </div>
                        </td>
                      <td  >{{item.Requirement}}</td>
                      
                     
      
      
                    <td><button type="button" style="    font-size: 15px; font-weight: 400;
                      color: green"[ngStyle]="{'color': getButtonColor(item.Status)}" >{{item.status_remark}}</button> </td>
                   
      
      
                  </tr>
                    </tbody>
                  </table>
                  </div>
              </div>
            </div>
          </div>
         <!-- Quote -->
         <div class="tab-pane fade" id="nav-Quote" role="tabpanel" aria-labelledby="nav-Quote-tab" style="min-height: 50vh !important">
          <div class="col-lg-12">
            <div class="fiter">
              <p>
  
                <a data-bs-toggle="collapse" data-bs-target="#collapseExample" role="button" aria-expanded="true"
                  aria-controls="collapseExample" style="font-size: 16px;">
                  <i class="fa fa-filter" aria-hidden="true"
                    style="font-size: 20px;color: gray ;margin-top: 8px;"></i>FILTER
                </a>
  
              </p>
              <div class="collapse show" id="collapseExample">
                <div>
                  <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;">
                    <!-- <nav class="flex-md-column"> -->
                      <!-- <div class="nav nav-tabs mm" id="nav-tab" role="tablist" style="border-bottom: none !important;"> -->
                        <!-- <button class="nav-link active" id="nav-Region-tab" data-bs-toggle="tab" data-bs-target="#nav-Region"
                          type="button" role="tab" aria-controls="nav-Region" aria-selected="true"
                         >Load Planner</button> -->
  
                        <!-- <button class="nav-link active all-button " id="nav-All-tab" data-bs-toggle="tab"
                          data-bs-target="#nav-All" type="button" role="tab" aria-controls="nav-All"
                          aria-selected="true" (click)="change_status1()">All</button> -->
                        <!-- REQUEST -->
                        <!-- <button class="nav-link all-button " id="nav-NEw-tab" data-bs-toggle="tab"
                          data-bs-target="#nav-NEw" type="button" role="tab" aria-controls="nav-NEw"
                          aria-selected="false" (click)="change_status()">New</button> -->
  
  
                      <!-- </div> -->
  
                    <!-- </nav> -->
                    <div class="tab-content" id="nav-tabContent">
                      <!-- statics -->
                      <!-- <div class="tab-pane fade show active" id="nav-Region" role="tabpanel" aria-labelledby="nav-Region-tab">
                       Load planner
                      </div> -->
                      <!-- ORDER -->
                      <div class="tab-pane fade show active" id="nav-All" role="tabpanel"
                        aria-labelledby="nav-ORDER-tab">
  
                        <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;"
                          *ngIf="All_data">
                          <!--  -->
                          <form #filterForm="ngForm" (ngSubmit)="filterSubmit(filterForm,'5')">
                            <div class="col-lg-12">
                              <div class="row">
                                <div class="col-lg-2">
                                  <span class="filtor_name">Start Date</span>
                                  <div class="input-group date" id="datepicker">
  
                                    <input type="input" id="quoteDateStart" (click)="commonDateSelectFn('#quoteDateStart')" class="form-control"
                                      [ngModel]="datetimepicker1" required name="from_Date" />
  
                                    <!-- <div class="input-group-append">
                              <span class="input-group-text">
                                <i class="fa fa-calendar" style="color: black !important;"></i>
                              </span>
                            </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">End Date</span>
                                  <div class="input-group date" id="datepicker">
  
                                    <input type="input" id="quoteDateEnd" (click)="commonDateSelectFn('#quoteDateEnd')"
                                      class="form-control" [ngModel]="datetimepicker1" required name="To_Date" />
  
                                    <!-- <div class="input-group-append">
                              <span class="input-group-text">
                                <i class="fa fa-calendar" style="color: black !important;"></i>
                              </span>
                            </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Order Id</span>
  
                                  <input type="input" name="Order_id" ngModel placeholder="Enter Order Id"
                                    class="form-control" />
  
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Client</span>
                                  <ng-select name="Client" id="ShipmentNo" #Clients="ngModel"
                                    [ngClass]="{'is-invalid': (Clients.invalid && (Clients.touched || filterForm.submitted))}"
                                    style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true" >
  
                                    <ng-option value selected>All</ng-option>
                                    <!-- <ng-option value="" >Close Body</ng-option>
                            <ng-option value="" >Open Body</ng-option> -->
                                    <ng-option [value]="item" *ngFor="let item of client">{{item.value}} </ng-option>
  
                                  </ng-select>
                                </div>
  
                                <!-- <div class="col-lg-2">
                          <span class="filtor_name">From</span>
                          <ng-select name="From"  id="ShipmentNo"
                          style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                         
                          <ng-option value="" selected>Select</ng-option>
                          <ng-option [value]="item" *ngFor="let item of Source">{{item.value}} </ng-option>
                          
                        </ng-select>
                        </div>
                        <span style="    position: absolute;
                           margin-left: 82%;
                        top: 31px;
                        width: 2px;"><i class="fa-solid fa-arrow-right-arrow-left" style="color: black;"></i></span>
                        <div class="col-lg-2">
                          <span class="filtor_name">To</span>
                          <ng-select name="To"  id="ShipmentNo"
                          style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                         
                          <ng-option value="" selected>Select</ng-option>
                          <ng-option [value]="item" *ngFor="let item of Destination">{{item.value}} </ng-option>
                          
                        </ng-select>
                        </div> -->
                                <!-- </div>
                         <div class="row"> -->
                                <div class="col-lg-1">
  
                                  <button class="btn btn-outline-primary searcg-button" type="submit">Search</button>
                                  <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
  
                      </div>
                      <div class="tab-pane fade" id="nav-NEw" role="tabpanel" aria-labelledby="nav-NEw-tab">
                        <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;"
                          *ngIf="!All_data">
                          <!--  -->
                          <form #filterForm="ngForm" (ngSubmit)="filterSubmit(filterForm,'5')">
                            <div class="col-lg-12">
                              <div class="row">
                                <div class="col-lg-2">
                                  <span class="filtor_name">Start Date</span>
                                  <div class="input-group date" id="datepicker">
  
                                    <input type="input" id="Date-select" (click)="Dateselect()" class="form-control"
                                      [ngModel]="datetimepicker1" required name="from_Date" />
  
                                    <!-- <div class="input-group-append">
                              <span class="input-group-text">
                                <i class="fa fa-calendar" style="color: black !important;"></i>
                              </span>
                            </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">End Date</span>
                                  <div class="input-group date" id="datepicker">
  
                                    <input type="input" id="Date-select_end" (click)="Dateselect1()"
                                      class="form-control" [ngModel]="datetimepicker1" required name="To_Date" />
  
                                    <!-- <div class="input-group-append">
                              <span class="input-group-text">
                                <i class="fa fa-calendar" style="color: black !important;"></i>
                              </span>
                            </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Order Id</span>
  
                                  <input type="input" name="Order_id" ngModel placeholder="Enter Order Id"
                                    class="form-control" />
  
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Client</span>
                                  <ng-select name="Client" id="ShipmentNo" #Clients="ngModel"
                                    [ngClass]="{'is-invalid': (Clients.invalid && (Clients.touched || filterForm.submitted))}"
                                    style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true" required>
  
                                    <ng-option value="" selected>Select</ng-option>
                                    <!-- <ng-option value="" >Close Body</ng-option>
                            <ng-option value="" >Open Body</ng-option> -->
                                    <ng-option [value]="item" *ngFor="let item of client">{{item.transporter_name}}
                                    </ng-option>
  
                                  </ng-select>
                                </div>
  
                                <!-- <div class="col-lg-2">
                          <span class="filtor_name">From</span>
                          <ng-select name="From"  id="ShipmentNo"
                          style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                         
                          <ng-option value="" selected>Select</ng-option>
                          <ng-option [value]="item" *ngFor="let item of Source">{{item.value}} </ng-option>
                          
                        </ng-select>
                        </div>
                        <span style="    position: absolute;
                           margin-left: 82%;
                        top: 31px;
                        width: 2px;"><i class="fa-solid fa-arrow-right-arrow-left" style="color: black;"></i></span>
                        <div class="col-lg-2">
                          <span class="filtor_name">To</span>
                          <ng-select name="To"  id="ShipmentNo"
                          style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                         
                          <ng-option value="" selected>Select</ng-option>
                          <ng-option [value]="item" *ngFor="let item of Destination">{{item.value}} </ng-option>
                          
                        </ng-select>
                        </div> -->
                                <!-- </div> -->
                                <!-- <div class="row"> -->
                                <div class="col-lg-1">
  
                                  <button class="btn btn-outline-primary searcg-button" type="submit">Search</button>
                                  <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
  
                    </div>
                  </div>
                  <!-- </ng-container> -->
                  <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                </div>
              </div>
  
  
  
            </div>
            <div class="col-lg-12" *ngIf="table_show">
              <div class="col-lg-3">
                <!--    data-bs-toggle="modal" data-bs-target="#upload"-->
                <button type="button" class="btn btn-success set-Assign col-lg-5" style="border-radius: 0px;
              background: #6ABD46  !important;" (click)="redirect()" [disabled]="!isRadioSelected">Assign vehicle</button>
                <button type="button" class="btn btn-danger set-Decline col-lg-5" style="border-radius: 0px;
              background: red !important;" (click)="orderstatus_Decline('5')" [disabled]="!isRadioSelected"> Decline
                  Request </button>
              </div>
              <div style="overflow: scroll;">
                <table class=" table" cellspacing="0" id="AssignvehicleQuote" width="100%">
                  <thead>
                    <tr style="text-align: center; white-space: nowrap;">
                      <th class="table-primary"> </th>
                      <th class="table-primary">SL</th>
                      <th class="table-primary">Order Number</th>
                      <th class="table-primary">Client</th>
                      <th class="table-primary">Dispatch Date & Time</th>
                      <th class="table-primary">Source</th>
                      <th class="table-primary">Destination</th>
                      <th class="table-primary">Route Sequence</th>
                      <th class="table-primary">Vehicle Capacity</th>
                      <th class="table-primary">Vehicle Type </th>
                      <th class="table-primary">No of Vehicles </th>
                      <th class="table-primary">Vehicle Accessories</th>
                      <th class="table-primary">Requirement </th>
    
                      <th class="table-primary">Status</th>
    
    
                    </tr>
                  </thead>
                  <tbody style="    font-family: sans-serif;">
                    <tr *ngFor="let item of searchedQuoteData;let ind =index"
                    style="white-space: nowrap;text-align: center;"[ngStyle]="{'color': getButtonColor(item.Status)}">
                    <td><input type="radio" name="value" id="value" (change)="selected_radio(item.OrderNumber,item)" [disabled]="item.Status=='3'||item.Status=='2'||item.Status=='0'"></td>
                    <td>{{ind+1}}</td>
                    <td>{{item.OrderNumber}}</td>
                   
                    <td >{{item.customer_name}}</td>
                    <td>{{item.dispatchdate}} {{item.dispatchtime}}</td>
                    <td >{{item.Source}}</td>
                    <td >{{item.Destination}}</td>
                    <td >{{item.Route_Sequence?.value}}</td>
                    <td >{{item.Vehicle_Capacity}}</td>
                    <td >{{item.Vehicle_Type}}</td>
                    <td >{{item.No_of_Vehicles}}</td>
                     <td style="color: green;">
                        <div class="row">
                          <ng-container *ngIf="item.Vehicle_Accessories[0]?.value">
                          <div class="col-3">
                            <img class="me-2" src="{{Safety_list[0].img}}" style="height: 3vh;">
                            <!-- <i class='fas fa-lock-open access' style="color: black;" title="{{item.Vehicle_Accessories[0]?.name}}"></i> -->
                          </div>
                          </ng-container>
                          <ng-container *ngIf="item.Vehicle_Accessories[3]?.value">
                          <div class="col-3">
                            <!-- <i class='fas fa-fire-extinguisher'></i> -->
                            <img class="me-2" src="{{Safety_list[3].img}}" style="height: 3vh;">
                            <!-- <i class='fas fa-fire-extinguisher' style="color: red;font-size: 22px;" title="{{item.Vehicle_Accessories[3]?.name}}"></i> -->
                          </div>
                          </ng-container>
                          <ng-container *ngIf="item.Vehicle_Accessories[1]?.value">
                          <div class="col-3">
                            <img class="me-2" src="{{Safety_list[1].img}}" style="height: 3vh;">
                            <!-- <i class='fa fa-map-marker access' style="color: green;font-size: 22px;" title="{{item.Vehicle_Accessories[1]?.name}}"></i> -->
                          </div>
                          </ng-container>
                          <ng-container *ngIf="item.Vehicle_Accessories[2]?.value">
                          <div class="col-3">
                            <!-- <i class="fas fa-user-friends"></i> -->
                            <img class="me-2" src="{{Safety_list[2].img}}" style="height: 3vh;">
                            <!-- <i class='fas fa-user-friends access' style="color: black;" title="{{item.Vehicle_Accessories[2]?.name}}"></i> -->
                          </div>
                          </ng-container>
                        </div>
                      </td>
                    <td  >{{item.Requirement}}</td>
                    
                   
    
    
                  <td><button type="button" style="    font-size: 15px; font-weight: 400;
                    color: green"[ngStyle]="{'color': getButtonColor(item.Status)}" >{{item.status_remark}}</button> </td>
                 
    
    
                </tr>
                  </tbody>
                </table>
                </div>
            </div>
          </div>
        </div>
  
          <!-- REQUEST -->
          <!-- <div class="tab-pane fade" id="nav-REQUEST" role="tabpanel" aria-labelledby="nav-REQUEST-tab">
            REQUEST
          </div> -->
          <!-- Trip -->
          <div class="tab-pane fade" id="nav-Trip" role="tabpanel" aria-labelledby="nav-Trip-tab">
            Trip
          </div>
          <!-- Billing -->
        
         <!-- Agreement -->
        
        
          <!-- Vehicle -->
      
  
          <!-- ---------------------------------------------- -->
             <!-- Driver -->
        
          <!-- ////////////////////////////////////////////////// -->
         
          <!-- mill -->
          <!-- <div class="tab-pane fade" id="nav-Mill" role="tabpanel" aria-labelledby="nav-Mill-tab">
          
            <div class="row" style="padding: 38px; margin: 30px;">
             
              <div class="col-lg-12">
                <div class="custume">
                  <div class="chart-container" id="chartContainer" style="position: relative;">
                    <canvas id="myChart" height="95"></canvas>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="info">
              <table class=" table" cellspacing="0" id="masterUpload4" width="100%">
                <thead>
                  <tr style="text-align: center; white-space: nowrap;">
                    <th class="table-primary">Mill</th>
                    <th class="table-primary">Total Challan</th>
                    <th class="table-primary">Tracked Vehicles</th>
    
                    <th class="table-primary">Total UN-AUTHORIZED LOCATION</th>
                  
                    <th class="table-primary">%</th>
                  </tr>
                </thead>
                <tbody>
                  <tr  *ngFor="let item of MillData;let ind =index" style="white-space: nowrap;text-align: center;">
                   
                    <td>{{item.mill}}</td>
                    <td>{{item.total_challan}}</td>
                    <td>{{item.tracked_vehicles}}</td>
                    <td>{{item.total_unauthorized_location}}</td>
                    <td>{{item.unauthorized_location_percentage}}</td>
                   
                  </tr>
                
                </tbody>
              </table>
            </div>
          
          </div>
          <div class="tab-pane fade" id="nav-Transporter" role="tabpanel" aria-labelledby="nav-Transporter-tab">
          
            <div class="row" style="padding: 38px; margin: 30px;">
             
              <div class="col-lg-12">
                <div class="custume">
                  <div class="chart-container" id="chartContainer" style="position: relative;">
                    <canvas id="myChart" height="95"></canvas>
                  </div>
                </div>
              </div>
            </div>
          
            <div class="info">
              <table class="  table" cellspacing="0" id="masterUpload5" width="100%">
                <thead>
                  <tr style="text-align: center; white-space: nowrap;">
                    <th class="table-primary">Total Challan</th>
                    <th class="table-primary">Tracked Vehicles</th>
                    <th class="table-primary">Total RED Flag</th>
                    <th class="table-primary">%</th>
                    <th class="table-primary">Total Minor Flag</th>
                    <th class="table-primary">%</th>
                    <th class="table-primary">Total UN-AUTHORIZED LOCATION</th>
                    <th class="table-primary">%</th>
                    <th class="table-primary">Total ROUTE DEVIATION</th>
                    <th class="table-primary">%</th>
                    <th class="table-primary">Total FORCE CLOSED</th>
                    <th class="table-primary">%</th>
                    <th class="table-primary">Total Score</th>
                    <th class="table-primary">AVG KPI Score</th>
                    <th class="table-primary">Sum of Good Trip</th>
                    <th class="table-primary">%</th>
                    <th class="table-primary">Alert Closed</th>
                    <th class="table-primary">%</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of TransporterData;let ind =index" style="white-space: nowrap;text-align: center;">
                 
                  <td>{{item.total_challan}}</td>
                  <td>{{item.tracked_vehicles}}</td>
                  <td>{{item.total_red_flag}}</td>
                  <td>{{item.red_flag_percentage}}</td>
                  <td>{{item.total_minor_flag}}</td>
                  <td>{{item.minor_flag_percentage}}</td>
                  <td>{{item.total_unauthorized_location}}</td>
                  <td>{{item.unauthorized_location_percentage}}</td>
                  <td>{{item.total_route_deviation}}</td>
                  <td>{{item.route_deviation_percentage}}</td>
                  <td>{{item.total_forced_closed}}</td>
                  <td>{{item.forced_closed_percentage}}</td>
                  <td>{{item.total_score}}</td>
                  <td>{{item.average_kpi_score}}</td>
                  <td>{{item.sum_of_good_trips}}</td>
                  <td>{{item.good_trip_percentage}}</td>
                  <td></td>
                  <td></td>
                </tr>
                </tbody>
              </table>
            </div>
        
          </div> -->
        </div>
      </div>
    </div>
  </div>
  
  <!-- //////////////////////////saumya  modal//////////////////////// -->
  <!-- ORDER MODAL OF ASSIGN VEHICLE -->
  <div class="modal fade" id="desklastalertModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
   
    <div class="modal-dialog" style="     max-width: 78vw;">
      <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" name="spniiner-1" [fullScreen]="false"
      type="ball-spin-clockwise"> </ngx-spinner>
      <div class="modal-content" style="height: 634px;    overflow: scroll;">
        <!-- (ngSubmit)="Assign_vehicle_Addsubmit()" -->
        <form [formGroup]="Assign_vehicle" >
          <div class="modal-header" style="background-color: white;">
            <div style="display:inline-table;">
  
  
            </div>&nbsp;
            <button class="btn-close btn-sm" id="btnUncheckAll" data-bs-dismiss="modal" aria-label="Close" (click)="clearAllForms()"></button>
  
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-11"></div>
              <div class="col-lg-1" style="    text-align: center;">
                <!--  [disabled]="!Assign_vehicle.valid" -->
                <button (click)="accordian_increase()"[disabled]="!Assign_vehicle.valid" ><i class="fa fa-plus" style="font-size: 20px;"></i></button>
              </div>
            </div>
  
            <div class="accordion-shadow">
              <ngb-accordion  #accordion="ngbAccordion"   [destroyOnHide]="false" [closeOthers]="true" (panelChange)="panelShadow($event, shadow)"
               #shadow formArrayName="invoicearray">
                <ng-container>
                  <ngb-panel *ngFor="let i of  getinvoice().controls;let idx=index" [formGroupName]="idx"
                    [id]="'panel-' + idx">
                    <ng-template ngbPanelTitle style="padding: 0px;">
                      <!-- <i class="fa fa-minus-circle plusicon"></i> style="height: 384px;
      overflow: auto;" -->
                      <div class="row" >
                        <div class="col-lg-2">
                          <div class="acc-set"> Assign Vehicle {{ idx + 1 }} </div>
                        </div>
                        <div class="col-lg-8"> </div>
                        <div class="col-lg-2" style="    text-align: end;">
                          <a   class="v-button me-2" title="Edit"><i class="fa fa-edit csstab"></i> </a>
                          <a class="v-button me-2" (click)="delete_accordian(idx)" title="Delete"> <i
                              class="far fa-times-circle csstab"></i></a>
  
                               <!-- <button class="accordion-button custom" type="button" >
                               
                              </button> -->
                          <a  class="v-button me-2">
                            <!-- <i class="fa-solid fa-chevron-down  plusicon csstab"></i> -->
                            <i class="fa fa-minus-circle plusicon csstab"></i>
                          </a>
                        </div>
  
  
                      </div>
                    </ng-template>
                    <ng-template ngbPanelContent   [ngbCollapse]="isCollapsed[idx]">
                      <!-- <div class=""> -->
                      <div class="row" >
                        <div class="col-lg-2"><Span class="number-v">Assign Vehicle {{ idx + 1 }}</Span> </div>
                        <div class="col-lg-10"></div>
  
                      </div>
                      <div class="row mt-2">
                        <div class="col-lg-3">
                          <span class="filtor_name">Vehicle Number</span>
                          <ng-select name="Bookingtype" formControlName="Vehicle"  [ngClass]="{ 'input-error': isCheckboxInvalid(idx,'Vehicle') }"
                            style="font-size: 14px;font-weight: 400;" [closeOnSelect]="true" (change)="Get_vehicle($event.vehicle_id,idx)">
  
                            <ng-option value="" selected>Select</ng-option>
                           
                            <ng-option [value]="item" *ngFor="let item of Vehicle_list">{{item.vehicle_no}}</ng-option>
  
                          </ng-select>
                          
                        </div>
                        <div class="col-lg-3">
                          <span class="filtor_name">Vehicle Capacity</span>
                          <input type="text"  class="form-control" placeholder="Vehicle Capacity" required [ngClass]="{ 'input-error': isCheckboxInvalid(idx,'Capacity') }"
                            formControlName="Capacity" style="background-color: white;"  [value]="Vehiclefull_information[idx]?.vehicle_data?.vehicle_capacity_tons" />
                        </div>
                        <div class="col-lg-3">
                          <span class="filtor_name">Vehicle Type</span>
                          
                          <input type="text"  class="form-control" placeholder="Vehicle Type" required [ngClass]="{ 'input-error': isCheckboxInvalid(idx,'Type') }"
                            formControlName="Type" style="background-color: white;"  [value]="Vehiclefull_information[idx]?.vehicle_data?.vehicle_type" />
                          <!-- <ng-select name="Vehicletype" formControlName="Type" style="font-size: 14px;font-weight: 400;"
                            [closeOnSelect]="true">
  
                            <ng-option value="" selected>Select</ng-option>
                            <ng-option value="1">UP45621</ng-option>
                            <ng-option value="2">UP87878</ng-option>
                            <ng-option [value]="item" *ngFor="let item of Booking_Type">{{item.value}}</ng-option>
  
                          </ng-select> -->
                        </div>
                      </div>
                      <!-- starts---- -->
                      <!-- <ng-container> -->
                        <div class="row mt-3">
                          <div class="col-lg-2"><Span class="number-v">Vehicle Details</Span> </div>
                          <div class="col-lg-10"></div>
  
                        </div>
                        <!-- Registration Certificate -->
                      <ng-container *ngFor="let item of info_store;let i=index ">
                        <div class="row mt-3">
                          <div class="col-lg-3 d-flex align-items-center">
                            <!-- <i class="fa fa-file me-2" style="font-size: 20px;"></i> -->
                            <img class="me-2" src="{{name_vehicle[i].img}}" style="height: 3vh;">
                            <!-- <span class="document-v">Registration Certificate (RC)*</span> -->
                            <span class="document-v">{{name_vehicle[i].name}} *</span>
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='1'">
                            <img class="me-2" src="assets/imagesnew/Icon/verified.png" style="height: 3vh;margin-top: 2px;">
                            </ng-container>
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='0'">
                              <img class="me-2" src="assets/imagesnew/Icon/unsubmit.png" style="height: 3vh;margin-top: 2px;">
                              </ng-container>
                          </div>
  
                          <div class="col-lg-1 d-flex align-items-center">
                            <!-- <a > -->
                              <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='1'">
                            <i class="fa-solid fa-arrow-up-from-bracket me-2"
                              style="font-size: 19px;    color: #6ABD46; "></i>
                              <!-- (click)="vehicle_upload('V',Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,Vehiclefull_information[idx]?.vehicle_data?.id)" -->
                            <!-- </a> -->
                            <span class="Upload-v" style="color: #6ABD46;"  >Upload</span>
                            <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>
                              </ng-container>
                              <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='0'">
  
                                <i class="fa-solid fa-arrow-up-from-bracket me-2"(click)="vehicle_upload('V',Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,Vehiclefull_information[idx]?.vehicle_data?.id,idx,name_vehicle[i].name)"
                                  style="font-size: 19px;    color: red; cursor: pointer;"></i>
                                <!-- </a> -->
                               <a (click)="vehicle_upload('V',Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,Vehiclefull_information[idx]?.vehicle_data?.id,idx,name_vehicle[i].name)">
                                 <span class="Upload-v" style="color: red;cursor: pointer;" >Upload</span></a>
                                <span class="straight-v ms-3" style="color: red;" >|</span>
                                  </ng-container>
                          
                          </div>
  
  
  
  
                          <div class="col-lg-1 d-flex align-items-center">
                            <!-- <a (click)="Driver_edit()"> -->
                              <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='1'">
                            <i class="fa fa-eye me-2" style="font-size: 19px;    color: #6ABD46; cursor: pointer;" (click)="view_info(Vehiclefull_information[idx]?.documents[item], Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,'V',Vehiclefull_information[idx])"></i>
                            <a (click)="view_info(Vehiclefull_information[idx]?.documents[item], Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,'V',Vehiclefull_information[idx])">
                               <span class="Upload-v" style="color: green; cursor: pointer;">View</span>
                              </a>
                            <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>   
                          </ng-container>
                              <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='0'">
                                <i class="fa fa-eye me-2" style="font-size: 19px;    color: red;cursor: pointer; "></i>
                                <!-- <a (click)="Driver_edit(Vehiclefull_information[idx]?.documents?.RegistrationCertificate, Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,'V')">  -->
                                  <span class="Upload-v" style="color: red; cursor: pointer;">View</span>
                                <!-- </a> -->
                                <span class="straight-v ms-3" style="color: red;" >|</span>    
                              </ng-container>
  
  
  
  
                            <!-- </a> -->
                            <!-- <span class="straight-v ms-3">|</span> -->
                          </div>
  
                          <div class="col-lg-1 d-flex align-items-center">
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='1'">
                            <a (click)="Driver_edit(Vehiclefull_information[idx]?.documents[item], Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,'V',idx,Vehiclefull_information[idx]?.vehicle_data?.id)">
                              <i class="fa fa-edit me-2" style="font-size: 19px;    color: #6ABD46;cursor: pointer; "></i>
                            </a>
                            <a (click)="Driver_edit(Vehiclefull_information[idx]?.documents[item], Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,'V',idx,Vehiclefull_information[idx]?.vehicle_data?.id)">
                              <!-- <i class="fa fa-edit me-2" style="font-size: 19px;    color: #6ABD46; "></i> -->
                              <span class="Upload-v" style="color: #6ABD46; cursor: pointer;">Edit</span>
                            </a>
                            <!-- <a (click)="Driver_edit(Vehiclefull_information[idx]?.documents?.RegistrationCertificate, Vehiclefull_information[idx]?.vehicle_data?.vehicle_number)"> -->
                              
                            <!-- </a> -->
                            <!-- <span class="straight-v ms-3">|</span> -->
                            <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>
                          </ng-container>
                          <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='0'">
                            <!-- <a (click)="Driver_edit(Vehiclefull_information[idx]?.documents[item], Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,'V',idx)"> -->
                              <i class="fa fa-edit me-2" style="font-size: 19px;    color: red;cursor: pointer; "></i>
                            <!-- </a> -->
                            <!-- <a (click)="Driver_edit(Vehiclefull_information[idx]?.documents[item], Vehiclefull_information[idx]?.vehicle_data?.vehicle_number,'V',idx)"> -->
                              <!-- <i class="fa fa-edit me-2" style="font-size: 19px;    color: red; "></i> -->
                              <span class="Upload-v" style="color: red;cursor: pointer;">Edit</span>
                            <!-- </a> -->
                            <!-- <a (click)="Driver_edit(Vehiclefull_information[idx]?.documents?.RegistrationCertificate, Vehiclefull_information[idx]?.vehicle_data?.vehicle_number)"> -->
                              
                            <!-- </a> -->
                            <span class="straight-v ms-3" style="color: red;" >|</span>
                          </ng-container>
                          </div>
  
                          <div class="col-lg-1 d-flex align-items-center">
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='1'">
                            <i class="fa fa-trash  me-2" style="font-size: 19px;    color: #6ABD46; cursor: pointer;" (click)="documentChangeStatus(Vehiclefull_information[idx]?.documents[item]?.id)"></i>
                           <a  (click)="documentChangeStatus(Vehiclefull_information[idx]?.documents[item]?.id)"> 
                            <span class="Upload-v" style="color:#6ABD46;cursor: pointer;">Delete</span>
                           </a>
                            <!-- <span class="straight-v ms-3" >|</span> -->
                             
                            <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>
                            </ng-container>
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='0'">
                              <i class="fa fa-trash  me-2" style="font-size: 19px;    color: red; "></i>
                              <span class="Upload-v" style="color: red;">Delete</span>
                              <!-- <span class="straight-v ms-3" >|</span> -->
                               
                              <span class="straight-v ms-3" style="color: red;" >|</span>
                              </ng-container>
                          </div>
                          <div class="col-lg-1 d-flex align-items-center">
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='1'">
                            <span class="Upload-v" style="color: #6ABD46;">Submit</span>
                            <i class="fa-regular fa-circle-check  ms-2" style="font-size: 19px;    color: #6ABD46; "></i>
                            </ng-container>
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='0'">
                              <span class="Upload-v" style="color: red;">Submit</span>
                              <i class="fa-regular fa-times-circle-o  ms-2" style="font-size: 19px;    color: red; "></i>
                              </ng-container>
                            <!-- <span class="straight-v ms-3" ><i class="fa-regular fa-circle-check"></i></span> -->
                          </div>
                          <div class="col-lg-1 d-flex align-items-center">
                            <!-- <span class="Upload-v" style="color: green;"> Registration Certicate Uploaded Successfully</span> -->
                          </div>
                          <div class="col-lg-3 d-flex align-items-center">
                            <ng-container *ngIf="Vehiclefull_information[idx]?.documents[item]?.status=='0'">
                            <span class="Upload-v" style="color: #6ABD46;font-size: 13px;"> {{Vehiclefull_information[idx]?.documents[item]?.expiryremark}}</span>
                            </ng-container>
                          </div>
                        </div>
                      </ng-container>
                   
                        <!-- Registration Certificate END ----------------------------------------------------------------------------->
  
                      
                      <!-- Fitness Certicate* END ---------------------------------------------------------------------------------------------------->
                      <!-- -------------------------------------------- Vehicle Safety Features ----------------------------------------------------------------------->
                      <div class="row mt-5">
                        <div class="col-lg-3"><Span class="number-v">Vehicle Safety Features</Span> </div>
                        <div class="col-lg-9"></div>
  
                      </div>
                      <div class="row mt-3">
                      <ng-container *ngFor="let safty of Vehiclefull_information[idx]?.vehicle_data?.safety_features ;let s=index">
                        <div class="col-lg-2 d-flex align-items-center" style="    width: 10vw;">
                          <!-- <i class="fa fa-map-marker me-2" style="font-size: 20px; color: green;"></i> -->
                          <img class="me-2" src="{{Safety_list[s].img}}" style="height: 3vh;">
                          <span class="document-v">{{safty.name}}</span>
                          <input type="checkbox" class="ms-2" [checked]="safty.value"formArrayName="safetyFeatures" [formControlName]="s" 
                          (change)="toggleSafetyFeature(idx, s)">
                        </div>
                      </ng-container>
  
  
                      <!-- <ng-container *ngFor="let safty of Vehiclefull_information[idx]?.vehicle_data?.safety_features; let s=index">
                        <div class="row mt-3">
                          <div class="col-lg-2 d-flex align-items-center">
                            <img class="me-2" src="{{ Safety_list[s].img }}" style="height: 3vh;">
                            <span class="document-v">{{ safty.name }}</span>
                            <input type="checkbox" class="ms-2" [checked]="safty.value" formArrayName="safetyFeatures" [formControlName]="s">
                          </div>
                        </div>
                      </ng-container> -->
  
  
                        <!-- <div class="col-lg-2 d-flex align-items-center" style="    width: 8vw;">
                          <i class="fa fa-map-marker me-2" style="font-size: 20px;"></i>
                          <span class="document-v">E-Lock</span>
                          <input type="checkbox" class="ms-2">
                        </div>
                        <div class="col-lg-2 d-flex align-items-center" style="    width: 10vw;">
                          <i class="fa fa-map-marker me-2" style="font-size: 20px;"></i>
                          <span class="document-v">Fire Safety</span>
                          <input type="checkbox" class="ms-2">
                        </div>
                        <div class="col-lg-2 d-flex align-items-center">
                          <i class="fa fa-map-marker me-2" style="font-size: 20px;"></i>
                          <span class="document-v">Dual Driver</span>
                          <input type="checkbox" class="ms-2">
                        </div> -->
  
                      </div>
                      <!----------------------------------------------- Vehicle Safety Features---------------------------------------------------------------------------------------- -->
                      <!-- Driver------------------------------------ -->
                      <ng-container>
                        <div class="row">
                        <div class="col-lg-9">
                        <div class="row mt-3">
                          <div class="col-lg-2"><Span class="number-v">Driver Details</Span> </div>
                          <div class="col-lg-8"></div>
                          <div class="col-lg-2">
                            <!-- <img src=""> -->
                        
                          </div>
  
                        </div>
                        <div class="row mt-2">
                          <div class="col-lg-6">
                            <span class="filtor_name">Driver's Name</span>
                            <ng-select name="Bookingtype" formControlName="Driver"[ngClass]="{ 'input-error': isCheckboxInvalid(idx,'Driver') }"
                              style="font-size: 14px;font-weight: 400;" [closeOnSelect]="true" (change)="get_driver($event.id,idx)">
    
                              <ng-option value="" selected>Select</ng-option>
                              <!-- <ng-option value="1">UP45621</ng-option>
                              <ng-option value="2">UP87878</ng-option> -->
                              <ng-option [value]="item" *ngFor="let item of Driver_list">{{item.name}}</ng-option>
    
                            </ng-select>
                          </div>
                          <div class="col-lg-6">
                            <span class="filtor_name">Phone Number</span>
                            <input type="text" step="1" class="form-control" placeholder="Vehicle Capacity" required
                              formControlName="Phone"  [value]="driverfull_information[idx]?.driver_data?.mob_no" [ngClass]="{ 'input-error': isCheckboxInvalid(idx,'Phone') }" />
                          </div>
                          <!-- <div class="col-lg-4">
                            <span class="filtor_name"> Driver's Photograph</span> -->
                            <!-- <input type="file" step="1" class="form-control" placeholder="Vehicle Capacity" required
                            formControlName="Capacity" /> -->
                            <!-- <input type="text" class="form-control" placeholder="Vehicle Capacity" readonly /> -->
                        <!-- <input type="file" id="file" class="file-input form-control " required formControlName="Photograph"  style="display: block !important;"(click)="vehicle_upload('D',driverfull_information[idx]?.driver_data?.name,driverfull_information[idx]?.driver_data?.id,idx)" /> -->
                         <!-- <label for="file" class="file-icon"> upload Photograph<i class="fas fa-file-upload"></i></label> -->
                          <!-- </div> -->
                        </div>
                        </div><div class="col-lg-3" style="    text-align: center;padding-bottom: 0px;">
                          <!-- <i class="fas fa-user-circle" style="font-size: 50px"></i> -->
                           <div class="driver-img" style="width: 6vw; margin-top: 4vh; height: 9vh;">
                            <img [src]="driverfull_information[idx]?.documents.Photograph?.file_path" style="width: 6vw;height: 11vh;">
                           </div>
                        </div>
                        </div>
  
  
                        <ng-container *ngFor="let item of info_store_driver;let i=index ">
                          <div class="row mt-3">
                            <div class="col-lg-3 d-flex align-items-center">
                              <!-- <i class="fa fa-file me-2" style="font-size: 20px;"></i> -->
                              <img class="me-2" src="{{Driver_documentList[i]?.img}}" style="height: 3vh;">
                              <!-- <span class="document-v">Registration Certificate (RC)*</span> -->
                              <span class="document-v">{{Driver_documentList[i]?.name}} *</span>
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='1'">
                              <img class="me-2" src="assets/imagesnew/Icon/verified.png" style="height: 3vh;margin-top: 2px;">
                              </ng-container>
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='0'">
                                <img class="me-2" src="assets/imagesnew/Icon/unsubmit.png" style="height: 3vh;margin-top: 2px;">
                                </ng-container>
                            </div>
    
                            <div class="col-lg-1 d-flex align-items-center">
                              <!-- <a > -->
                                <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status==1">
                              <i class="fa-solid fa-arrow-up-from-bracket me-2"
                                style="font-size: 19px;    color: #6ABD46; "></i>
                                <!-- (click)="vehicle_upload('V',driverfull_information[idx]?.vehicle_data?.name,driverfull_information[idx]?.vehicle_data?.id)" -->
                              <!-- </a> -->
                              <span class="Upload-v" style="color: #6ABD46;" formControlName="Capacity">Upload</span>
                              <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>
                                </ng-container>
                                <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='0'">
    
                                  <i class="fa-solid fa-arrow-up-from-bracket me-2"(click)="vehicle_upload('D',driverfull_information[idx]?.driver_data?.name,driverfull_information[idx]?.driver_data?.id,idx,Driver_documentList[i]?.name)"
                                    style="font-size: 19px;    color: red; cursor: pointer;"></i>
                                  <!-- </a> -->
                                 <a (click)="vehicle_upload('D',driverfull_information[idx]?.driver_data?.name,driverfull_information[idx]?.driver_data?.id,idx,driverfull_information[idx]?.documents[item])">
                                   <span class="Upload-v" style="color: red;cursor: pointer;">Upload</span></a>
                                  <span class="straight-v ms-3" style="color: red;" >|</span>
                                    </ng-container>
                            
                            </div>
    
    
    
    
                            <div class="col-lg-1 d-flex align-items-center">
                              <!-- <a (click)="Driver_edit()"> -->
                                <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='1'">
                              <i class="fa fa-eye me-2" style="font-size: 19px;    color: #6ABD46; cursor: pointer;" (click)="view_info(driverfull_information[idx]?.documents[item], driverfull_information[idx]?.driver_data?.name,'D',driverfull_information[idx])"></i>
                              <a (click)="view_info(driverfull_information[idx]?.documents[item], driverfull_information[idx]?.driver_data?.name,'D',driverfull_information[idx])">
                                 <span class="Upload-v" style="color: #6ABD46; cursor: pointer;">View</span>
                                </a>
                              <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>   
                            </ng-container>
                                <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='0'">
                                  <i class="fa fa-eye me-2" style="font-size: 19px;    color: red;cursor: pointer; "></i>
                                  <!-- <a (click)="Driver_edit(driverfull_information[idx]?.documents?.RegistrationCertificate, driverfull_information[idx]?.vehicle_data?.name,'V')">  -->
                                    <span class="Upload-v" style="color: red; cursor: pointer;">View</span>
                                  <!-- </a> -->
                                  <span class="straight-v ms-3" style="color: red;" >|</span>    
                                </ng-container>
    
    
    
    
                              <!-- </a> -->
                              <!-- <span class="straight-v ms-3">|</span> -->
                            </div>
    
                            <div class="col-lg-1 d-flex align-items-center">
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='1'">
                              <a (click)="Driver_edit(driverfull_information[idx]?.documents[item], driverfull_information[idx]?.driver_data?.name,'D',idx, driverfull_information[idx]?.driver_data?.name)">
                                <i class="fa fa-edit me-2" style="font-size: 19px;    color: #6ABD46;cursor: pointer; "></i>
                              </a>
                              <a (click)="Driver_edit(driverfull_information[idx]?.documents[item], driverfull_information[idx]?.driver_data?.name,'D',idx, driverfull_information[idx]?.driver_data?.name)">
                                <!-- <i class="fa fa-edit me-2" style="font-size: 19px;    color: #6ABD46; "></i> -->
                                <span class="Upload-v" style="color: #6ABD46; cursor: pointer;">Edit</span>
                              </a>
                              <!-- <a (click)="Driver_edit(driverfull_information[idx]?.documents?.RegistrationCertificate, driverfull_information[idx]?.driver_data?.name)"> -->
                                
                              <!-- </a> -->
                              <!-- <span class="straight-v ms-3">|</span> -->
                              <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>
                            </ng-container>
                            <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='0'">
                              <!-- <a (click)="Driver_edit(driverfull_information[idx]?.documents[item], driverfull_information[idx]?.driver_data?.name,'D',idx, driverfull_information[idx]?.driver_data?.id)"> -->
                                <i class="fa fa-edit me-2" style="font-size: 19px;    color: red;cursor: pointer; "></i>
                              <!-- </a> -->
                              <!-- <a (click)="Driver_edit(driverfull_information[idx]?.documents[item], driverfull_information[idx]?.driver_data?.name,'D',idx, driverfull_information[idx]?.driver_data?.id)"> -->
                                <!-- <i class="fa fa-edit me-2" style="font-size: 19px;    color: red; "></i> -->
                                <span class="Upload-v" style="color: red;cursor: pointer;">Edit</span>
                              <!-- </a> -->
                              <!-- <a (click)="Driver_edit(driverfull_information[idx]?.documents?.RegistrationCertificate, driverfull_information[idx]?.vehicle_data?.name)"> -->
                                
                              <!-- </a> -->
                              <span class="straight-v ms-3" style="color: red;" >|</span>
                            </ng-container>
                            </div>
    
                            <div class="col-lg-1 d-flex align-items-center">
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='1'">
                              <i class="fa fa-trash  me-2" style="font-size: 19px;    color: #6ABD46; cursor: pointer;" (click)="documentChangeStatus(driverfull_information[idx]?.documents[item]?.id)"></i>
                             <a  (click)="documentChangeStatus(driverfull_information[idx]?.documents[item]?.id)"> 
                              <span class="Upload-v" style="color:#6ABD46;cursor: pointer;">Delete</span>
                             </a>
                              <!-- <span class="straight-v ms-3" >|</span> -->
                               
                              <span class="straight-v ms-3" style="color: #6ABD46;" >|</span>
                              </ng-container>
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='0'">
                                <i class="fa fa-trash  me-2" style="font-size: 19px;    color: red; "></i>
                                <span class="Upload-v" style="color: red;">Delete</span>
                                <!-- <span class="straight-v ms-3" >|</span> -->
                                 
                                <span class="straight-v ms-3" style="color: red;" >|</span>
                                </ng-container>
                            </div>
                            <div class="col-lg-1 d-flex align-items-center">
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='1'">
                              <span class="Upload-v" style="color: #6ABD46;">Submit</span>
                              <i class="fa-regular fa-circle-check  ms-2" style="font-size: 19px;    color: #6ABD46; "></i>
                              </ng-container>
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='0'">
                                <span class="Upload-v" style="color: red;">Submit</span>
                                <i class="fa-regular fa-times-circle-o  ms-2" style="font-size: 19px;    color: red; "></i>
                                </ng-container>
                              <!-- <span class="straight-v ms-3" ><i class="fa-regular fa-circle-check"></i></span> -->
                            </div>
                            <div class="col-lg-1 d-flex align-items-center">
                              <!-- <span class="Upload-v" style="color: green;"> Registration Certicate Uploaded Successfully</span> -->
                            </div>
                            <div class="col-lg-3 d-flex align-items-center">
                              <ng-container *ngIf="driverfull_information[idx]?.documents[item]?.status=='0'">
                              <span class="Upload-v" style="color: #6ABD46;font-size: 13px;"> {{driverfull_information[idx]?.documents[item]?.expiryremark}}</span>
                              </ng-container>
                            </div>
                          </div>
                        </ng-container>
  
  
  
  
  
                       
  
                      </ng-container>
                      <div class="row mt-3">
                        <div class="col-lg-2"><Span class="number-v">Remark</Span> </div>
                        <div class="col-lg-8"></div>
                        <div class="col-lg-2">
                          <!-- <img src=""> -->
                      
                        </div>
  
                      </div>
                      <div class="row mt-3">
                        <div class="col-lg-3">
                          <input type="text" class="form-control"formControlName="remark" >
                        </div>
                        <div class="col-lg-9"></div>
                        </div>
  
                        <div class="row mt-3">
                          <div class="col-lg-2"><Span class="number-v">Declaimer*</Span> </div>
                          <div class="col-lg-8"></div>
                          <div class="col-lg-2">
                            <!-- <img src=""> -->
                        
                          </div>
    
                        </div>
                        <div class="row mt-3">
                          <div class="col-lg-12 d-flex">
                            <input type="checkbox" class="me-2" formControlName="checkbox"[ngClass]="{ 'input-error': isCheckboxInvalid(idx,'checkbox') }"
                           >
                            <div *ngIf="isCheckboxInvalid(idx,'checkbox')" class="help-block" style="color: red;">Checkbox is required.</div>
                            <p  style="
                            margin-bottom: 0px;
                        ">
                        
                        I hereby declare that all the information given above is true and correct to the best of my knowledge.</p></div>
                          
  
                      </div>
  
                      <div class="row mt-3">
                        <div _ngcontent-tee-c230="" class="col-lg-12 d-flex">
                          <!-- patchSafetyFeatures(idx); -->
                          <button class="btn btn-success" (click)="patchSafetyFeatures(idx)"[disabled]="!isCheckboxSelected(idx)" >Assign Vehicle</button>
                      </div>
                        
  
                    </div>
                      <!-- </div> -->
                      <!-- <input type="text" formControlName="Vehicle">
                     <button type="submit">submit</button> -->
  
                    </ng-template>
                  </ngb-panel>
                </ng-container>
              </ngb-accordion>
            </div>
           
          </div>
              <!-- <div class="modal-footer"> [ngClass]="{ 'input-error': isCheckboxInvalid(i,'Quote') }"-->
              <!-- <div class="row">
  
                <div class="col-lg-3" >
                  <ng-container *ngIf="OneRow_Data?.Status=='5'">
                  <span class="filtor_name" style="margin-left: 54px;font-size: 24px;    font-size: 17px;">Quote Amount</span>
                  <input type="number"  class="form-control" placeholder=" Quote Amount" required 
                    formControlName="Quote" style=" background-color: white;
                    width: 11vw;
                    font-size: 14px;
                    text-align: center;
                    margin-left: 10%;"   />
                                </ng-container>
                </div>
  
              <div class="col-lg-9">
                <button class="btn mt-2" (click)="Assign_vehicle_Addsubmit()" style="    margin-left: 23%;
                width: 11vw;
                background: #6ABD46;
                color: white;"[disabled]="isSubmitDisabled()" > Submit</button>
              </div>
              </div> -->
        </form>
      </div>
  
    </div>
  </div>
  <!-- END  ORDER MODAL OF ASSIGN VEHICLE -->
  <!-- modal -->
  <div class="modal fade" id="upload"tabindex="-1" role="dialog" aria-labelledby="uploadModalLabel" aria-hidden="true"aria-hidden="false" data-bs-backdrop="static" data-bs-keyboard="false">
    <form #Driverupload="ngForm"(ngSubmit)="uploaddriver_submit(Driverupload,2)" >
    <div class="modal-dialog modal-custom" role="document">
      <div class="modal-content">
      
        <div class="modal-header">
          <h5 class="modal-title" id="uploadModalLabel">Add New Document</h5>
          <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close" (click)="Driverupload.resetForm()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <!-- (ngSubmit)="uploaddriver_submit(Driverupload)" -->
        
          <div class="modal-body">
          
            <div class="row mt-3">
              <div class="col-lg-12">
                <ng-container *ngIf="select=='D'">
                <span class="filtor_name">Driver's Name</span>
                </ng-container>
                <ng-container *ngIf="select=='V'">
                  <span class="filtor_name">Vehicle Number</span>
                  </ng-container>
                <input type="text" autocomplete="off" class="form-control"  style="    background: white;"
         [value]="Driver_name" disabled>
                
                
                <!-- <ng-select 
                  name="Driver" 
                  ngModel 
                  #Driver="ngModel"
                  required
                  style="font-size: 14px; font-weight: 400;" 
                  [closeOnSelect]="true"
                  [ngClass]="{'is-invalid': (Driver.invalid && (Driver.touched || Driverupload.submitted)) || (!Driver.touched && Driverupload.submitted)}"
                >
                  <ng-option value="" selected>Select</ng-option>
                  <ng-option  *ngFor="let item of Driver_list" value="{{item.id}}">{{item.name}}</ng-option>
               
                </ng-select> -->
                <!-- <div *ngIf="(Driver.invalid && (Driver.touched || Driverupload.submitted)) || (!Driver.touched && Driverupload.submitted)" class="invalid-feedback">
                  Please select a vehicle.
                </div> -->
              </div>
            </div>
        
            <div class="row mt-3">
              <div class="col">
                <span class="filtor_name">Document Type</span>
                <ng-container *ngIf="select=='D'">
                <ng-select 
                
                  name="Documenttype_1" 
                  [(ngModel)]="Document_name" 
                  #Documenttype="ngModel"
                  
                  (ngModelChange)="onDocumentTypeChange($event)"
                  style="font-size: 14px;font-weight: 400;" 
                  [closeOnSelect]="true"
                  disabled
                  >
                  <ng-option value="" selected>Select</ng-option>
                  <ng-option *ngFor="let item of documentMasters_list?.driver;" [value]="item">{{item.name}}</ng-option>
                  <div *ngIf="(Documenttype.invalid && (Documenttype.touched || Driverupload.submitted)) || (!Documenttype.touched && Driverupload.submitted)" class="invalid-feedback">
                    Please select a document type.
                  </div>
                </ng-select>
                </ng-container>
                <ng-container *ngIf="select=='V'">
                  <ng-select 
                    name="Documenttype_1" 
                    [(ngModel)]="Document_name" 
                    #Documenttype="ngModel"
                    disabled
                    (ngModelChange)="onDocumentTypeChange($event)"
                    style="font-size: 14px;font-weight: 400;" 
                    [closeOnSelect]="true"
                   >
                    <ng-option value="" selected>Select</ng-option>
                    <ng-option *ngFor="let item of documentMasters_list?.vehicle;" [value]="item">{{item.name}}</ng-option>
                    
                  </ng-select>
                 
                <div *ngIf="(Documenttype.invalid && (Documenttype.touched || Driverupload.submitted)) || (!Documenttype.touched && Driverupload.submitted)" class="invalid-feedback">
                  Please select a document type.
                </div>
              </ng-container>
              <!-- <span class="filtor_name">Document Type</span>
                
                <input type="text" autocomplete="off" class="form-control"  style="    background: white;"
         [value]="Document_name" disabled> -->
              </div>
        
              <div class="col" *ngIf="document_for !== 'Photograph'">
                <span class="filtor_name">Document Number</span>
                <input type="number" step="1"autocomplete="off" class="form-control" placeholder="Document Number" required name="documentNumber_1"
                ngModel   #documentNumber="ngModel" [ngClass]="{'is-invalid': (documentNumber.invalid && (documentNumber.touched || Driverupload.submitted))}"
                >
                <div *ngIf="(documentNumber.invalid && (documentNumber.touched || Driverupload.submitted))" class="invalid-feedback">
                  Document number is required.
                </div>
              </div>
            </div>
        
            <div class="row mt-3" *ngIf="document_for !== 'Photograph'">
              <div class="col">
                <span class="filtor_name">Issue Date</span>
                <div class="input-group date" id="datepicker">
                  <input type="date" id="Date-Issue" class="form-control" autocomplete="off" required
                     name="from_Date_1" ngModel #fromDate="ngModel" [ngClass]="{'is-invalid': (fromDate.invalid && (fromDate.touched || Driverupload.submitted))}"
                  >
                  <!-- <div class="input-group-append">
                    <span class="input-group-text">
                      <i class="fa fa-calendar" style="color: black !important;"></i>
                    </span>
                  </div> -->
                </div>
                <div *ngIf="(fromDate.invalid && (Issue_status))" class="invalid-feedback">
                  Issue date is required.
                </div>
              </div>
        
              <div class="col" *ngIf="document_for !== 'Aadhaar Card' && document_for !== 'Pan Card'">
                <span class="filtor_name">Expiry Date</span>
                <div class="input-group date" id="datepicker">
                  <!--  (click)="Expiry()" -->
                  <input type="date" id="Date-Expiry" class="form-control" autocomplete="off"
                  required
          name="To_Date_1" ngModel #toDate="ngModel"
         [ngClass]="{'is-invalid': (toDate.invalid && (toDate.touched || Driverupload.submitted))}">
                  <!-- <div class="input-group-append">
                    <span class="input-group-text">
                      <i class="fa fa-calendar" style="color: black !important;"></i>
                    </span>
                  </div> -->
                </div>
                <div *ngIf="(toDate.invalid && (toDate.touched || Driverupload.submitted))" class="invalid-feedback">
                  Expiry date is required.
                </div>
              </div>
            </div>
        
            <div class="row mt-3">
              <div class="col-lg-6">
                <span class="filtor_name">Upload Document</span>
                <input type="file" class="form-control" ngModel (change)="onFileChange_doc($event)"
                  required name="uploadDocument_1" #uploadDocument="ngModel" [ngClass]="{'is-invalid': (uploadDocument.invalid && (uploadDocument.touched || Driverupload.submitted))}"
                >
                <div *ngIf="(uploadDocument.invalid && (uploadDocument.touched || Driverupload.submitted))" class="invalid-feedback">
                  Please upload a document.
                </div>
              </div>
        
              <div class="col-lg-6">
                <span class="filtor_name">Remark</span>
                <input type="text" autocomplete="off" class="form-control"ngModel placeholder="Remark"  name="remark" #remark="ngModel"
                  [ngClass]="{'is-invalid': (remark.invalid && (remark.touched || Driverupload.submitted))}"
                >
                <div *ngIf="(remark.invalid && (remark.touched || Driverupload.submitted))" class="invalid-feedback">
                  Remark is required.
                </div>
              </div>
            </div>
            
          </div>
        
          <div class="container-fluid" style="    text-align: center;
          height: 8vh;
          border-top: 1px solid #80808036;">
            <button type="submit" style="margin-top: 8px;color: white;
      background: #1D4380;" class="btn " data-dismiss="modal">Update</button>
          </div>
        <!-- </form> -->
        
      </div>
    </div>
    </form>
  </div>
  
  <!-- Driver Edit #upload-View -->
  

  
  
  
  
  <!-- VIEW VIEW VIEW   ------------------------------------------------------- -->
  <div class="modal fade" id="upload-View" tabindex="-1" role="dialog" aria-labelledby="uploadModalLabel" aria-hidden="true"aria-hidden="false" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-custom" role="document">
      <form #Driverupload1="ngForm"(ngSubmit)="updatesubmit(Driverupload1,2);" >
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="uploadModalLabel">View Document</h5>
          <!-- (click)="Driverupload1.resetForm()" -->
          <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close" >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <!-- (ngSubmit)="uploaddriver_submit(Driverupload)" -->
    
          <div class="modal-body">
          
            <div class="row">
              
              <div class="col-lg-12 d-flex align-items-center">
                <!-- <i class="fa fa-file me-2" style="font-size: 20px;"></i> -->
                
                <!-- <span class="document-v">{{Driver_name}}</span> -->
                <ng-container *ngIf="select=='D'">
                  <div class="">
                    <img class="me-2"  [src]=" full_view?.documents.Photograph?.file_path" style="width: 5vw; height: 9vh;">
                    </div>
                  <!-- <span class="filtor_name">Driver's Name</span> -->
                  </ng-container>
                  <ng-container *ngIf="select=='V'">
                    <!-- <span class="filtor_name">Vehicle Number</span> -->
                    <div class="">
                      <img class="me-2" src="assets/imagesnew/Icon/truck.jpg" style="width: 5vw; height: 9vh;">
                      </div>
                    </ng-container>
                  <div class="show-name" >{{Driver_name}}</div>
                  
              </div>
          
            
            </div>
        
            <div class="row mt-3">
              <div class="col-lg-4">
                <span class="heading-name">Document Type</span>
              </div>
              <div class="col-lg-6">
                <span class="filtor_name">{{Document_name}}</span>
              </div>
                <!-- <div *ngIf="(Documenttype.invalid && (Documenttype.touched || Driverupload.submitted)) || (!Documenttype.touched && Driverupload.submitted)" class="invalid-feedback">
                  Please select a document type.
                </div> -->
              </div>
              <div class="row mt-3">
              <div class="col-lg-4">
                <span class="heading-name">Document Number</span>
              </div>
              <div class="col-lg-6">
                <span class="filtor_name">{{edit_data?.doc_no}}</span>
              </div>
               
              
            </div>
        
            <div class="row mt-3">
              <div class="col-lg-4">
                <span class="heading-name">Issue Date</span>
              </div>
              <div class="col-lg-6">
                <span class="filtor_name">{{edit_data?.issue_date}}</span>
              </div>
                
              </div>
              <div class="row mt-3">
              <div class="col-lg-4">
                <span class="heading-name">Expiry Date</span>
              </div>
              <div class="col-lg-6">
                <span class="filtor_name"> {{edit_data?.expiry_date}}</span>
              </div>
               
              </div>
          
        
            <div class="row mt-3">
              <div class="col-lg-4">
                <!-- ="edit_data?.file_path"  -->
                <!-- <span class="filtor_name">Upload Document <a href="{{edit_data?.file_path}}">View</a></span> -->
                <span class="heading-name"> Document File </span>
                
                <!--[ngClass]="{'is-invalid': (uploadDocument1.invalid && (uploadDocument1.touched || Driverupload1.submitted))}"
                <div *ngIf="(uploadDocument1.invalid && (uploadDocument1.touched || Driverupload1.submitted))" class="invalid-feedback">
                  Please upload a document.
                </div> -->
              </div>
        
              
              <div class="col-lg-6">
                <a style="cursor: pointer;" class="filtor_name"(click)="toggleIframe()">View</a>
                <div class="imagePreview">
                  <div class="image-container" *ngIf="imageURL_edit">
                  <img [src]="imageURL_edit" alt="Image Preview" />
                  <!-- (click)="removeImage()" -->
                  <button (click)="removeImage()"><i class="fa fa-close" style="font-size:24px;color:red"></i></button>
              
                </div>
                <div *ngIf="showIframe " class="iframe-container">
                  <img [src]="edit_data.file_path" width="100%">
                </div>
              </div>
            </div>
            
          </div>
        
       
        
        
      </div>
    
      </div>
      
    </form>
    </div>
  </div>
  <!-- ////////////////////////////////////////////////////////////////////////// -->
   <!-- /////////////////////////////////////Agreement view///////////////////////////////////// -->
  
 
  <!-- ////////////////////////////////////////////////////////////////////////// -->