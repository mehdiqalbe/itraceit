<!-- Header Start -->
<div class="card">
  <div class="card-body innerdiv p-0">
    <!-- headerstart here -->
    <div class="hor-header">
      <div style="overflow: hidden">
        <div class="row align-items-left">
          <div class="col-lg-1 d-flex">
            <button
              class="app-sidebar__toggle ms-1"
              (click)="sidebarToggle()"
            ></button>
          </div>

          <div class="col-lg-2"></div>
          <div
            class="col-lg-4"
            style="font-weight: 600; font-size: large; text-align: center"
          >
            <div *ngIf="showOrderTile" class="order-header col-lg-8">
              <div class="bid-summary">
                <div
                  class="bid-item"
                  style="color: gray"
                  container="body"
                  ngbTooltip="Total Bids: {{ totalBids }}"
                >
                  <!-- <i class="fas fa-chart-bar bid-icon"></i> -->
                             <svg style="height:27px" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 48 48" id="Bid" viewBox="11 5 26 38">  <g fill="#909293" class="color000000 svgShape">    <path d="M28 25h-7.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5H25c.54999 0 1 .45001 1 1s-.45001 1-1 1h-4.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5H25c.54999 0 1 .45001 1 1s-.45001 1-1 1h-4c-.82843 0-1.5.67157-1.5 1.5S20.17157 38 21 38h4c.54999 0 1 .45001 1 1s-.45001 1-1 1h-3c-.82843 0-1.5.67157-1.5 1.5S21.17157 43 22 43h6c1.65686 0 3-1.34314 3-3V28C31 26.34314 29.65686 25 28 25zM14 29v4c0 2.04999 1.53998 3.73999 3.53003 3.96997C17.51001 36.82001 17.5 36.65997 17.5 36.5c0-.85999.31-1.65002.83002-2.26001C17.52002 33.59998 17 32.60999 17 31.5c0-.98004.40002-1.85999 1.04999-2.5C17.40002 28.35999 17 27.47998 17 26.5c0-.51001.10999-1 .32001-1.44C15.42999 25.38 14 27.01996 14 29zM18.53003 38.97998C18.34998 38.98999 18.17999 39 18 39c-1.09998 0-2.12-.29004-3-.81V39c0 2.15997 1.70001 3.90997 3.84003 3.98999C18.62 42.53998 18.5 42.02997 18.5 41.5c0-.76001.23999-1.46002.65002-2.03003C18.92999 39.32996 18.71997 39.15997 18.53003 38.97998z" fill="#909293" class="color000000 svgShape"></path>    <rect width="6" height="2" x="21" y="21" fill="#909293" class="color000000 svgShape"></rect>    <path d="M18.75 13h-1v1h1c.27588 0 .5-.22412.5-.5S19.02588 13 18.75 13zM29.25 10h-1v4h1c.55127 0 1-.44873 1-1v-2C30.25 10.44873 29.80127 10 29.25 10zM18.75 10.5c0-.27588-.22412-.5-.5-.5h-.5v1h.5C18.52588 11 18.75 10.77588 18.75 10.5z" fill="#909293" class="color000000 svgShape"></path>    <path d="M36,5H12c-0.55225,0-1,0.44775-1,1v12c0,0.55225,0.44775,1,1,1h24c0.55225,0,1-0.44775,1-1V6C37,5.44775,36.55225,5,36,5z    M18.75,16h-2c-0.55225,0-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1h1.5c1.37842,0,2.5,1.12158,2.5,2.5   c0,0.42432-0.10645,0.82422-0.29346,1.1748C20.94434,12.13135,21.25,12.78076,21.25,13.5C21.25,14.87842,20.12842,16,18.75,16z    M24.75,15c0,0.55225-0.44775,1-1,1s-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1s1,0.44775,1,1V15z M32.25,13c0,1.6543-1.3457,3-3,3   h-2c-0.55225,0-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1h2c1.6543,0,3,1.3457,3,3V13z" fill="#909293" class="color000000 svgShape"></path>  </g></svg>
                        <span class="bid-value badge rounded-pill badge-notification" style="background:gray ;">{{ totalBids }}</span>
                  <span
                    class="bid-value badge rounded-pill badge-notification"
                    style="background: gray"
                    >{{ totalBids }}</span
                  >
                </div>
                <div
                  class="bid-item"
                  style="color: #cd7f32"
                  container="body"
                  ngbTooltip="Pending Bids: {{ pendingBids }}"
                >
                  <i class="fas fa-hourglass-half bid-icon"></i>
                  <span
                    class="bid-value badge rounded-pill badge-notification"
                    style="background: #cd7f32"
                    >{{ pendingBids }}</span
                  >
                </div>
                <div
                  class="bid-item"
                  style="color: #28a745"
                  container="body"
                  ngbTooltip="Completed Bids: {{ completedBids }}"
                >
                  <i class="fas fa-check-circle bid-icon"></i>

                  <span
                    class="bid-value badge rounded-pill badge-notification"
                    style="background: #28a745"
                    >{{ completedBids }}</span
                  >
                </div>
                <div
                  class="bid-item"
                  style="color: #bb1d1d"
                  container="body"
                  ngbTooltip="Cancelled Bids: {{ canceledBids }}"
                >
                  <i class="fas fa-times-circle bid-icon"></i>

                  <span
                    class="bid-value badge rounded-pill badge-notification"
                    style="background: #bb1d1d"
                    >{{ canceledBids }}</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-2 text-center"></div>

          <div class="col-lg-1"></div>
          <div class="col-lg-1">
            <!-- <a  routerLink="/ILgic/createTrip"><i class="fa fa-plus-circle" aria-hidden="true" style="font-size: 20px;color: #1D4380;"></i></a>  -->
          </div>
          <div class="col-lg-1 text-center">
            <a class="header-brand1">
              <img
                src="assets/images/itraceit_logo1.png"
                alt="ILGIC Logo"
                class="header-brand-img desktop-logo"
                style="height: auto; width: 80%"
              />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- HEADER END -->
<ngx-spinner
  bdColor="rgba(51, 51, 51, 0.8)"
  size="default"
  name="spinner-5"
  [fullScreen]="false"
  type="ball-spin-clockwise"
>
</ngx-spinner>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <nav class="flex-md-column">
        <div
          class="nav nav-tabs"
          id="nav-tab"
          role="tablist"
          style="background-color: #ece9e9"
        >
          <!-- <button
            (click)="onTabClicked('loadPlanner')"
            class="nav-link active"
            id="nav-Region-tab"
            data-bs-toggle="tab"
            data-bs-target="#nav-Region"
            type="button"
            role="tab"
            aria-controls="nav-Region"
            aria-selected="true"
          >
            Load Planner
          </button> -->
          <ng-container *ngIf="GroupTypeId == '7'">
            <button
              (click)="onTabClicked('indent')"
              class="nav-link active"
              id="nav-Trip-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-Trip"
              type="button"
              role="tab"
              aria-controls="nav-Trip"
              aria-selected="false"
            >
              Indenting
            </button>
          </ng-container>
          <!-- indent/////////////////// -->
          <button
            (click)="onTabClicked('order')"
            class="nav-link"
            id="nav-ORDER-tab"
            data-bs-toggle="tab"
            data-bs-target="#nav-ORDER"
            type="button"
            role="tab"
            aria-controls="nav-ORDER"
            aria-selected="false"
          >
            Order
          </button>
          <!-- Quote -->
          <button
            (click)="onTabClicked('quote')"
            class="nav-link"
            id="nav-Quote-tab"
            data-bs-toggle="tab"
            data-bs-target="#nav-Quote"
            type="button"
            role="tab"
            aria-controls="nav-Quote"
            aria-selected="false"
          >
            Quote
          </button>
          <!-- REQUEST -->
          <!-- <button class="nav-link" id="nav-REQUEST-tab" data-bs-toggle="tab" data-bs-target="#nav-REQUEST"
              type="button" role="tab" aria-controls="nav-REQUEST" aria-selected="false">Quote(Request)</button> -->

          <!-- Trip -->

          <!-- Billing -->
          <button
            (click)="onTabClicked('billing')"
            class="nav-link"
            id="nav-Billing-tab"
            data-bs-toggle="tab"
            data-bs-target="#nav-Billing"
            type="button"
            role="tab"
            aria-controls="nav-Billing"
            aria-selected="false"
          >
            Billing
          </button>

          <!-- Agreement -->
          <button
            (click)="onTabClicked('agreement')"
            class="nav-link"
            id="nav-Agreement-tab"
            data-bs-toggle="tab"
            data-bs-target="#nav-Agreement"
            type="button"
            role="tab"
            aria-controls="nav-Agreement"
            aria-selected="false"
          >
            Agreement
          </button>

          <!-- Vehicle -->
          <button
            (click)="onTabClicked('vehicle')"
            class="nav-link"
            id="nav-Vehicle-tab"
            data-bs-toggle="tab"
            data-bs-target="#nav-Vehicle"
            type="button"
            role="tab"
            aria-controls="nav-Vehicle"
            aria-selected="false"
          >
            Vehicle
          </button>
          <!-- Driver -->
          <button
            (click)="onTabClicked('driver')"
            class="nav-link"
            id="nav-Driver-tab"
            data-bs-toggle="tab"
            data-bs-target="#nav-Driver"
            type="button"
            role="tab"
            aria-controls="nav-Driver"
            aria-selected="false"
          >
            Driver
          </button>
        </div>
      </nav>
      <div class="tab-content" id="nav-tabContent">
        <!-- statics -->
        <div
          class="tab-pane fade "
          id="nav-Region"
          role="tabpanel"
          aria-labelledby="nav-Region-tab"
        >
          Load planner

          <!--  -->
        </div>
        <!-- indent -->
        <ng-container *ngIf="this.GroupTypeId == '7'">
          <div
            class="tab-pane fade show active"
             
            id="nav-Trip"
            role="tabpanel"
            aria-labelledby="nav-Trip-tab"
          >
            <div class="col-lg-12">
              <!-- <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" name="spinner-5" [fullScreen]="false"
                type="ball-spin-clockwise"> </ngx-spinner> -->
              <div class="fiter">
                <p>
                  <a
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseExample"
                    role="button"
                    aria-expanded="true"
                    aria-controls="collapseExample"
                    style="font-size: 16px"
                  >
                    <i
                      class="fa fa-filter"
                      aria-hidden="true"
                      style="font-size: 20px; color: gray; margin-top: 8px"
                    ></i
                    >FILTER
                  </a>
                </p>
                <div class="collapse show" id="collapseExample">
                  <div>
                    <div
                      class="card card-body"
                      style="border: none; box-shadow: none; margin-bottom: 0px"
                    >
                      <!--  -->

                      <form
                        #filterForm_s="ngForm"
                        (ngSubmit)="filterSubmit(filterForm_s)"
                        novalidate
                      >
                        <div
                          class="col-lg-12 container-fluid d-flex flex-column gap-3"
                        >
                          <div class="row gap-3">
                            <div class="column">
                              <span class="filtor_name">Select Capacity</span>
                              <ng-select
                                name="Capacity"
                                id="ShipmentNo"
                                style="font-size: 14px; font-weight: 400"
                                ngModel
                                required
                                [closeOnSelect]="true"
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['Capacity']?.valid
                                }"
                                class="cutombox"
                              >
                                <ng-option value="" selected>Select</ng-option>
                                <ng-option
                                  [value]="item"
                                  *ngFor="let item of Vehicle_capacity"
                                  >{{ item.value }}</ng-option
                                >
                              </ng-select>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['Capacity']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a capacity.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Vehicle Body Type</span>
                              <ng-select
                                name="Body"
                                placeholder="Select Agency"
                                class="cutombox"
                                id="ShipmentNo"
                                style="font-size: 14px; font-weight: 400"
                                ngModel
                                required
                                [closeOnSelect]="true"
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['Body']?.valid
                                }"
                              >
                                <ng-option value="" selected>Select</ng-option>
                                <ng-option
                                  [value]="item"
                                  *ngFor="let item of Vehicle_Body_Type"
                                  >{{ item.value }}</ng-option
                                >
                              </ng-select>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['Body']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a body type.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Vehicle Size</span>
                              <ng-select
                                name="Size"
                                id="ShipmentNo"
                                style="font-size: 14px; font-weight: 400"
                                ngModel
                                required
                                [closeOnSelect]="true"
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['Size']?.valid
                                }"
                                class="cutombox"
                              >
                                <ng-option value="" selected
                                  >Select Size</ng-option
                                >
                                <ng-option
                                  [value]="item"
                                  *ngFor="let item of indentFilter?.vehiclesize"
                                  >{{ item.value }}</ng-option
                                >
                              </ng-select>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['Capacity']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a capacity.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Load Type</span>
                              <ng-select
                                name="Load_type"
                                class="cutombox"
                                placeholder="Select Load Type"
                                id="ShipmentNo"
                                style="font-size: 14px; font-weight: 400"
                                ngModel
                                required
                                [closeOnSelect]="true"
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['Load_type']?.valid
                                }"
                              >
                                <ng-option value="" selected>Select</ng-option>
                                <ng-option
                                  [value]="item"
                                  *ngFor="let item of Load_type"
                                  >{{ item.value }}</ng-option
                                >
                              </ng-select>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['Load_type']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a load type.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Route</span>
                              <!-- <ng-select
          [multiple]="true"
         
          name="Route_type"
          class="cutombox"
          placeholder="Select Route"
          id="ShipmentNo"
          style="font-size: 14px;font-weight: 400;max-width: 236px;"
          [(ngModel)]="selectedRoutes"
          (change)="onRouteChange($event)"
          required
          [closeOnSelect]="true"
          [ngClass]="{ 'is-invalid': filterForm_s.submitted && !filterForm_s.controls['Load_type']?.valid }"
        >
          <ng-option [value]="item" *ngFor="let item of indentFilter?.routesequence">
            {{ item.route_sequence }}
          </ng-option>
            <ng-option value="122-gsj-fdbf-fbf-dbjfv">122-gsj-fdbf-fbf-dbjfv</ng-option>
        </ng-select> -->
                              <ng-select
                                [multiple]="true"
                                name="Route_type"
                                class="cutombox"
                                placeholder="Select Route"
                                id="ShipmentNo"
                                style="
                                  font-size: 14px;
                                  font-weight: 400;
                                  max-width: 1000px;
                                "
                                required
                                [(ngModel)]="selectedRoutes"
                                (change)="onRouteChange($event)"
                                required
                                [closeOnSelect]="true"
                              >
                                <ng-option
                                  [value]="item"
                                  *ngFor="
                                    let item of indentFilter?.routesequence
                                  "
                                  [disabled]="isOptionDisabled()"
                                >
                                  {{ item.route_sequence }}
                                </ng-option>
                                <!-- <ng-option value="122-gsj-fdbf-fbf-dbjfv" [disabled]="isOptionDisabled()">122-gsj-fdbf-fbf-dbjfv</ng-option> -->
                              </ng-select>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['Route_type']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a route.
                              </div>
                            </div>
                          </div>
                          <div class="row mt-3 gap-3">
                            <div
                              class="column position-relative"
                              style="max-width: 1000px"
                            >
                              <span class="filtor_name">From</span>
                              <input
                                type="text"
                                name="From"
                                style="background: transparent"
                                class="form-control cutombox"
                                [ngModel]="selectedRoutes[0] || ''"
                                readonly
                                required
                                ngModel
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['From']?.valid
                                }"
                              />
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['From']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a source.
                              </div>
                              <span
                                style="position: absolute; right: -5%; top: 50%"
                              >
                                <i
                                  class="fa-solid fa-arrow-right-arrow-left"
                                  style="color: black"
                                ></i>
                              </span>
                            </div>
                            <div class="column" style="max-width: 1000px">
                              <span class="filtor_name">To</span>
                              <input
                                style="background: transparent"
                                name="To"
                                type="text"
                                class="form-control cutombox"
                                [ngModel]="
                                  selectedRoutes[selectedRoutes.length - 1] ||
                                  ''
                                "
                                readonly
                                required
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['To']?.valid
                                }"
                              />
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['To']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a destination.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Date</span>
                              <div class="input-group date" id="datepicker">
                                <input
                                  type="input"
                                  id="Date-select"
                                  (click)="Dateselect('#Date-select')"
                                  class="form-control cutombox"
                                  [ngModel]="datetimepicker1"
                                  required
                                  name="To_Date"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['To_Date']?.valid
                                  }"
                                />
                                <div class="input-group-append">
                                  <span class="input-group-text">
                                    <i
                                      class="fa fa-calendar"
                                      style="color: black !important"
                                    ></i>
                                  </span>
                                </div>
                              </div>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['To_Date']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a date.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Time</span>
                              <input
                                type="time"
                                class="form-control cutombox"
                                [ngModel]="timepicker1"
                                required
                                name="To_time"
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['To_time']?.valid
                                }"
                              />
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['To_time']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a time.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Bid Expiry Date</span>
                              <div class="input-group date" id="datepicker">
                                <input
                                  type="input"
                                  id="bid-date"
                                  (click)="Dateselect('#bid-date')"
                                  class="form-control cutombox"
                                  [ngModel]="timepicker2"
                                  required
                                  name="bid_expiry_date"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['bid_expiry_date']
                                        ?.valid
                                  }"
                                />
                                <div class="input-group-append">
                                  <span
                                    (click)="Dateselect('#bid-date')"
                                    class="input-group-text"
                                  >
                                    <i
                                      class="fa fa-calendar"
                                      style="color: black !important"
                                    ></i>
                                  </span>
                                </div>
                              </div>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['bid_expiry_date']
                                    ?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a date.
                              </div>
                            </div>
                          </div>
                          <div class="row mt-3 gap-3">
                            <div class="column">
                              <span class="filtor_name">Number of Vehicle</span>
                              <input
                                type="number"
                                class="form-control cutombox"
                                placeholder="Number of Vehicle"
                                required
                                name="novehicle"
                                ngModel
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['novehicle']?.valid
                                }"
                              />
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['novehicle']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please enter the number of vehicles.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Booking Type</span>
                              <ng-select
                                name="Bookingtype"
                                class="cutombox"
                                placeholder="Select Agency"
                                id="ShipmentNo"
                                style="font-size: 14px; font-weight: 400"
                                [ngModel]
                                required
                                [closeOnSelect]="true"
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['Bookingtype']?.valid
                                }"
                              >
                                <ng-option [value]="{ value: 'all', id: 3 }"
                                  >All</ng-option
                                >
                                <ng-option
                                  [value]="item"
                                  *ngFor="let item of Booking_Type"
                                  >{{ item.value }}</ng-option
                                >
                              </ng-select>
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['Bookingtype']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please select a booking type.
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Base Cost</span>
                              <input
                                type="number"
                                step="1"
                                class="form-control cutombox"
                                placeholder="Base cost"
                                required
                                name="baseCost"
                                ngModel
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['baseCost']?.valid
                                }"
                              />
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['baseCost']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please enter the base cost.
                              </div>
                            </div>
                            <div class="column position-relative">
                              <!-- <div style="margin-top: 17px !important;">
              <ng-container *ngFor="let item of Safety_ceck_list; let ind=index">
                <div class="form-check form-check-inline">
                  <input class="form-check-input checkboxcss" [(ngModel)]="item.value" name="{{item.name}}" type="checkbox" (change)="changecheck($event, ind, item.key)" />
                  <label class="form-check-label" for="inlineCheckbox{{ind}}">{{item.name}}</label>
                </div>
              </ng-container>
            </div> -->
                              <span class="filtor_name">Safety Checks</span>
                              <!-- <ng-select
                                class="cutombox"
                                [items]="Safety_ceck_list"
                                [multiple]="true"
                                bindLabel="name"
                                bindValue="id"
                                [closeOnSelect]="false"
                                [(ngModel)]="selectedItems"
                                placeholder="Select safety options..."
                                [ngModelOptions]="{ standalone: true }"
                              >
                                <ng-template
                                  ng-optgroup-tmp
                                  class="d-flex gap-1"
                                  ng-header-tmp
                                >
                                  <input
                                    type="checkbox"
                                    [checked]="isAllSelected()"
                                    (change)="selectAllItems()"
                                  />
                                  <div
                                    class="d-inline ms-1"
                                    style="
                                      font-size: 14px;
                                      color: #172c51;
                                      font-weight: 600;
                                    "
                                  >
                                    Select all
                                  </div>
                                </ng-template>
                                <ng-template
                                  ng-option-tmp
                                  let-item="item"
                                  let-item$="item$"
                                  let-index="index"   
                                >
                                <label class="d-flex align-items-center ms-2" for="item-{{ index }}">
                                  <input
                                    id="item-{{ index }}"
                                    type="checkbox"
                                    [ngModel]="item$.selected"
                                    [ngModelOptions]="{ standalone: true }"
                                    (change)="onItemSelect(item, index)"
                                  />
                                 {{item.name}} 
                                </label>                             
                                </ng-template>
                              </ng-select> -->
                              <!-- <ng-select 
                              [items]="Safety_ceck_list" 
                              bindLabel="name" 
                              bindValue="id"
                              [(ngModel)]="selectedItems" 
                              name="safetyOptions"
                              [multiple]="true"
                              [closeOnSelect]="false"
                              placeholder="Select safety options"
                              class="custom-dropdown">
                              
                              <ng-template ng-option-tmp let-item="item">
                                <div class="custom-option">
                                  <input 
                                    type="checkbox" 
                                    [checked]="isSafetySelected(item.id)" 
                                    (change)="onSafetyItemSelect(item,  $event.target)">
                                  <label>{{ item.name }}</label>
                                </div>
                              </ng-template>
                          
                            </ng-select> -->
                              <ng-select
                                class="cutombox position-absolute"
                                style="width:92%"
                                [items]="Safety_ceck_list"
                                bindLabel="name"
                                bindValue="id"
                                [(ngModel)]="selectedItems"
                                name="safetyItems"
                                [multiple]="true"
                                placeholder="Select Safety Items"
                                [closeOnSelect]="false"
                                (change)="onSafetyItemChange()"
                              >
                                <!-- Custom "Select All" option -->
                                <ng-template ng-header-tmp>
                                  <div style="color: black; font-weight: 700">
                                    <input
                                      type="checkbox"
                                      [checked]="
                                        selectedItems.length ===
                                        Safety_ceck_list.length
                                      "
                                      (change)="selectAllItems($event)"
                                    />
                                    Select All
                                  </div>
                                </ng-template>

                                <!-- Default option rendering -->
                                <ng-template
                                  ng-option-tmp
                                  let-item="item"
                                  let-index="index"
                                >
                                  <div>
                                    <input
                                      type="checkbox"
                                      [checked]="isSafetySelected(item.id)"
                                    />
                                    {{ item.name }}
                                  </div>
                                </ng-template>
                              </ng-select>

                              <!-- <ng-select
                                class="cutombox"
                                [items]="Safety_ceck_list"
                                [multiple]="true"
                                bindLabel="name"
                                bindValue="id"
                                [closeOnSelect]="false"
                                [(ngModel)]="selectedItems"
                                placeholder="Select safety options..."
                                [ngModelOptions]="{ standalone: true }"
                              >
                                <ng-template
                                  ng-optgroup-tmp
                                  class="d-flex gap-1"
                                  ng-header-tmp
                                >
                                  <input
                                    type="checkbox"
                                    [checked]="isAllSelected()"
                                    (change)="selectAllItems()"
                                  />
                                  <div
                                    class="d-inline ms-1"
                                    style="font-size: 14px; color: #172c51; font-weight: 600;"
                                  >
                                    Select all
                                  </div>
                                </ng-template>
                                <ng-template
                                class="d-flex gap-2"
                                  ng-option-tmp
                                  let-item="item"
                                  let-item$="item$"
                                  let-index="index"
                                >
                                <div (click)="onItemSelect(item,index)">
                                  <input
                                  id="item-{{ index }}"
                                  type="checkbox"
                                  [checked]="item.value"
                                                
                                />
                                <label class="ms-2" for="item-{{index}}">{{item.name}}</label>
                                </div>
                               
                                </ng-template>
                              </ng-select> -->

                              <div class="position-absolute" style="right: 5px;top:0px">
                                <input
                                  type="checkbox"
                                  name="MandatorySafety"
                                  [checked]="isMandatoryCheckboxChecked"
                                  [disabled]="selectedItems.length == 0"
                                  (click)="toggleMandatoryCheckbox()"
                                />
                                <span
                                  style="
                                    color: #0c254a;
                                    font-weight: 500;
                                    margin-left: 2px;
                                  "
                                  >Mandatory</span
                                >
                              </div>

                              <!-- <ng-select
                  [items]="Safety_ceck_list"
                  [multiple]="true"
                  bindLabel="name"
                  groupBy="gender"
                  [selectableGroup]="true"
                  [selectableGroupAsModel]="false"
                  [closeOnSelect]="false"
                  bindValue="id"
                  [(ngModel)]="selectedPeople">
                  <ng-template ng-optgroup-tmp let-item="item" let-item$="item$" let-index="index">
                    <input id="item-{{ index }}" type="checkbox" [ngModel]="item$.selected" /> {{ item.gender | uppercase }}
                  </ng-template>
                  <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                    <input id="item-{{ index }}" type="checkbox" [ngModel]="item$.selected" /> {{ item.name }}
                  </ng-template>
                    </ng-select> -->
                            </div>
                            <div class="column">
                              <span class="filtor_name">Age of Vehicle</span>
                              <input
                                type="number"
                                step="1"
                                class="form-control cutombox"
                                placeholder="Age"
                                required
                                name="Agevehicle"
                                ngModel
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['Agevehicle']?.valid
                                }"
                              />
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['Agevehicle']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please enter the age of the vehicle.
                              </div>
                            </div>
                          </div>
                          <div class="row mt-3 gap-3">
                            <div class="column">
                              <span class="filtor_name">TAT Hours</span>
                              <input
                                type="number"
                                class="form-control cutombox"
                                placeholder="Enter TAT hours"
                                required
                                name="tatHours"
                                ngModel
                                [ngClass]="{
                                  'is-invalid':
                                    filterForm_s.submitted &&
                                    !filterForm_s.controls['tatHours']?.valid
                                }"
                              />
                              <div
                                *ngIf="
                                  filterForm_s.submitted &&
                                  filterForm_s.controls['tatHours']?.invalid
                                "
                                class="invalid-feedback"
                              >
                                Please enter the TAT hours .
                              </div>
                            </div>
                            <div class="column">
                              <span class="filtor_name">Remarks</span>
                              <input
                                type="text"
                                step="1"
                                class="form-control cutombox"
                                placeholder="remarks"
                                name="remarks"
                                ngModel
                              />
                            </div>
                            <div class="column"></div>
                            <div class="column position-relative"></div>
                            <div class="column"></div>
                          </div>
                          <div class="col-lg-1">
                            <button
                              class="btn btn-outline-primary searcg-button"
                              type="submit"
                            >
                              Search
                            </button>
                          </div>
                          &nbsp;
                        </div>
                      </form>
                    </div>
                  </div>
                  <!-- </ng-container> -->
                  <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                </div>
              </div>
            </div>
            <div class="col-lg-12">
              <div style="overflow: scroll">
                <ng-container *ngIf="table_show">
                  <div class="d-flex">
                    <button
                      [disabled]="indentObject.length == 0"
                      type="button"
                      style="
                        font-size: 13px;
                        background: #6abd46;
                        color: white;
                        font-weight: 400;
                        padding: 3px 9px;
                        font-weight: 400;
                      "
                      class="btn"
                      (click)="Request('1')"
                    >
                      Generate Order
                    </button>
                    <button
                      [disabled]="indentObject.length == 0"
                      type="button"
                      class="btn btn-outline-primary ms-2"
                      style="
                        font-size: 13px;
                        font-weight: 400;
                        border-radius: 6px;
                      "
                      (click)="Request(5)"
                    >
                      Request Quote
                    </button>
                  </div>
                  <table
                    class="table"
                    cellspacing="0"
                    id="Assign-vehicle"
                    width="100%"
                  >
                    <thead>
                      <tr style="text-align: center; white-space: nowrap">
                        <th class="table-primary">
                          <input
                            type="checkbox"
                            (change)="qtoggleIndentTableAllSelection()"
                            [checked]="qallIndentSelected"
                          />
                        </th>
                        <th class="table-primary">SL</th>
                        <th class="table-primary">Transporter Name</th>
                        <!-- <th class="table-primary">Agency</th> -->
                        <th class="table-primary">Transporter Score</th>
                        <th class="table-primary">No. of Trips</th>
                        <th class="table-primary">Vehicle Contracted</th>
                        <th class="table-primary">Vehicle Used</th>
                        <th class="table-primary">
                          Vehicle Used In Current Month
                        </th>
                        <th class="table-primary">Vehicle Currently In Use</th>
                        <th class="table-primary">Vehicle Remaining</th>
                        <th class="table-primary">
                          Recommendation IN Priority
                        </th>
                        <th class="table-primary">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="let item of searched_data; let ind = index"
                        style="white-space: nowrap; text-align: center"
                        [ngStyle]="getStyle(item.Transporter_Score)"
                      >
                        <td>
                          <!-- <input class="vehiclecheck" type="checkbox"  > -->
                          <input
                            type="checkbox"
                            class="vehiclecheck"
                            [checked]="
                              isIndentSelected(item.Transporter_Name?.id)
                            "
                            id="checkbox-{{ item?.vehicle?.id }}"
                            required
                            (change)="
                              qtoggleIndentTableSelection(
                                item.Transporter_Name?.id,
                                item
                              )
                            "
                            class="checkbox"
                          />
                        </td>
                        <td>{{ ind + 1 }}</td>
                        <td>{{ item.Transporter_Name.value }}</td>

                        <td>{{ item.Transporter_Score }}</td>
                        <td>{{ item.No_of_Trips }}</td>
                        <td>{{ item.Vehicle_Contracted }}</td>
                        <td>{{ item.Vehicle_Used }}</td>
                        <td>{{ item.Vehicle_Use_In_Current_Month }}</td>
                        <td>{{ item.Vehicle_Currently_In_Use }}</td>
                        <td>{{ item.Recommendation_IN_Priority }}</td>
                        <td>{{ item.Vehicle_Remaining }}</td>

                        <!-- </tr>  -->
                        <!-- <tr 
                  style="white-space: nowrap;text-align: center;">
                  <td style="color: green;">1</td>
                  <td style="color: green;">Jain Transport</td>
                 
                  <td style="color: green;">98</td>
                  <td style="color: green;">11</td>
                  <td *ngIf="hide_column"style="color: green;">88</td>
                  <td *ngIf="hide_column" style="color: green;">48</td>
                  <td *ngIf="hide_column" style="color: green;">38</td> -->
                        <!-- <td><button type="button" style=" font-size: 13px;
                    font-weight: 400;
                    color: white;
                    border-radius: 6px;"[ngStyle]="{'background': getButtonColor(item.Transporter_Score)}" >{{item.Status}}</button> </td> -->
                        <td>
                          <!-- <button
                            type="button"
                            style="
                              font-size: 13px;
                              background: #6abd46;
                              color: white;
                              font-weight: 400;
                              padding: 3px;
                              width: 87px;
                              height: 27px;
                              font-weight: 400;
                            "
                            class="btn"
                            (click)="Request(item, 1)"
                          >
                            Request
                          </button> -->
                          <!-- [ngStyle]="{'background': getButtonColor(item.Transporter_Score)}" -->
                          <!-- [ngStyle]="{'background': getButtonColor(item.Transporter_Score)}" -->
                          <!-- <ng-container  *ngIf="!hide_column">
                 <button type="button" class="btn btn-outline-primary ms-2" style=" font-size: 13px;font-weight: 400;border-radius: 6px;"  (click)="Request(item,5)" >Generate Quote</button>
                      </ng-container> -->
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </ng-container>
                <!-- <ng-container *ngIf="!hide_column && table_show">
                  <table
                    class="table"
                    cellspacing="0"
                    id="masterUpload"
                    width="100%"
                  >
                    <thead>
                      <tr style="text-align: center; white-space: nowrap">
                        <th class="table-primary">SL</th>
                        <th class="table-primary">Transporter Name</th>
                        <th class="table-primary">Transporter Score</th>
                        <th class="table-primary">No. of Trips</th>
                        <th class="table-primary">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="let item of searched_data; let ind = index"
                        style="white-space: nowrap; text-align: center"
                        [ngStyle]="getStyle(item.Transporter_Score)"
                      >
                        <td>{{ ind + 1 }}</td>
                        <td>{{ item.Transporter_Name.value }}</td>

                        <td>{{ item.Transporter_Score }}</td>
                        <td>{{ item.No_of_Trips }}</td>
                        <td>
                          <button
                            type="button"
                            style="
                              font-size: 13px;
                              background: #6abd46;
                              color: white;
                              font-weight: 400;
                              padding: 3px;
                              width: 87px;
                              height: 27px;
                              font-weight: 400;
                            "
                            class="btn"
                            (click)="Request(item, 1)"
                          >
                            Request
                          </button>
                       
                 
                          <ng-container>
                            <button
                              type="button"
                              class="btn ms-2"
                              style="
                                font-size: 13px;
                                font-weight: 400;
                                color: white;
                                background: #1d4380;
                                padding: 4px;
                                border-radius: 3px;
                                width: 107px;
                                height: 30px;
                              "
                              (click)="Request(item, 5)"
                            >
                              Generate Quote
                            </button>
                          </ng-container>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </ng-container> -->
              </div>
            </div>
          </div>
        </ng-container>

        <!-- ORDER -->
        <div
          class="tab-pane fade"
          id="nav-ORDER"
          role="tabpanel"
          aria-labelledby="nav-ORDER-tab"
        >
          <div class="col-lg-12">
            <div class="fiter">
              <p>
                <a
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseExample"
                  role="button"
                  aria-expanded="true"
                  aria-controls="collapseExample"
                  style="font-size: 16px"
                >
                  <i
                    class="fa fa-filter"
                    aria-hidden="true"
                    style="font-size: 20px; color: gray; margin-top: 8px"
                  ></i
                  >FILTER
                </a>
              </p>
              <div class="collapse show" id="collapseExample">
                <div>
                  <div
                    class="card card-body"
                    style="border: none; box-shadow: none; margin-bottom: 0px"
                  >
                    <nav class="flex-md-column">
                      <div
                        class="nav nav-tabs mm"
                        id="nav-tab"
                        role="tablist"
                        style="border-bottom: none !important"
                      >
                        <!-- <button class="nav-link active" id="nav-Region-tab" data-bs-toggle="tab" data-bs-target="#nav-Region"
                            type="button" role="tab" aria-controls="nav-Region" aria-selected="true"
                           >Load Planner</button> -->

                        <!-- <button class="nav-link active all-button " id="nav-All-tab" data-bs-toggle="tab" data-bs-target="#nav-All"
                            type="button" role="tab" aria-controls="nav-All" aria-selected="true" (click)="change_status1()">All</button>
                         
                          <button class="nav-link all-button " id="nav-NEw-tab" data-bs-toggle="tab" data-bs-target="#nav-NEw"
                            type="button" role="tab" aria-controls="nav-NEw" aria-selected="false" (click)="change_status()" >New</button> -->
                      </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                      <!-- statics -->
                      <!-- <div class="tab-pane fade show active" id="nav-Region" role="tabpanel" aria-labelledby="nav-Region-tab">
                         Load planner
                        </div> -->
                      <!-- ORDER -->
                      <div
                        class="tab-pane fade show active"
                        id="nav-All"
                        role="tabpanel"
                        aria-labelledby="nav-ORDER-tab"
                      >
                        <div
                          class="card card-body"
                          style="
                            border: none;
                            box-shadow: none;
                            margin-bottom: 0px;
                          "
                          *ngIf="All_data"
                        >
                          <!--  -->
                          <form
                            #filterForm="ngForm"
                            (ngSubmit)="filterSubmit_order(filterForm)"
                          >
                            <div class="col-lg-12">
                              <div class="row">
                                <div class="col-lg-2">
                                  <span class="filtor_name">Start Date</span>
                                  <div class="input-group date" id="datepicker">
                                    <input
                                      type="input"
                                      id="Date-select2"
                                      (click)="Dateselect2()"
                                      class="form-control"
                                      [ngModel]="datetimepicker1"
                                      required
                                      name="from_Date"
                                    />

                                    <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">End Date</span>
                                  <div class="input-group date" id="datepicker">
                                    <input
                                      type="input"
                                      id="Date-select_end"
                                      (click)="Dateselect1()"
                                      class="form-control"
                                      [ngModel]="datetimepicker1"
                                      required
                                      name="To_Date"
                                    />

                                    <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Order Id</span>

                                  <input
                                    type="input"
                                    name="Order_id"
                                    ngModel
                                    placeholder="Enter Order Id"
                                    class="form-control"
                                  />
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Transporter</span>
                                  <ng-select
                                    name="Client"
                                    #Clients="ngModel"
                                    id="ShipmentNo"
                                    [ngClass]="{
                                      'is-invalid':
                                        Clients.invalid &&
                                        (Clients.touched ||
                                          filterForm.submitted)
                                    }"
                                    style="font-size: 14px; font-weight: 400"
                                    
                                    ngModel
                                    [closeOnSelect]="true"
                                  >
                                  <ng-option value selected>All</ng-option>
                                    <!-- <ng-option value="" >Close Body</ng-option>
                              <ng-option value="" >Open Body</ng-option> -->
                                    <ng-option
                                      [value]="item"
                                      *ngFor="let item of client"
                                      >{{ item.value }}
                                    </ng-option>
                                  </ng-select>
                                </div>

                                <!-- <div class="col-lg-2">
                            <span class="filtor_name">From</span>
                            <ng-select name="From"  id="ShipmentNo"
                            style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                           
                            <ng-option value="" selected>Select</ng-option>
                            <ng-option [value]="item" *ngFor="let item of Source">{{item.value}} </ng-option>
                            
                          </ng-select>
                          </div>
                          <span style="    position: absolute;
                             margin-left: 82%;
                          top: 31px;
                          width: 2px;"><i class="fa-solid fa-arrow-right-arrow-left" style="color: black;"></i></span>
                          <div class="col-lg-2">
                            <span class="filtor_name">To</span>
                            <ng-select name="To"  id="ShipmentNo"
                            style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                           
                            <ng-option value="" selected>Select</ng-option>
                            <ng-option [value]="item" *ngFor="let item of Destination">{{item.value}} </ng-option>
                            
                          </ng-select>
                          </div> -->
                                <!-- </div>
                           <div class="row"> -->
                                <div class="col-lg-1">
                                  <button
                                    class="btn btn-outline-primary searcg-button"
                                    type="submit"
                                  >
                                    Search
                                  </button>
                                  <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                      <!-- <div class="tab-pane fade" id="nav-NEw" role="tabpanel" aria-labelledby="nav-NEw-tab">
                          <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;" *ngIf="!All_data">
                          
                            <form #filterForm="ngForm" (ngSubmit)="filterSubmit_order(filterForm)">
                              <div class="col-lg-12">
                                <div class="row">
                          <div class="col-lg-2" >
                            <span class="filtor_name">Start Date</span>
                            <div class="input-group date" id="datepicker">
  
                            <input type="input" id="Date-select2" (click)="Dateselect2()" class="form-control"
                             [ngModel]="datetimepicker1" required name="from_Date" />
  
                            </div>
                          </div>
                          <div class="col-lg-2" >
                            <span class="filtor_name">End Date</span>
                            <div class="input-group date" id="datepicker">
  
                            <input type="input" id="Date-select_end" (click)="Dateselect1()" class="form-control"
                             [ngModel]="datetimepicker1" required name="To_Date" />
  
                             
                            </div>
                          </div>
                          <div class="col-lg-2" >
                            <span class="filtor_name">Order Id</span>
  
                            <input type="input" name="Order_id" ngModel placeholder="Enter Order Id" class="form-control"
                               />
  
                            </div>
                            <div class="col-lg-2">
                              <span class="filtor_name">Transporter</span>
                              <ng-select name="Client" #Clients="ngModel" id="ShipmentNo"[ngClass]="{'is-invalid': (Clients.invalid && (Clients.touched || filterForm.submitted))}"
                              style="font-size: 14px;font-weight: 400;"  required  ngModel [closeOnSelect]="true">
                             
                              <ng-option value="" selected>Select</ng-option>
                              <ng-option [value]="item" *ngFor="let item of client">{{item.value}} </ng-option>
                              
                            </ng-select>
                            </div>
                            <div class="col-lg-1">
                              
                              <button class="btn btn-outline-primary searcg-button" type="submit">Search</button>
                            
                             </div>
                           </div>
                              </div>
                            </form>
                          </div>
                        </div> -->
                    </div>
                  </div>
                  <!-- </ng-container> -->
                  <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                </div>
              </div>
            </div>
            <div class="col-lg-12" *ngIf="table_show_order">
              <div class="">
                <!-- data-bs-toggle="modal" data-bs-target="#upload"-->
                <ng-container *ngIf="UserType == '6'">
                  <button
                    type="button"
                    class="btn btn-success set-Assign"
                    style="border-radius: 0px; background: #6abd46 !important"
                    (click)="orderstatus_Decline('Accept', 0)"
                    [disabled]="!isRadioSelected"
                  >
                    Accept
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger set-Decline"
                    style="border-radius: 0px; background: red !important"
                    (click)="orderstatus_Decline('Rejected', 2)"
                    [disabled]="!isRadioSelected"
                  >
                    Reject
                  </button>
                </ng-container>
              </div>
              <div style="overflow: scroll">
                <table
                  class="table"
                  cellspacing="0"
                  id="Assignvehicle"
                  width="100%"
                >
                  <thead>
                    <tr style="text-align: center; white-space: nowrap">
                      <th class="table-primary"></th>
                      <th class="table-primary">SL</th>
                      <th class="table-primary">Order Number</th>
                      <th class="table-primary">Transporter</th>
                      <th class="table-primary">Dispatch Date & Time</th>
                      <th class="table-primary">Source</th>
                      <th class="table-primary">Destination</th>
                      <th class="table-primary">Route Sequence</th>
                      <th class="table-primary">Vehicle Capacity</th>
                      <th class="table-primary">Vehicle Type</th>
                      <th class="table-primary">No of Vehicles</th>
                      <th class="table-primary">Vehicle Accessories</th>
                      <th class="table-primary">Requirement</th>

                      <th class="table-primary">Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      *ngFor="let item of searched_data_order; let ind = index"
                      style="white-space: nowrap; text-align: center"
                      [ngStyle]="{ color: getStyle_status(item.Status) }"
                    >
                      <td>
                        <input
                          type="radio"
                          name="value"
                          id="value"
                          (change)="selected_radio(item.OrderNumber, item)"
                        />
                      </td>
                      <td>{{ ind + 1 }}</td>
                      <td>{{ item.OrderNumber }}</td>

                      <td>{{ item.transporter_name }}</td>
                      <td>{{ item.dispatchdate }} {{ item.dispatchtime }}</td>
                      <td>{{ item.Source }}</td>
                      <td>{{ item.Destination }}</td>
                      <td>{{ item.Route_Sequence?.value }}</td>
                      <td>{{ item.Vehicle_Capacity }}</td>
                      <td>{{ item.Vehicle_Type }}</td>
                      <td>{{ item.No_of_Vehicles }}</td>
                      <td style="color: green">
                        <div class="row">
                          <ng-container
                            *ngIf="item.Vehicle_Accessories[0]?.value"
                          >
                            <div class="col-3">
                              <img
                                class="me-2"
                                src="{{ Safety_list[0].img }}"
                                style="height: 3vh"
                              />
                              <!-- <i class='fas fa-lock-open access' style="color: black;" title="{{item.Vehicle_Accessories[0]?.name}}"></i> -->
                            </div>
                          </ng-container>
                          <ng-container
                            *ngIf="item.Vehicle_Accessories[3]?.value"
                          >
                            <div class="col-3">
                              <!-- <i class='fas fa-fire-extinguisher'></i> -->
                              <img
                                class="me-2"
                                src="{{ Safety_list[3].img }}"
                                style="height: 3vh"
                              />
                              <!-- <i class='fas fa-fire-extinguisher' style="color: red;font-size: 22px;" title="{{item.Vehicle_Accessories[3]?.name}}"></i> -->
                            </div>
                          </ng-container>
                          <ng-container
                            *ngIf="item.Vehicle_Accessories[1]?.value"
                          >
                            <div class="col-3">
                              <img
                                class="me-2"
                                src="{{ Safety_list[1].img }}"
                                style="height: 3vh"
                              />
                              <!-- <i class='fa fa-map-marker access' style="color: green;font-size: 22px;" title="{{item.Vehicle_Accessories[1]?.name}}"></i> -->
                            </div>
                          </ng-container>
                          <ng-container
                            *ngIf="item.Vehicle_Accessories[2]?.value"
                          >
                            <div class="col-3">
                              <!-- <i class="fas fa-user-friends"></i> -->
                              <img
                                class="me-2"
                                src="{{ Safety_list[2].img }}"
                                style="height: 3vh"
                              />
                              <!-- <i class='fas fa-user-friends access' style="color: black;" title="{{item.Vehicle_Accessories[2]?.name}}"></i> -->
                            </div>
                          </ng-container>
                        </div>
                      </td>
                      <td>{{ item.Requirement }}</td>

                      <td>
                        <button
                          type="button"
                          style="
                            font-size: 15px;
                            font-weight: 400;
                            color: green;
                            width: 150px;
                          "
                          class="btn"
                          [ngStyle]="{ color: getStyle_status(item.Status) }"
                        >
                          {{ item.status_remark }}
                        </button>
                        <ng-container *ngIf="item.Status == '3'">
                          <button
                            class="btn"
                            style="width: 50px"
                            (click)="open_AssignVehicle(item)"
                          >
                            <i
                              _ngcontent-ydm-c127=""
                              class="fa fa-info-circle"
                              style="font-size: 22px; color: #1d4380"
                            ></i>
                          </button>
                        </ng-container>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Quote -->
        <div
          class="tab-pane fade"
          id="nav-Quote"
          role="tabpanel"
          aria-labelledby="nav-Quote-tab"
        >
          <div class="col-lg-12">
            <div class="fiter">
              <p>
                <a
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseExample"
                  role="button"
                  aria-expanded="true"
                  aria-controls="collapseExample"
                  style="font-size: 16px"
                >
                  <i
                    class="fa fa-filter"
                    aria-hidden="true"
                    style="font-size: 20px; color: gray; margin-top: 8px"
                  ></i
                  >FILTER
                </a>
              </p>
              <div class="collapse show" id="collapseExample">
                <div>
                  <div
                    class="card card-body"
                    style="border: none; box-shadow: none; margin-bottom: 0px"
                  >
                    <nav class="flex-md-column">
                      <div
                        class="nav nav-tabs mm"
                        id="nav-tab"
                        role="tablist"
                        style="border-bottom: none !important"
                      >
                        <!-- <button class="nav-link active" id="nav-Region-tab" data-bs-toggle="tab" data-bs-target="#nav-Region"
                          type="button" role="tab" aria-controls="nav-Region" aria-selected="true"
                         >Load Planner</button> -->

                        <!-- <button class="nav-link active all-button " id="nav-All-tab" data-bs-toggle="tab" data-bs-target="#nav-All"
                          type="button" role="tab" aria-controls="nav-All" aria-selected="true" (click)="change_status1()">All</button>
                       
                        <button class="nav-link all-button " id="nav-NEw-tab" data-bs-toggle="tab" data-bs-target="#nav-NEw"
                          type="button" role="tab" aria-controls="nav-NEw" aria-selected="false" (click)="change_status()" >New</button> -->
                      </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                      <!-- statics -->
                      <!-- <div class="tab-pane fade show active" id="nav-Region" role="tabpanel" aria-labelledby="nav-Region-tab">
                       Load planner
                      </div> -->
                      <!-- ORDER -->
                      <div
                        class="tab-pane fade show active"
                        id="nav-All"
                        role="tabpanel"
                        aria-labelledby="nav-ORDER-tab"
                      >
                        <div
                          class="card card-body"
                          style="
                            border: none;
                            box-shadow: none;
                            margin-bottom: 0px;
                          "
                          *ngIf="All_data"
                        >
                          <!--  -->
                          <form
                            #filterForm="ngForm"
                            (ngSubmit)="filterSubmit_quote(filterForm)"
                          >
                            <div class="col-lg-12">
                              <div class="row">
                                <div class="col-lg-2">
                                  <span class="filtor_name">Start Date</span>
                                  <div class="input-group date" id="datepicker">
                                    <input
                                      type="input"
                                      id="quoteStartDate"
                                      (click)="Dateselect('#quoteStartDate')"
                                      class="form-control"
                                      [ngModel]="quoteStartDate"
                                      required
                                      name="from_Date"
                                    />

                                    <!-- <div class="input-group-append">
                              <span class="input-group-text">
                                <i class="fa fa-calendar" style="color: black !important;"></i>
                              </span>
                            </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">End Date</span>
                                  <div class="input-group date" id="datepicker">
                                    <input
                                      type="input"
                                      id="quoteEndDate"
                                      (click)="Dateselect('#quoteEndDate')"
                                      class="form-control"
                                      [ngModel]="quoteEndDate"
                                      required
                                      name="To_Date"
                                    />

                                    <!-- <div class="input-group-append">
                              <span class="input-group-text">
                                <i class="fa fa-calendar" style="color: black !important;"></i>
                              </span>
                            </div> -->
                                  </div>
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Order Id</span>

                                  <input
                                    type="input"
                                    name="Order_id"
                                    ngModel
                                    placeholder="Enter Order Id"
                                    class="form-control"
                                  />
                                </div>
                                <div class="col-lg-2">
                                  <span class="filtor_name">Transporter</span>
                                  <ng-select
                                    name="Client"
                                    #Clients="ngModel"
                                    id="ShipmentNo"
                                    [ngClass]="{
                                      'is-invalid':
                                        Clients.invalid &&
                                        (Clients.touched ||
                                          filterForm.submitted)
                                    }"
                                    style="font-size: 14px; font-weight: 400"
                                    ngModel
                                    [closeOnSelect]="true"
                                  >
                                    <ng-option value selected>All</ng-option>
                                    <!-- <ng-option value="" >Close Body</ng-option>
                            <ng-option value="" >Open Body</ng-option> -->
                                    <ng-option
                                      [value]="item"
                                      *ngFor="let item of client"
                                      >{{ item.value }}
                                    </ng-option>
                                  </ng-select>
                                </div>

                                <div class="col-lg-1">
                                  <button
                                    class="btn btn-outline-primary searcg-button"
                                    type="submit"
                                  >
                                    Search
                                  </button>
                                  <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- </ng-container> -->
                  <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                </div>
              </div>
            </div>
            <!-- ////////////////////////////////////////////////////////////////////////////////////// -->
            <!-- <div class="row" id="simple_table" style="padding: 3px 10px 15px 10px">
        </div> -->
            <div class="col-lg-12" *ngIf="table_show_order">
              <div class="">
                <!-- data-bs-toggle="modal" data-bs-target="#upload"-->
                <ng-container *ngIf="UserType !== '6'">
                  <button
                    type="button"
                    class="btn btn-success set-Assign"
                    style="border-radius: 0px; background: #6abd46 !important"
                    (click)="orderstatus_Decline('Accept', 0)"
                    [disabled]="!isRadioSelected"
                  >
                    Accept
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger set-Decline"
                    style="border-radius: 0px; background: red !important"
                    (click)="orderstatus_Decline('Rejected', 2)"
                    [disabled]="!isRadioSelected"
                  >
                    Reject
                  </button>
                </ng-container>
              </div>
              <div style="overflow: scroll">
                <table
                  class="table"
                  cellspacing="0"
                  id="AssignvehicleQuote"
                  width="100%"
                >
                  <thead>
                    <tr style="text-align: center; white-space: nowrap">
                      <th class="table-primary"></th>
                      <th class="table-primary">SL</th>
                      <th class="table-primary">Order Number</th>
                      <th class="table-primary">Bidding Status</th>
                      <th class="table-primary">Minimum Transporter Quote</th>
                      <th class="table-primary">Maximum Transporter Quote</th>
                      <th class="table-primary">Dispatch Date & Time</th>
                      <th class="table-primary">Base Cost</th>
                      <th class="table-primary">Source</th>
                      <th class="table-primary">Destination</th>
                      <th class="table-primary">Route Sequence</th>
                      <th class="table-primary">Vehicle Capacity</th>
                      <th class="table-primary">Vehicle Type</th>
                      <th class="table-primary">No of Vehicles</th>
                      <th class="table-primary">Vehicle Accessories</th>
                      <th class="table-primary">Requirement</th>
                      <th class="table-primary">Remark</th>
                      <th class="table-primary">Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Check if order.value is an array -->
                    <tr
                      *ngFor="let item of quoteArrayData1; let ind = index"
                      style="white-space: nowrap; text-align: center"
                    >
                      <td>
                        <div
                          class="mt-2 d-flex justify-content-end align-items-start"
                        >
                          <button
                            (click)="popupQuote(item, $event, ind)"
                            class="dt-control"
                          >
                            <i
                              style="color: #1d4380"
                              class="fa-solid fa-circle-plus fa-xl"
                            ></i>
                          </button>
                        </div>
                      </td>
                      <!-- <ng-container *ngFor="let item of order[1]" > -->

                      <td>{{ ind + 1 }}</td>
                      <td>{{ item[1][0].OrderNumber }}</td>
                      <td>
                        {{ searched_data_quote?.ratio[item[1][0].OrderNumber] }}
                      </td>
                      <td>{{ minQuote(item[1][0]?.OrderNumber) }}</td>
                      <td>{{ maxQuote(item[1][0]?.OrderNumber) }}</td>
                      <td>
                        {{ item[1][0].dispatchdate }}
                        {{ item[1][0].dispatchtime }}
                      </td>
                      <td>{{ item[1][0].basecost }}</td>
                      <td>{{ item[1][0].Source }}</td>
                      <td>{{ item[1][0].Destination }}</td>
                      <td>{{ item[1][0].Route_Sequence?.value }}</td>
                      <td>{{ item[1][0].Vehicle_Capacity }}</td>
                      <td>{{ item[1][0].Vehicle_Type }}</td>
                      <td>{{ item[1][0].No_of_Vehicles }}</td>
                      <td style="color: green">
                        <div class="row">
                          <ng-container
                            *ngIf="item[1][0].Vehicle_Accessories[0]?.value"
                          >
                            <div class="col-3">
                              <img
                                class="me-2"
                                src="{{ Safety_list[0].img }}"
                                style="height: 3vh"
                              />
                            </div>
                          </ng-container>
                          <ng-container
                            *ngIf="item[1][0].Vehicle_Accessories[3]?.value"
                          >
                            <div class="col-3">
                              <img
                                class="me-2"
                                src="{{ Safety_list[3].img }}"
                                style="height: 3vh"
                              />
                            </div>
                          </ng-container>
                          <ng-container
                            *ngIf="item[1][0].Vehicle_Accessories[1]?.value"
                          >
                            <div class="col-3">
                              <img
                                class="me-2"
                                src="{{ Safety_list[1].img }}"
                                style="height: 3vh"
                              />
                            </div>
                          </ng-container>
                          <ng-container
                            *ngIf="item[1][0].Vehicle_Accessories[2]?.value"
                          >
                            <div class="col-3">
                              <img
                                class="me-2"
                                src="{{ Safety_list[2].img }}"
                                style="height: 3vh"
                              />
                            </div>
                          </ng-container>
                        </div>
                      </td>
                      <td>{{ item[1][0].Requirement }}</td>
                      <td>{{ item[1][0].remark }}</td>
                      <td>
                        <button
                          type="button"
                          style="
                            font-size: 15px;
                            font-weight: 400;
                            color: green;
                            width: 150px;
                          "
                          class="btn"
                          [ngStyle]="{ color: getStyle_status(item.Status) }"
                        >
                          {{ item[1][0].status_remark }}
                        </button>
                        <ng-container *ngIf="item[1][0].Status == '3'">
                          <button
                            class="btn"
                            style="width: 50px"
                            (click)="open_AssignVehicle(item)"
                          >
                            <i
                              class="fa fa-info-circle"
                              style="font-size: 22px; color: #1d4380"
                            ></i>
                          </button>
                        </ng-container>
                      </td>
                      <!-- </ng-container>    -->
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- /////////////////////////////////////////////////////////////////////////////////////////// -->
          </div>
        </div>
        <!-- Quote Modal -->
        <div
          class="modal fade"
          id="quoteModal"
          data-bs-backdrop="static"
          data-bs-keyboard="false"
          tabindex="-1"
          aria-labelledby="quoteModal"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-xl">
            <div
              class="modal-content rounded-3 border rounded-3 border-1 border-color-light shadow-light"
            >
              <!-- Modal Header with Close Icon -->
              <div class="modal-header">
                <h5 class="modal-title">Transport Details</h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>

              <!-- Modal Body -->
              <div class="modal-body">
                <div class="col-lg-12" *ngIf="table_show_order">
                  <div class="">
                    <!-- data-bs-toggle="modal" data-bs-target="#upload"-->
                  </div>
                  <div style="overflow: scroll">
                    <table
                      class="table"
                      cellspacing="0"
                      id="AssignvehicleQuotePopup"
                      width="100%"
                    >
                      <thead>
                        <tr style="text-align: center; white-space: nowrap">
                          <th class="table-primary">SL</th>
                          <th class="table-primary">Driver Name</th>
                          <th class="table-primary">Phone number</th>
                          <th class="table-primary">Driver Document</th>
                          <th class="table-primary">Quote Amount</th>
                          <th class="table-primary">Vehicle Number</th>
                          <th class="table-primary">Vehicle Type</th>
                          <th class="table-primary">Vehicle Accessories</th>
                          <th class="table-primary">Vehicle Document</th>
                          <th class="table-primary">Vehicle Capacity</th>
                          <th class="table-primary">Requirement</th>
                          <th class="table-primary">Remark</th>
                        </tr>
                      </thead>
                      <tbody
                        *ngFor="
                          let item of popupQuoteVehicleDriver;
                          let ind = index
                        "
                      >
                        <!-- Check if order.value is an array -->
                        <tr style="white-space: nowrap; text-align: center">
                          <!-- <ng-container *ngFor="let item of order[1]" > -->

                          <td>{{ ind + 1 }}</td>
                          <td>{{ item?.Driver_name }}</td>
                          <td>{{ item?.Phone }}</td>
                          <td style="text-align:left">
                            <div *ngFor="let document of item?.DriverDocument | keyvalue" class="document-item position-relative d-inline">
                              <a *ngIf="getStatus(document?.value) === 1" target="_blank" [href]="getFilePath(document?.value)"> 
                                <img style="height: 20px;" [src]="driverDocImage[getDocTypeId(document?.value)]" alt="">
                              </a>
                            </div>
                            <!-- Driver Document -->
                          </td>  
                          <td>{{ item.Quote_single }}</td>
                          <td>{{ item.Vehicle_number }}</td>
                          <td>{{ item.Type }}</td>
                          <td>Vehicle Accessories</td>
                          <td>Vehicle Document</td>
                          <td>{{ item.Capacity_tonns }}</td>
                          <!-- <td>{{ item.Vehicle_Type }}</td> -->
                          <!-- <td>{{ item.No_of_Vehicles }}</td> -->
                          <!-- <td style="color: green">
                            <div class="row">
                              <ng-container *ngIf="item.Vehicle_Accessories[0]?.value">
                                <div class="col-3">
                                  <img class="me-2" src="{{ Safety_list[0].img }}" style="height: 3vh" />
                                </div>
                              </ng-container>
                              <ng-container *ngIf="item.Vehicle_Accessories[3]?.value">
                                <div class="col-3">
                                  <img class="me-2" src="{{ Safety_list[3].img }}" style="height: 3vh" />
                                </div>
                              </ng-container>
                              <ng-container *ngIf="item.Vehicle_Accessories[1]?.value">
                                <div class="col-3">
                                  <img class="me-2" src="{{ Safety_list[1].img }}" style="height: 3vh" />
                                </div>
                              </ng-container>
                              <ng-container *ngIf="item.Vehicle_Accessories[2]?.value">
                                <div class="col-3">
                                  <img class="me-2" src="{{ Safety_list[2].img }}" style="height: 3vh" />
                                </div>
                              </ng-container>
                            </div>
                          </td> -->
                          <td></td>

                          <td>{{ item.remark }}</td>

                          <!-- <td>
                            <button
                              type="button"
                              style="font-size: 15px; font-weight: 400; color: green; width: 150px;"
                              class="btn"
                              [ngStyle]="{ color: getStyle_status(item.Status) }"
                            >
                              {{ item.status_remark }}
                            </button>
                            <ng-container *ngIf="item.Status == '3'">
                              <button class="btn" style="width: 50px" (click)="open_AssignVehicle(item)">
                                <i class="fa fa-info-circle" style="font-size: 22px; color: #1d4380"></i>
                              </button>
                            </ng-container>
                          </td> -->
                          <!-- </ng-container>    -->
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- REQUEST -->
        <!-- <div class="tab-pane fade" id="nav-REQUEST" role="tabpanel" aria-labelledby="nav-REQUEST-tab">
              REQUEST
          </div> -->

        <!-- Billing -->
        <div
          class="tab-pane fade"
          id="nav-Billing"
          role="tabpanel"
          aria-labelledby="nav-Billing-tab"
        >
          <div class="col-lg-12 d-flex">
            <div class="fiter col-md-10">
              <p style="font-weight: 600" class="mb-2">
                <a
                  data-bs-toggle="collapse"
                  data-bs-target="#collapseExample"
                  role="button"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                  style="font-size: 16px"
                >
                  <i
                    class="fa fa-filter"
                    aria-hidden="true"
                    style="font-size: 20px; color: #1d4380; margin-top: 8px"
                  ></i
                  >FILTER
                </a>
              </p>
              <div class="collapse" id="collapseExample">
                <div>
                  <div
                    class="card card-body pt-0"
                    style="border: none; box-shadow: none; margin-bottom: 0px"
                  >
                    <form [formGroup]="filterForm_Q" (ngSubmit)="onFilter()">
                      <div class="row col-12 ps-0">
                        <div class="col-md-2">
                          <label class="m-0" for="dateFrom">From</label>
                          <input
                            id="dateFrom"
                            type="date"
                            formControlName="dateFrom"
                            class="form-control"
                            placeholder="Select Start Date..."
                            [ngClass]="{
                              'border-danger':
                                filterForm_Q.get('dateFrom')?.touched &&
                                filterForm_Q.get('dateFrom')?.invalid
                            }"
                          />
                          <span
                            style="font-size: 11px"
                            *ngIf="filterForm_Q.get('dateFrom')?.touched && filterForm_Q.get('dateFrom')?.errors?.['required']"
                            class="text-danger position-absolute text-sm-center"
                          >
                            Select start date.
                          </span>
                        </div>
                        <div class="col-md-2">
                          <label class="m-0" for="dateTo">To</label>
                          <input
                            id="dateTo"
                            type="date"
                            formControlName="dateTo"
                            class="form-control"
                            placeholder="Select End Date..."
                            [ngClass]="{
                              'border-danger':
                                filterForm_Q.get('dateTo')?.touched &&
                                filterForm_Q.get('dateTo')?.invalid
                            }"
                          />
                          <span
                            style="font-size: 11px"
                            *ngIf="filterForm_Q.get('dateTo')?.touched && filterForm_Q.get('dateTo')?.errors?.['required']"
                            class="text-danger position-absolute text-sm-center"
                          >
                            Select end date.
                          </span>
                        </div>
                        <div class="col-md-2">
                          <label class="m-0" for="customer">Transporter</label>
                          <ng-select
                            id="customer"
                            formControlName="customer"
                            appearance="outline"
                            [searchable]="false"
                            placeholder="Select Transporter"
                            class="custom-ng-select"
                            [ngClass]="{
                              'border-danger':
                                filterForm_Q.get('customer')?.touched &&
                                filterForm_Q.get('customer')?.invalid
                            }"
                          >
                            <ng-option
                              *ngFor="let transporter of transporters"
                              [value]="transporter.id"
                            >
                              {{ transporter.value }}
                            </ng-option>
                          </ng-select>
                          <span
                            style="font-size: 11px"
                            *ngIf="filterForm_Q.get('customer')?.touched && filterForm_Q.get('customer')?.errors?.['required']"
                            class="text-danger position-absolute text-sm-center"
                          >
                            Select customer.
                          </span>
                        </div>
                        <div class="col-md-2">
                          <label class="m-0" for="status">Status</label>
                          <ng-select
                            id="status"
                            formControlName="status"
                            appearance="outline"
                            [searchable]="false"
                            placeholder="Select Status"
                            [ngClass]="{
                              'border-danger':
                                filterForm_Q.get('status')?.touched &&
                                filterForm_Q.get('status')?.invalid
                            }"
                          >
                          <ng-option value="10">All</ng-option >
                            <ng-option value="1">Pending</ng-option>
                            <ng-option value="2">Approved</ng-option>
                            <ng-option value="3">Rejected</ng-option>
                          </ng-select>
                          <span
                            style="font-size: 11px"
                            *ngIf="filterForm_Q.get('status')?.touched && filterForm_Q.get('status')?.errors?.['required']"
                            class="text-danger position-absolute text-sm-center"
                          >
                            Select status.
                          </span>
                        </div>
                        <div class="col-md-2 text-end d-flex align-items-end">
                          <button
                            type="submit"
                            class="p-2 px-4 rounded-0 btn-orange shadow-none"
                            [disabled]="filterForm_Q.invalid"
                            [ngClass]="{
                              'disabled-button': filterForm_Q.invalid,
                              'enabled-button': filterForm_Q.valid
                            }"
                          >
                            Submit
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
                <!-- </ng-container> -->
                <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
              </div>
            </div>
            <div class="col mt-2 d-flex justify-content-end align-items-start">
              <button
                *ngIf="UserType !== '6'"
                data-bs-target="#customerModal"
                data-bs-toggle="modal"
              >
                <i
                  style="color: #1d4380"
                  class="fa-solid fa-circle-plus fa-2xl"
                ></i>
              </button>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="col-md-10">
              <button
                type="button"
                class="btn-green py-2 px-3 set-Assign shadow-none col-md-1"
                [disabled]="selectedIds.length == 0"
                [ngClass]="{
                  'disabled-button': selectedIds.length == 0,
                  'enabled-button': selectedIds.length != 0
                }"
                (click)="onAccept()"
              >
                Accept</button
              >&nbsp;&nbsp;
              <button
                type="button"
                class="btn-orange py-2 px-3 set-Decline shadow-none col-md-1"
                [disabled]="selectedIds.length == 0"
                [ngClass]="{
                  'disabled-button': selectedIds.length == 0,
                  'enabled-button': selectedIds.length != 0
                }"
                (click)="onReject()"
              >
                Reject
              </button>
            </div>
            <!-- Table -->
            <div class="mt-3">
              <table
                style="width: 100%"
                class="table display nowrap"
                cellspacing="0"
                id="billing-table"
                width="100%"
              >
                <thead>
                  <tr style="text-align: center; white-space: nowrap">
                    <!-- <th class="table-primary"><input type="checkbox" (change)="toggleAllSelections($event)" /></th>               -->
                    <th class="table-primary">
                      <div class="form-check" style="text-align: end">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          value=""
                          (change)="toggleAllSelection()"
                          id="flexCheckChecked"
                          [checked]="allSelected"
                          required
                        />
                      </div>
                    </th>
                    <th class="table-primary">Transporter</th>
                    <th class="table-primary">Billing Start Date</th>
                    <th class="table-primary">Billing End Date</th>
                    <th class="table-primary">Vehicle</th>
                    <th class="table-primary">Billing Mode</th>
                    <th class="table-primary">No of Unit</th>
                    <th class="table-primary">Rate</th>
                    <th class="table-primary">Total Amount</th>
                    <th class="table-primary">Raised By</th>
                    <th class="table-primary">Status</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Skeleton Rows -->
                  <ng-container *ngIf="isLoadingBilling">
                    <tr
                      *ngFor="let i of [1, 2, 3, 4, 5]"
                      style="white-space: nowrap; text-align: center"
                    >
                      <td>
                        <div class="skeleton skeleton-checkbox"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text long"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text long"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                    </tr>
                  </ng-container>
                  <ng-container *ngIf="!isLoadingBilling">
                    <tr
                      *ngFor="let item of filterData; let ind = index"
                      style="white-space: nowrap; text-align: center"
                    >
                      <!-- <td>
                    <input type="checkbox" id="checkbox-{{ind}}" name="kk" *ngIf="item?.Raised_By === 'tranporter'" (change)="toggleSelection(item, $event)" />
                  </td> -->
                      <td>
                        <div class="form-check" style="margin-right: 13px">
                          <input
                            *ngIf="
                              item?.Raised_By === 'tranporter' ||
                              item?.Raised_By == 'transporter'
                            "
                            class="form-check-input"
                            type="checkbox"
                            [checked]="isSelected(item?._id)"
                            id="checkbox-{{ ind }}"
                            required
                            (change)="toggleSelection(item?._id)"
                          />
                        </div>
                      </td>
                      <td>{{ item?.transporter_name }}</td>
                      <td>{{ item?.Billing_Start_Data }}</td>
                      <td>{{ item?.Billing_End_Data }}</td>
                      <td>{{ item?.Vehicle_number || item?.Vehicle_name }}</td>
                      <th>
                        {{ item?.Billing_Mode?.value || item?.Billing_Mode }}
                      </th>
                      <td>{{ item?.No_of_Unit }}</td>
                      <td>{{ item?.Per_Unit_Charges }}</td>
                      <td>{{ item?.Total_Amount }}</td>
                      <td>{{ item?.Raised_By }}</td>
                      <td>{{ item?.status_remark }}</td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div
          class="modal fade"
          id="customerModal"
          data-bs-backdrop="static"
          data-bs-keyboard="false"
          tabindex="-1"
          aria-labelledby="customerModal"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-xl">
            <div
              class="modal-content rounded-3 border rounded-3 border-1 border-color-light shadow-light"
            >
              <div class="p-3">
                <h3 style="color: #1d4380" class="text-decoration-underline">
                  Customer Manual Billing Module
                </h3>
                <form
                  [formGroup]="billingForm"
                  (submit)="onSubmit(billingForm.value)"
                >
                  <div class="d-flex pb-2 pt-2">
                    <div class="col-md-3">
                      <label class="m-0" for="customer">Transporter</label>
                      <ng-select
                        formControlName="customer"
                        (change)="onTransporterChange($event)"
                        appearance="outline"
                        [searchable]="false"
                        placeholder="Select Transporter"
                      >
                        <ng-option
                          *ngFor="let transporter of transporters"
                          [value]="transporter"
                        >
                          {{ transporter?.value }}
                        </ng-option>
                      </ng-select>
                    </div>
                    <div
                      class="col-md-3 pb-2 gap-3 d-flex align-items-end justify-content-start"
                    >
                      <button
                        type="button"
                        style="color: #1d4380"
                        [disabled]="billingForm.get('customer')?.invalid"
                        [ngbTooltip]="
                          !billingForm.get('customer')?.value
                            ? 'Please select the transporter'
                            : ''
                        "
                        (click)="addVehicle()"
                        class="d-flex align-items-center gap-2"
                      >
                        <i
                          style="color: #1d4380"
                          class="fa-solid fa-circle-plus fa-2xl"
                        ></i>
                        <p class="m-0 p-0 fw-bold">Add More Vehicle</p>
                      </button>
                    </div>
                  </div>

                  <div formArrayName="vehicles" class="ms-0 mt-3">
                    <div
                      *ngFor="let vehicle of vehicles.controls; let i = index"
                      [formGroupName]="i"
                      class="d-flex mt-3 py-3"
                    >
                      <div class="col-lg-12">
                        <div class="row">
                          <!-- ///////////////////////////////////////////// -->

                          <div class="custome">
                            <label class="m-0" for="Vehicle_Type"
                              >Vehicle Type</label
                            >
                            <ng-select
                              id="Vehicle_Type"
                              formControlName="Vehicle_Type"
                              appearance="outline"
                              [searchable]="false"
                              placeholder="Enter Vehicle Type"
                              [ngClass]="{'border-danger': vehicle.get('Vehicle_Type')?.touched && vehicle.get('Vehicle_Type')?.errors?.['required']}"
                            >
                              <ng-option
                                *ngFor="let vehicles of vehicleList"
                                [value]="vehicles"
                                >{{ vehicles.vehicle_no }}</ng-option
                              >
                            </ng-select>
                            <span
                              style="font-size: 11px"
                              *ngIf=" vehicle.get('Vehicle_Type')?.touched && vehicle.get('Vehicle_Type')?.errors?.['required']"
                              class="text-red position-absolute text-sm-center"
                            >
                              Select vehicle</span
                            >
                          </div>
                          <div class="custome">
                            <label class="m-0" for="Billing_Start_Data"
                              >Billing Start Date</label
                            >
                            <input
                              id="Billing_Start_Data"
                              type="date"
                              formControlName="Billing_Start_Data"
                              class="form-control"
                              placeholder="Select Start Date..."
                              [ngClass]="{'border-danger': vehicle.get('Billing_Start_Data')?.touched && vehicle.get('Billing_Start_Data')?.errors?.['required']}"
                            />
                            <span
                              style="font-size: 11px"
                              *ngIf=" vehicle.get('Billing_Start_Data')?.touched && vehicle.get('Billing_Start_Data')?.errors?.['required']"
                              class="text-red position-absolute text-sm-center"
                            >
                              Select start date</span
                            >

                            <span
                              style="font-size: 11px"
                              *ngIf="vehicle.hasError('dateRange')"
                              class="text-danger position-absolute text-sm-center"
                            >
                              Start date must be before end date.
                            </span>
                          </div>
                          <div class="custome">
                            <label class="m-0" for="Billing_End_Data"
                              >Billing End Date</label
                            >
                            <input
                              id="Billing_End_Data"
                              type="date"
                              formControlName="Billing_End_Data"
                              class="form-control"
                              placeholder="Select End Date..."
                              [ngClass]="{'border-danger': vehicle.get('Billing_End_Data')?.touched && vehicle.get('Billing_End_Data')?.errors?.['required']}"
                            />
                            <span
                              style="font-size: 11px"
                              *ngIf=" vehicle.get('Billing_End_Data')?.touched && vehicle.get('Billing_End_Data')?.errors?.['required']"
                              class="text-red position-absolute text-sm-center"
                            >
                              Select end date</span
                            >
                          </div>
                          <div class="custome">
                            <label class="m-0" for="Billing_Mode"
                              >Billing Mode</label
                            >
                            <ng-select
                              id="Billing_Mode"
                              formControlName="Billing_Mode"
                              appearance="outline"
                              [searchable]="false"
                              (change)="onBillingModeChange(i)"
                              placeholder="Select Billing Mode"
                              [ngClass]="{'border-danger': vehicle.get('Billing_Mode')?.touched && vehicle.get('Billing_Mode')?.errors?.['required']}"
                            >
                              <!-- agreementtype -->
                              <ng-option
                                *ngFor="
                                  let option of filterDataagreement?.agreementtype
                                "
                                [value]="option"
                                >{{ option.value }}</ng-option
                              >
                              <!-- <ng-option value="trip">Trip Based</ng-option>
                            <ng-option value="km">KM Based</ng-option>
                            <ng-option value="day">Day Based</ng-option> -->
                            </ng-select>
                            <span
                              style="font-size: 11px"
                              *ngIf=" vehicle.get('Billing_Mode')?.touched && vehicle.get('Billing_Mode')?.errors?.['required']"
                              class="text-red position-absolute text-sm-center"
                            >
                              Select billing mode</span
                            >
                          </div>
                          <div class="custome">
                            <label class="m-0">{{
                              vehicle.get("numberOfUnitsLabel")?.value ||
                                "Number of Units"
                            }}</label>
                            <input
                              min="0"
                              type="number"
                              formControlName="No_of_Unit"
                              class="form-control"
                              placeholder="Enter Number of Units"
                              [ngClass]="{'border-danger': vehicle.get('No_of_Unit')?.touched && (vehicle.get('No_of_Unit')?.errors?.['required']||vehicle.get('No_of_Unit')?.errors?.['min'])}"
                            />
                            <span
                              style="font-size: 11px"
                              *ngIf="vehicle.get('No_of_Unit')?.touched && vehicle.get('No_of_Unit')?.errors?.['required']"
                              class="text-danger position-absolute text-sm-center"
                            >
                              Enter the number of units.
                            </span>
                            <span
                              style="font-size: 11px"
                              *ngIf="vehicle.get('No_of_Unit')?.touched && vehicle.get('No_of_Unit')?.errors?.['min']"
                              class="text-danger position-absolute text-sm-center"
                            >
                              Unit should not be negative.
                            </span>
                          </div>
                          <div class="custome">
                            <label class="m-0">{{
                              vehicle.get("perUnitChargesLabel")?.value ||
                                "Per Unit Charges"
                            }}</label>
                            <input
                              min="0"
                              type="number"
                              formControlName="Per_Unit_Charges"
                              class="form-control"
                              placeholder="Enter Per Unit Charges"
                              [ngClass]="{'border-danger': vehicle.get('Per_Unit_Charges')?.touched && (vehicle.get('Per_Unit_Charges')?.errors?.['required']||vehicle.get('Per_Unit_Charges')?.errors?.['min'])}"
                            />
                            <span
                              style="font-size: 11px"
                              *ngIf="vehicle.get('Per_Unit_Charges')?.touched && vehicle.get('Per_Unit_Charges')?.errors?.['required']"
                              class="text-danger position-absolute text-sm-center"
                            >
                              Enter the per unit charges.
                            </span>
                            <span
                              style="font-size: 11px"
                              *ngIf="vehicle.get('Per_Unit_Charges')?.touched && vehicle.get('Per_Unit_Charges')?.errors?.['min']"
                              class="text-danger position-absolute text-sm-center"
                            >
                              Charges should not be negative.
                            </span>
                          </div>
                          <div
                            class="d-flex custome flex-grow-0 position-relative"
                          >
                            <div
                              class="d-flex flex-column align-items-center justify-content-between"
                            >
                              <label class="m-0 text-nowrap"
                                >Total Charges</label
                              >
                              <h5
                                class="charges m-0 mb-2 text-decoration-underline position-absolute bottom-0"
                              >
                                {{
                                  vehicle.get("Total_Amount")?.value
                                    | currency : "₹"
                                }}
                              </h5>
                            </div>
                            <div
                              class="d-flex align-items-end justify-content-center"
                            >
                              <button
                                type="button"
                                (click)="removeVehicle(i)"
                                class="col-md-8 mb-0.5 py-1 btn-remove-vehicle rounded-1 text-white"
                              >
                                <i
                                  class="fa fa-trash h3 m-0 text-black"
                                  aria-hidden="true"
                                ></i>
                              </button>
                            </div>
                          </div>

                          <!-- ///////////////////////////////////// -->
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    class="d-flex justify-content-center gap-4 col-md-7 mx-auto"
                  >
                    <button
                      [disabled]="
                        !billingForm.valid ||
                        !billingForm.value.vehicles.length ||
                        !saveBillButton
                      "
                      [ngClass]="{
                        'disabled-button':
                          !billingForm.valid ||
                          !billingForm.value.vehicles.length ||
                          !saveBillButton,
                        'enabled-button':
                          billingForm.valid &&
                          billingForm.value.vehicles.length &&
                          saveBillButton
                      }"
                      style="
                        border: 1.6px solid #172c51;
                        background-color: #1d4380;
                      "
                      type="submit"
                      class="text-white h5 py-2 px-3 rounded-3 mt-3 col-md-2"
                    >
                      Save
                    </button>

                    <button
                      style="border: 1.6px solid #172c51"
                      type="button"
                      data-bs-dismiss="modal"
                      class="text-white h5 py-2 px-3 rounded-3 btn-orange mt-3 shadow-none col-md-2"
                    >
                      Cancel
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Agreement -->
      <!-- Agreement -->
      <div
      class="tab-pane fade"
      id="nav-Agreement"
      role="tabpanel"
      aria-labelledby="nav-Agreement-tab"
    >
      <div class="container">
        <div class="row">
          <div class="col">
            <form
              [formGroup]="AgreementForm"
              (ngSubmit)="submitForm(AgreementForm.value)"
            >
              <div class="row">
                <div class="col-lg-12">
                  <div class="row mt-2">
                    <div class="column">
                      <label for="" class="cutom">Vender name</label>
                      <ng-select
                        placeholder="select an option"
                        id="ShipmentNo"
                        [class.invalid-select]="
                          AgreementForm.controls.VenderName?.invalid &&
                          AgreementForm.controls.VenderName?.touched
                        "
                        class="cutombox"
                        formControlName="VenderName"
                        required
                      >
                        <ng-option value="" selected
                          >Select an option</ng-option
                        >
                        <ng-option
                          [value]="item"
                          *ngFor="let item of venderList"
                          >{{ item.value }}</ng-option
                        >
                      </ng-select>
                      <div
                        *ngIf="
                          AgreementForm.controls.VenderName?.invalid &&
                          AgreementForm.controls.VenderName?.touched
                        "
                        class="error-message"
                      >
                        Please fill out this field
                      </div>
                      <!-- <input type="text" id="form12" class="form-control cutombox" formControlName="VenderName" required /> -->
                    </div>
                    <div class="column">
                      <label for="" class="cutom">Agreement Code</label>
                      <input
                        type="text"
                        id="form12"
                        class="form-control cutombox"
                        formControlName="AgreementCode"
                        required
                      />
                    </div>
                    <div class="column">
                      <label for="" class="cutom">Agreement Date</label>
                      <input
                        type="datetime-local"
                        step="1"
                        class="form-control cutombox"
                        formControlName="AgreementDate"
                        required
                      />
                    </div>
                    <div class="column">
                      <label for="" class="cutom">No. Of Vehicle</label>
                      <input
                        type="text"
                        id="form12"
                        formControlName="TotalnoVehicle"
                        class="form-control cutombox"
                        required
                      />
                    </div>

                    <div class="column">
                      <label for="" class="cutom">Upload Agreement</label>
                      <input
                        type="file"
                        id="form12"
                        (change)="selectFile($event)"
                        formControlName="AgreementFile"
                        class="form-control cutombox"
                        required
                      />
                    </div>

                    <div class="column">
                      <button
                        type="button"
                        (click)="agreementView()"
                        class="btn btn-outline-primary btn-sm mt-6"
                      >
                        View
                      </button>
                    </div>
                    <!-- <div class="column">
                                    <button  type="button"  class="btn btn-outline-primary btn-sm mt-6">Submit</button>
                                </div> -->
                    <div class="column" align="right">
                      <label for="" class="cutom"></label>
                      <button
                        type="button"
                        class="btn btn-outline-primary btn mt-4"
                        (click)="addtable()"
                      >
                        <i class="fa fa-plus"></i>Add
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-12" align="right" style="padding: 10px">
                <!-- <span>
                            <button type="button" class="btn btn-success" (click)="addtable()">
                                <i class="fa fa-plus" style="color: white;"></i>Add
                            </button>
                        </span> -->
              </div>
              <div style="height: 420px; overflow-x: auto">
                <div formArrayName="Agreement" id="accordionExample">
                  <div
                    class=""
                    *ngFor="
                      let table1st of getcustumerinvoice().controls;
                      let i = index
                    "
                  >
                    <div [formGroupName]="i">
                      <div class="accordion-item mt-2">
                        <div class="d-flex align-items-center">
                          <h2
                            class="accordion-header flex-grow-1"
                            [id]="'heading' + i"
                            style="
                              border-radius: 2px;
                              margin: 0;
                              background-color: #f4f5fb;
                              color: black;
                            "
                          >
                            <button
                              class="accordion-button"
                              type="button"
                              data-bs-toggle="collapse"
                              [attr.data-bs-target]="'#collapse' + i"
                              aria-expanded="false"
                              [attr.aria-controls]="'collapse' + i"
                              style="
                                height: 32px;
                                background: none;
                                width: 100%;
                                color: black;
                                font-weight: 600;
                                font-family: sans-serif;
                              "
                            >
                              Agreement Information
                              <!-- <button type="button" (click)="deletetable(i)"
                                                            style="height: 33.5px;margin-left: 1007px;">
                                                            <i class="fa fa-times-circle" style="font-size: 18px;color: white;"></i>
                                                        </button> -->

                              <a
                                type="button"
                                (click)="deletetable(i)"
                                style="
                                  position: absolute;

                                  right: 55px;
                                  margin-top: 5px;
                                "
                              >
                                <i
                                  class="fa fa-times-circle"
                                  style="font-size: 18px; color: black"
                                ></i>
                              </a>
                            </button>
                          </h2>
                        </div>
                        <div
                          [id]="'collapse' + i"
                          class="accordion-collapse collapse"
                          [attr.aria-labelledby]="'heading' + i"
                          data-bs-parent="#accordionExample"
                        >
                          <div class="accordion-body">
                            <div class="col-lg-12">
                              <div class="row">
                                <div class="col-lg-6">
                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      Number Of Vehicle
                                    </div>
                                    <div class="col-lg-5">
                                      <input
                                        type="number"
                                        class="form-control cutombox"
                                        formControlName="Noofvehcle"
                                        style="height: 32px"
                                      />
                                    </div>
                                  </div>
                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      Vehicle Type
                                    </div>
                                    <div class="col-lg-5">
                                      <ng-select
                                        placeholder="select an option"
                                        id="ShipmentNo"
                                        class="cutombox"
                                        required
                                        name="source"
                                        formControlName="vehcleType"
                                      >
                                        <ng-option value="" selected
                                          >Select an option</ng-option
                                        >
                                        <ng-option
                                          [value]="item"
                                          *ngFor="
                                            let item of filterDataagreement?.bodytype
                                          "
                                          >{{ item.value }}</ng-option
                                        >
                                        <!-- <ng-option [value]="item.source_id"
                                                                  *ngFor="let item of sourceListdata">{{item.source_name}}</ng-option> -->
                                      </ng-select>
                                    </div>
                                  </div>
                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      Vehicle Capacity
                                    </div>
                                    <div class="col-lg-5">
                                      <ng-select
                                        placeholder="select an option"
                                        id="ShipmentNo"
                                        class="cutombox"
                                        required
                                        name="source"
                                        formControlName="vehcleCapacity"
                                      >
                                        <ng-option value="" selected
                                          >Select an option</ng-option
                                        >
                                        <ng-option
                                          [value]="item"
                                          *ngFor="
                                            let item of filterDataagreement?.vehiclecapacity
                                          "
                                          >{{ item.capacity }}</ng-option
                                        >
                                        <!-- <ng-option [value]="item.source_id"
                                                                  *ngFor="let item of sourceListdata">{{item.source_name}}</ng-option> -->
                                      </ng-select>
                                    </div>
                                  </div>
                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      Trip Type
                                    </div>
                                    <div class="col-lg-5">
                                      <ng-select
                                        placeholder="select an option"
                                        id="ShipmentNo"
                                        (change)="TripTypeF($event)"
                                        class="cutombox"
                                        required
                                        name="source"
                                        formControlName="tripType"
                                      >
                                        <!-- <ng-option value="T" selected>Trip Based</ng-option>
                                          <ng-option value="D" selected>Distance Based</ng-option>
                                          <ng-option value="H" selected>Hourly Based</ng-option>
                                          <ng-option value="DH" selected>Distance & Hourly Based</ng-option> -->

                                        <ng-option
                                          [value]="item"
                                          *ngFor="
                                            let item of filterDataagreement?.agreementtype
                                          "
                                          >{{ item.value }}</ng-option
                                        >
                                      </ng-select>
                                    </div>
                                  </div>
                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      Toll Tax
                                    </div>
                                    <div class="col-lg-5">
                                      <input
                                        type="number"
                                        class="form-control cutombox"
                                        formControlName="tolltax"
                                        style="height: 32px"
                                      />
                                    </div>
                                  </div>

                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      From Date
                                    </div>
                                    <div class="col-lg-5">
                                      <input
                                        type="datetime-local"
                                        step="1"
                                        class="form-control cutombox"
                                        name="runDate"
                                        required
                                        formControlName="fromdate"
                                      />
                                    </div>
                                  </div>
                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      To Date
                                    </div>
                                    <div class="col-lg-5">
                                      <input
                                        type="datetime-local"
                                        step="1"
                                        class="form-control cutombox"
                                        name="runDate"
                                        required
                                        formControlName="todate"
                                      />
                                    </div>
                                  </div>
                                  <div class="row mt-2">
                                    <div class="col-lg-4 cutom">
                                      <label for="" class="column cutom">
                                        Night Charge</label
                                      >
                                      <input
                                        class="form-check-input"
                                        type="checkbox"
                                        value=""
                                        (change)="Nightf($event)"
                                        id="flexCheckChecked"
                                        style="
                                          margin-left: 2px;
                                          border: 1px solid;
                                        "
                                        checked
                                        required
                                      />
                                    </div>
                                    <div class="col-lg-5">
                                      <div class="row">
                                        <ng-container *ngIf="TimeCheck">
                                          <div class="col-lg-6">
                                            <label for="" class="cutom"
                                              >From</label
                                            >
                                            <input
                                              type="time"
                                              class="form-control cutombox"
                                              required
                                              formControlName="NighFrom"
                                            />
                                          </div>
                                          <div class="col-lg-6">
                                            <label for="" class="cutom"
                                              >To</label
                                            >
                                            <input
                                              type="time"
                                              class="form-control cutombox"
                                              required
                                              formControlName="NightTo"
                                            />
                                          </div>
                                        </ng-container>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <!-- //////////////////////////////////////////////////// -->

                                <div class="col-lg-6">
                                  <ng-container *ngIf="tripF == 'T'">
                                    <div class="row">
                                      <label for="" class="HeadingTab">{{
                                        Based
                                      }}</label>
                                    </div>
                                    <!-- <legend>{{Based}}:</legend> -->
                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum no of Trips
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="Tminoftrips"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Trip Cost</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="ttripcost"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Tentative Distance (Km)
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="TTentativeDistance"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>
                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Fixed Charges</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="TFixedCharges"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum Monthly Cost
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="tMinimumMonthlyCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>
                                  </ng-container>
                                  <ng-container *ngIf="tripF == 'D'">
                                    <div class="row">
                                      <label for="" class="HeadingTab">{{
                                        Based
                                      }}</label>
                                    </div>
                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum Distance (Km)
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="DMinimumDistance"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom">
                                          Distance Cost</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="DDistanceCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Tentative Distance (Km)
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dTentativeDistance"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>

                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Fixed Charges</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dFixedCharges"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum Monthly Cost
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dMinimumMonthlyCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>
                                  </ng-container>
                                  <ng-container *ngIf="tripF == 'H'">
                                    <div class="row">
                                      <label for="" class="HeadingTab">{{
                                        Based
                                      }}</label>
                                    </div>
                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum Duration (Hrs.)
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="hMinimumDuration"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom">
                                          Hourly Cost</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="hHourlyCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Tentative Distance (Km)
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="hTentativeDistance"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>
                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Fixed Charges</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="hFixedCharges"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum Monthly Cost</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="hMinimumMonthlyCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>
                                  </ng-container>
                                  <ng-container *ngIf="tripF == 'DH'">
                                    <div class="row">
                                      <label for="" class="HeadingTab">{{
                                        Based
                                      }}</label>
                                    </div>
                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum Daily Distance(Km)</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhMinimumDailyDistance"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom">
                                          Minimum Daily Duration(Hrs)</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhMinimumDailyDuration"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Distance Cost</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhDistanceCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>
                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Hourly Cost</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhHourlyCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Tentative Distance (Km)
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhTentativeDistance"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Tentative Durations (Hrs.)
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhTentativeDurations"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>

                                    <div class="row mt-2">
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Fixed Charges
                                        </label>
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhFixedCharges"
                                          style="height: 32px"
                                        />
                                      </div>
                                      <div class="col-lg-4">
                                        <label for="" class="column cutom"
                                          >Minimum Monthly Cost</label
                                        >
                                        <input
                                          type="text"
                                          class="form-control cutombox"
                                          formControlName="dhMinimumMonthlyCost"
                                          style="height: 32px"
                                        />
                                      </div>
                                    </div>
                                  </ng-container>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mt-4">
                <div style="text-align: right">
                  <!-- <button class="btn btn-sm btn-orange" type="button" style="color: white; margin-left: 2px;">Reset</button> -->
                  <button
                    class="btn btn-sm btn-orange"
                    type="button"
                    style="color: white; margin-left: 2px"
                  >
                    Cancel
                  </button>
                  <button
                    class="btn btn-sm btn-orange"
                    type="submit"
                    style="color: white; margin-left: 2px"
                  >
                    Submit
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
        <!-- Vehicle -->
        <div
          class="tab-pane fade"
          id="nav-Vehicle"
          role="tabpanel"
          aria-labelledby="nav-Vehicle-tab"
        >
          <div class="col-lg-12">
            <!-- <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" [fullScreen]="true" type="ball-spin-clockwise">
                <p style="color: black">Please Wait.. </p>
              </ngx-spinner> -->

            <!-- <div style=" margin-left: 5px; -->
            <!-- margin-right: 5px;"> -->

            <div class="col-lg-12">
              <div class="row">
                <div class="col-lg-10">
                  <div class="fiter">
                    <p style="color: 1D4380; font-weight: 600">
                      <a
                        data-bs-toggle="collapse"
                        data-bs-target="#collapseExample"
                        role="button"
                        aria-expanded="false"
                        aria-controls="collapseExample"
                        style="font-size: 16px"
                      >
                        <i
                          class="fa fa-filter"
                          aria-hidden="true"
                          style="
                            font-size: 20px;
                            color: #1d4380;
                            margin-top: 8px;
                          "
                        ></i
                        >FILTER
                      </a>
                    </p>
                    <div class="collapse" id="collapseExample">
                      <div
                        class="card card-body"
                        style="border: none; box-shadow: none"
                      >
                        <form
                          #filterForm="ngForm"
                          (ngSubmit)="onVehicleFilter(filterForm.value)"
                        >
                          <div class="col-lg-12" style="margin-top: -20px">
                            <div class="row">
                              <div class="col-lg-2">
                                <span class="filtor_name">From</span>
                                <input
                                  type="date"
                                  class="form-control cutombox"
                                  required
                                  name="from_date"
                                  ngModel
                                />
                              </div>
                              <div class="col-lg-2">
                                <span class="filtor_name">To</span>
                                <input
                                  type="date"
                                  class="form-control cutombox"
                                  required
                                  name="to_date"
                                  ngModel
                                />
                              </div>
                              <div class="col-lg-2">
                                <span class="filtor_name">Select Customer</span>
                                <ng-select
                                  [ngModel]
                                  name="corpCustomer"
                                  id="corpCustomer"
                                  placeholder="Category"
                                  class="cutombox"
                                  style="font-size: 14px; font-weight: 400"
                                  [closeOnSelect]="true"
                                >
                                  <ng-option
                                    *ngFor="let item of qTransporterList"
                                    [value]="item?.TransporterId"
                                  >
                                    {{ item?.TransporterName }}</ng-option
                                  >
                                </ng-select>
                              </div>

                              <div class="col-lg-2">
                                <button
                                  type="submit"
                                  data-bs-toggle="collapse"
                                  data-bs-target="#collapseExample"
                                  class="btn btn-outline-primary btn-sm"
                                  style="margin-top: 22px"
                                >
                                  Submit
                                </button>
                              </div>
                            </div>
                            &nbsp;
                          </div>
                        </form>
                      </div>
                    </div>
                    <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                  </div>
                </div>
                <div *ngIf="UserType !== '6'" class="col-lg-2 mt-2">
                  <div class="" style="text-align: right">
                    <i
                      class="fa fa-upload d-none"
                      style="font-size: 28px; color: #1d4380"
                    ></i>
                    &nbsp;&nbsp;
                    <button type="button">
                      <i
                        class="fa fa-plus-circle"
                        aria-hidden="true"
                        style="font-size: 28px; color: #1d4380"
                        (click)="switch()"
                      ></i>
                    </button>
                  </div>
                </div>
              </div>

              <!-- </div> -->
            </div>

            <div class="container-fluid">
              <div class="row">
                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-0">
                  <div class="card status-card">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <h5 class="card-title">Vehicle</h5>
                        <img
                          src="assets/images/v.png"
                          alt="Vehicle Status"
                          style="height: 45px; margin-top: 0px"
                        />
                      </div>
                      <div class="row">
                        <div
                          class="col-6"
                          style="width: 150px; height: 150px; margin-top: -42px"
                        >
                          <div id="consSt" class=""></div>
                        </div>
                      </div>
                      <div class="status-legend" style="margin-top: -42px">
                        <div class="col-12" *ngIf="isqVehicleChartLoading">
                          <div
                            class="skeleton col-12 skeleton-checkbox short ms-auto me-0"
                          ></div>
                        </div>
                        <div
                          *ngIf="!isqVehicleChartLoading"
                          class="col-12 mt-0 custom"
                        >
                          <span
                            class="status-text"
                            style="color: rgb(239, 91, 11)"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.vehicle?.existing_vehicle
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #1d4380"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.vehicle?.new_vehicle
                            }}</span
                          >
                        </div>
                        <span style="color: rgb(239, 91, 11)">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: rgb(239, 91, 11)"
                          ></i>
                          Existing Vehicle
                        </span>
                        <span style="color: #1d4380">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #1d4380"
                          ></i>
                          New Vehicle
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Repeat similar structure for other cards -->

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-0">
                  <div class="card status-card">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <h5 class="card-title">Body Type</h5>
                        <img
                          src="assets/images/tov.png"
                          alt="Delivery Status"
                          style="height: 45px; margin-top: 0px"
                        />
                      </div>
                      <div class="row">
                        <div
                          class="col-6"
                          style="width: 150px; height: 150px; margin-top: -42px"
                        >
                          <div id="deliverySt" class=""></div>
                        </div>
                      </div>
                      <div class="status-legend" style="margin-top: -42px">
                        <div class="col-12" *ngIf="isqVehicleChartLoading">
                          <div
                            class="skeleton col-12 skeleton-checkbox short ms-auto me-0"
                          ></div>
                        </div>
                        <div
                          *ngIf="!isqVehicleChartLoading"
                          class="col-12 mt-0 custom"
                        >
                          <span
                            class="status-text"
                            style="color: #ec6625"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.body_type?.open_body
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #1d4380"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.body_type?.closed_body
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: rgb(253, 195, 5)"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.body_type?.container
                            }}</span
                          >
                        </div>
                        <span style="color: #ec6625"
                          ><i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #ec6625"
                          ></i
                          >Open Body</span
                        >
                        <span style="color: #1d4380"
                          ><i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #1d4380"
                          ></i
                          >Closed Body</span
                        >
                        <span style="color: rgb(253, 195, 5)"
                          ><i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: rgb(253, 195, 5)"
                          ></i
                          >Container</span
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Repeat similar structure for other cards -->
                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-0">
                  <div class="card status-card">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <h5 class="card-title">Vehicle Rating</h5>
                        <img
                          src="assets/images/vr.png"
                          alt="Vehicle Status"
                          style="height: 45px; margin-top: 0px"
                        />
                      </div>
                      <div class="row">
                        <div
                          class="col-6"
                          style="width: 150px; height: 150px; margin-top: -42px"
                        >
                          <div id="vehicleSt" class=""></div>
                        </div>
                      </div>
                      <div class="status-legend" style="margin-top: -42px">
                        <div class="col-12" *ngIf="isqVehicleChartLoading">
                          <div
                            class="skeleton col-12 skeleton-checkbox short ms-auto me-0"
                          ></div>
                        </div>
                        <div
                          *ngIf="!isqVehicleChartLoading"
                          class="col-12 mt-0 custom"
                        >
                          <span
                            class="status-text"
                            style="color: #ec6625"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.vehicle_rating
                                ?.less_than_two
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #1d4380"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.vehicle_rating?.two_to_four
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #613704"
                            id="numberH"
                            >{{
                              vehicleDashboardData?.vehicle_rating
                                ?.more_than_four
                            }}</span
                          >
                        </div>
                        <span style="color: #ec6625"
                          ><i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #ec6625"
                          ></i
                          >Less Than 2</span
                        >
                        <span style="color: #1d4380"
                          ><i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #1d4380"
                          ></i
                          >2 To 4</span
                        >
                        <span style="color: #613704"
                          ><i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #613704"
                          ></i
                          >More Than 4</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- //////////////////////////////////////////////////////////////////////////////////////// -->
            <div class="row mt-2">
              <div class="col-lg-2" style="text-align: left">
                <button
                  [disabled]="!selectVehicleIds.length"
                  class="btn btn-sm btn-green col-lg-5"
                  type="submit"
                  style="color: white; background-color: green"
                  (click)="updateVehicleStatus('active', filterForm.value)"
                >
                  Activate
                </button>
                <button
                  [disabled]="!selectVehicleIds.length"
                  class="btn btn-sm btn-orange col-lg-5"
                  type="submit"
                  style="
                    color: white;
                    margin-left: 2px;
                    background-color: orange;
                  "
                  (click)="updateVehicleStatus('de-active', filterForm.value)"
                >
                  Deactivate
                </button>
                <!-- <button
                    [disabled]="!selectVehicleIds.length"
                    class="btn btn-sm btn-blue"
                    type="submit"
                    style="
                      color: white;
                      margin-left: 2px;
                      background-color: #1d4380;
                    "
                    (click)="
                      updateVehicleStatus('delete', filterForm.value)
                    "
                  >
                    Delete
                  </button> -->
              </div>
            </div>
            <!-- /////////////////////////////////////////// -->
            <div class="info mt-2">
              <table
                class="table"
                cellspacing="0"
                id="masterUploadQ"
                width="100%"
              >
                <thead>
                  <tr style="text-align: center; white-space: nowrap">
                    <th class="table-primary">
                      <input
                        type="checkbox"
                        (change)="qtoggleVehcileAllSelection()"
                        [checked]="qallVehicleSelected"
                      />
                    </th>
                    <th class="table-primary">SL</th>
                    <th class="table-primary">Category</th>
                    <th class="table-primary">Make & Model</th>
                    <th class="table-primary">Vehicle Number</th>
                    <th class="table-primary">Customer</th>
                    <th class="table-primary">Type</th>
                    <th class="table-primary">Reg. No.</th>
                    <th class="table-primary">Reg. Date</th>
                    <th class="table-primary">Capacity</th>
                    <th class="table-primary">Fuel Type</th>
                    <th class="table-primary">Speed Limit</th>
                    <th class="table-primary">Vehicle Documents</th>

                    <!-- <th class="table-primary">Remarks</th> -->
                    <th class="table-primary">Status</th>
                    <th *ngIf="UserType !== '6'" class="table-primary">
                      Action
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngIf="isLoadingVehicleTable">
                    <tr
                      *ngFor="let i of [1, 2, 3, 4, 5]"
                      style="white-space: nowrap; text-align: center"
                    >
                      <td>
                        <div class="skeleton skeleton-checkbox"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text long"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text long"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td *ngIf="UserType !== '6'">
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                    </tr>
                  </ng-container>
                  <ng-container *ngIf="!isLoadingVehicleTable">
                    <tr
                      style="white-space: nowrap; text-align: center"
                      *ngFor="let item of vehicleTableData; let i = index"
                    >
                      <td>
                        <!-- <input class="vehiclecheck" type="checkbox"  > -->
                        <input
                          type="checkbox"
                          class="vehiclecheck"
                          [checked]="isVehicleSelected(item?.vehicle?.id)"
                          id="checkbox-{{ item?.vehicle?.id }}"
                          required
                          (change)="qtoggleVehicleSelection(item?.vehicle?.id)"
                          class="checkbox"
                        />
                      </td>
                      <td>{{ i + 1 }}</td>
                      <td>
                        {{
                          vehicleCategory[item?.vehicle?.vehicle_category_id]
                        }}
                      </td>
                      <td>
                        {{ vehicleMake[item?.vehicle?.vehicle_make_id] }}-{{
                          vehicleModel[item?.vehicle?.vehicle_model_id]
                        }}
                      </td>
                      <td>{{ item?.vehicle?.vehicle_number || "" }}</td>
                      <td>{{ item?.cust_data?.name || "" }}</td>
                      <td>
                        {{ vehicleBodyType[item?.vehicle?.vehicle_type] || "" }}
                      </td>
                      <td>{{ item?.vehicle?.registration_no || "" }}</td>
                      <td>{{ item?.vehicle?.registration_date || "" }}</td>
                      <td>
                        {{
                          vehicleCapacityType[
                            item?.vehicle?.vehicle_capacity_tons
                          ]
                            ? vehicleCapacityType[
                                item?.vehicle?.vehicle_capacity_tons
                              ] + " tons"
                            : ""
                        }}
                      </td>
                      <td>
                        {{ vehicleFuelType[item?.vehicle?.fuel_type] || "" }}
                      </td>
                      <td>{{ item?.vehicle?.max_speed || "" }}</td>
                      <!-- <td>
                        <a type="button" href="{{item?.vehicle?.vehicle_doc?.reg_certificate}}" download="reg_certificate.png">
                          <img src="assets/icon/Icon/RC.png" alt="Registration Certificate" class="cssss">
                        </a>
                        <a type="button" href="{{item?.vehicle?.vehicle_doc?.pol_certificate}}" download="pollution_certificate.png">
                          <img src="assets/icon/Icon/Pollution Certificate.png" alt="Pollution Certificate" class="cssss">
                        </a>
                        <a type="button" href="{{item?.vehicle?.vehicle_doc?.nat_goods_certificate}}" download="national_goods_permit.png">
                          <img src="assets/icon/Icon/National Goods Permit.png" alt="National Goods Permit" class="cssss">
                        </a>
                        <a type="button" href="{{item?.vehicle?.vehicle_doc?.insurance_certificate}}" download="insurance_certificate.png">
                          <img src="assets/icon/Icon/Insurance.png" alt="Insurance Certificate" class="cssss">
                        </a>
                        <a type="button" href="{{item?.vehicle?.vehicle_doc?.fit_certificate}}" download="fitness_certificate.png">
                          <img src="assets/icon/Icon/Fitness.png" alt="Fitness Certificate" class="cssss">
                        </a>
                      </td> -->
                      <td style="text-align: left !important">
                        <a
                          *ngIf="getDocumentPath(item, 5)"
                          type="button"
                          [href]="getDocumentPath(item, 5)"
                          download="reg_certificate.png"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/RC.png"
                            alt="Registration Certificate"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="getDocumentPath(item, 6)"
                          type="button"
                          [href]="getDocumentPath(item, 6)"
                          download="pollution_certificate.png"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Pollution Certificate.png"
                            alt="Pollution Certificate"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="getDocumentPath(item, 10)"
                          type="button"
                          [href]="getDocumentPath(item, 10)"
                          download="national_goods_permit.png"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/National Goods Permit.png"
                            alt="National Goods Permit"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="getDocumentPath(item, 7)"
                          type="button"
                          [href]="getDocumentPath(item, 7)"
                          download="insurance_certificate.png"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Insurance.png"
                            alt="Insurance Certificate"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="getDocumentPath(item, 13)"
                          type="button"
                          [href]="getDocumentPath(item, 13)"
                          download="fitness_certificate.png"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Fitness.png"
                            alt="Fitness Certificate"
                            class="cssss"
                          />
                        </a>
                      </td>
                      <td>
                        <span
                          [ngClass]="{
                            'qstatus-base': true,
                            'qpill-green': item?.vehicle?.status === 1,
                            'qpill-yellow': item?.vehicle?.status === 2,
                            'qpill-red': item?.vehicle?.status === 0
                          }"
                        >
                          {{
                            item?.vehicle?.status === 1
                              ? "Active"
                              : item?.vehicle?.status === 2
                              ? "Deactive"
                              : "Deleted"
                          }}
                        </span>
                      </td>
                      <td *ngIf="UserType !== '6'">
                        <img
                          src="assets/images/action.png"
                          alt="action"
                          (click)="switch(item)"
                          style="cursor: pointer"
                        />
                      </td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Driver -->
        <div
          class="tab-pane fade"
          id="nav-Driver"
          role="tabpanel"
          aria-labelledby="nav-Driver-tab"
        >
          <div class="col-lg-12">
            <!-- <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" [fullScreen]="true" type="ball-spin-clockwise">
                <p style="color: black">Please Wait.. </p>
              </ngx-spinner> -->

            <!-- <div style=" margin-left: 5px;
          margin-right: 5px;"> -->
            <div class="col-lg-12">
              <div class="row">
                <div class="col-lg-10">
                  <div class="fiter">
                    <p style="color: 1D4380; font-weight: 600">
                      <a
                        data-bs-toggle="collapse"
                        data-bs-target="#collapseExample"
                        role="button"
                        aria-expanded="false"
                        aria-controls="collapseExample"
                        style="font-size: 16px"
                      >
                        <i
                          class="fa fa-filter"
                          aria-hidden="true"
                          style="
                            font-size: 20px;
                            color: #1d4380;
                            margin-top: 8px;
                          "
                        ></i
                        >FILTER
                      </a>
                    </p>
                    <div class="collapse" id="collapseExample">
                      <div
                        class="card card-body"
                        style="border: none; box-shadow: none"
                      >
                        <form
                          #filterFormD="ngForm"
                          (ngSubmit)="onFilterDriver(filterFormD.value)"
                        >
                          <div class="col-lg-12" style="margin-top: -20px">
                            <div class="row">
                              <div class="col-lg-2">
                                <span class="filtor_name">From</span>
                                <input
                                  type="date"
                                  class="form-control cutombox"
                                  required
                                  name="from_timeD"
                                  ngModel
                                />
                              </div>
                              <div class="col-lg-2">
                                <span class="filtor_name">To</span>
                                <input
                                  type="date"
                                  class="form-control cutombox"
                                  required
                                  name="to_timeD"
                                  ngModel
                                />
                              </div>
                              <div class="col-lg-2">
                                <span class="filtor_name">Select Customer</span>
                                <ng-select
                                  [ngModel]
                                  name="corpCustomer"
                                  id="corpCustomer"
                                  placeholder="Category"
                                  class="cutombox"
                                  style="font-size: 14px; font-weight: 400"
                                  [closeOnSelect]="true"
                                >
                                  <ng-option
                                    *ngFor="let item of qTransporterList"
                                    [value]="item?.TransporterId"
                                  >
                                    {{ item?.TransporterName }}</ng-option
                                  >
                                </ng-select>
                              </div>

                              <div class="col-lg-2">
                                <button
                                  type="submit"
                                  class="btn btn-outline-primary btn-sm"
                                  style="margin-top: 22px"
                                >
                                  Submit
                                </button>
                              </div>
                            </div>
                            &nbsp;
                          </div>
                        </form>
                      </div>
                    </div>
                    <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                  </div>
                </div>
                <div class="col-lg-2 mt-2">
                  <div
                    *ngIf="UserType !== '6'"
                    class=""
                    style="text-align: right"
                  >
                    <!-- <button class="btn btn-sm btn-green" type="submit"
                    style="color: white; background-color: green;">Varify</button>
                  <button class="btn btn-sm btn-orange" type="submit"
                    style="color: white;margin-left: 2px; background-color: orange;">Deactivate</button>
                  <button class="btn btn-sm btn-blue" type="submit"
                    style="color: white;margin-left: 2px; background-color: #1D4380;">Activate</button> -->
                    <i
                      class="fa fa-upload d-none"
                      style="font-size: 28px; color: #1d4380"
                    ></i>
                    &nbsp;&nbsp;
                    <button type="button">
                      <i
                        class="fa fa-plus-circle"
                        aria-hidden="true"
                        style="font-size: 28px; color: #1d4380"
                        (click)="switch2()"
                      ></i>
                    </button>
                  </div>
                </div>
              </div>

              <!-- </div> -->
            </div>

            <div class="container-fluid">
              <div class="row">
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-0">
                  <div class="card status-card">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <h5 class="card-title">Drivers Enrollment</h5>
                        <img
                          src="assets/images/d.png"
                          alt="Vehicle Status"
                          style="height: 45px; margin-top: 0px"
                        />
                      </div>
                      <div class="row">
                        <div
                          class="col-6"
                          style="width: 150px; height: 150px; margin-top: -42px"
                        >
                          <div id="DconsSt" class=""></div>
                        </div>
                      </div>
                      <div class="status-legend" style="margin-top: -42px">
                        <div class="col-12" *ngIf="isqDriverChartLoading">
                          <div
                            class="skeleton col-12 skeleton-checkbox short ms-auto me-0"
                          ></div>
                        </div>
                        <div
                          *ngIf="!isqDriverChartLoading"
                          class="col-12 mt-0 custom"
                        >
                          <span
                            class="status-text"
                            style="color: rgb(239, 91, 11)"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Enrollment
                                ?.Authenticated_Drivers
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #1d4380"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Enrollment
                                ?.Enrolled_Drivers
                            }}</span
                          >
                        </div>
                        <span style="color: rgb(239, 91, 11)">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: rgb(239, 91, 11)"
                          ></i>
                          Authenticated Drivers
                        </span>
                        <span style="color: #1d4380">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #1d4380"
                          ></i>
                          Enrolled Drivers
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-0">
                  <div class="card status-card">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <h5 class="card-title">Type Of Vehicle</h5>
                        <img
                          src="assets/images/tov.png"
                          alt="Trip Status"
                          style="height: 45px; margin-top: 0px"
                        />
                      </div>
                      <div class="row">
                        <div
                          class="col-6"
                          style="width: 150px; height: 150px; margin-top: -42px"
                        >
                          <div id="DtripSt" class=""></div>
                        </div>
                      </div>
                      <div class="status-legend" style="margin-top: -42px">
                        <div class="col-12" *ngIf="isqDriverChartLoading">
                          <div
                            class="skeleton col-12 skeleton-checkbox short ms-auto me-0"
                          ></div>
                        </div>
                        <div
                          *ngIf="!isqDriverChartLoading"
                          class="col-12 mt-0 custom"
                        >
                          <span
                            class="status-text"
                            style="color: #ec6625"
                            id="numberH"
                            >{{
                              driverDashboardData?.Vehicle_Types?.Heavy_Duty
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #1d4380"
                            id="numberH"
                            >{{
                              driverDashboardData?.Vehicle_Types?.Medium_Duty
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #613704"
                            id="numberH"
                            >{{
                              driverDashboardData?.Vehicle_Types?.Light_Duty
                            }}</span
                          >
                        </div>
                        <span style="color: #ec6625">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #ec6625"
                          ></i>
                          Heavy Duty
                        </span>
                        <span style="color: #1d4380">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #1d4380"
                          ></i>
                          Medium Duty
                        </span>
                        <span style="color: #613704">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #613704"
                          ></i>
                          Light Duty
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Repeat similar structure for other cards -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-0">
                  <div class="card status-card">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <h5 class="card-title">Driver Experience</h5>
                        <img
                          src="assets/images/bt.png"
                          alt="Delivery Status"
                          style="height: 45px; margin-top: 0px"
                        />
                      </div>
                      <div class="row">
                        <div
                          class="col-6"
                          style="width: 150px; height: 150px; margin-top: -42px"
                        >
                          <div id="DdeliverySt" class=""></div>
                        </div>
                      </div>
                      <div class="status-legend" style="margin-top: -42px">
                        <div class="col-12" *ngIf="isqDriverChartLoading">
                          <div
                            class="skeleton col-12 skeleton-checkbox short ms-auto me-0"
                          ></div>
                        </div>
                        <div
                          *ngIf="!isqDriverChartLoading"
                          class="col-12 mt-0 custom"
                        >
                          <span
                            class="status-text"
                            style="color: #ec6625"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Experience
                                ?.Less_than_5_yrs
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #1d4380"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Experience
                                ?.Between_5_to_10_yrs
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #613704"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Experience
                                ?.More_than_10_yrs
                            }}</span
                          >
                        </div>
                        <span style="color: #ec6625">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #ec6625"
                          ></i>
                          Less than 5
                        </span>
                        <span style="color: #1d4380">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #1d4380"
                          ></i>
                          5 Yrs to 10 Yrs
                        </span>
                        <span style="color: #613704">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #613704"
                          ></i>
                          More than 10 Yrs
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Repeat similar structure for other cards -->
                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-0">
                  <div class="card status-card">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <h5 class="card-title">Driver Rating</h5>
                        <img
                          src="assets/images/vr.png"
                          alt="Vehicle Status"
                          style="height: 45px; margin-top: 0px"
                        />
                      </div>
                      <div class="row">
                        <div
                          class="col-6"
                          style="width: 150px; height: 150px; margin-top: -42px"
                        >
                          <div id="DvehicleSt" class=""></div>
                        </div>
                      </div>
                      <div class="status-legend" style="margin-top: -42px">
                        <div class="col-12" *ngIf="isqDriverChartLoading">
                          <div
                            class="skeleton col-12 skeleton-checkbox short ms-auto me-0"
                          ></div>
                        </div>
                        <div
                          *ngIf="!isqDriverChartLoading"
                          class="col-12 mt-0 custom"
                        >
                          <span
                            class="status-text"
                            style="color: #ec6625"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Rating?.Less_than_2
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #1d4380"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Rating?.Between_2_to_4
                            }}</span
                          >/
                          <span
                            class="status-text"
                            style="color: #613704"
                            id="numberH"
                            >{{
                              driverDashboardData?.Driver_Rating?.More_than_4
                            }}</span
                          >
                        </div>
                        <span style="color: #ec6625">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #ec6625"
                          ></i>
                          less Than 2
                        </span>
                        <span style="color: #1d4380">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #1d4380"
                          ></i>
                          2 To 4
                        </span>
                        <span style="color: #613704">
                          <i
                            class="fas fa-square-full"
                            style="margin-right: 2px; color: #613704"
                          ></i>
                          More Than 4
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- //////////////////////////////////////////////////////////////////////////////////////// -->
            <div class="container-fuild">
              <div class="row mt-2">
                <div class="col-lg-5" style="text-align: left">
                  <button
                    [disabled]="!selectedDriverIds.length"
                    class="btn btn-sm btn-green col-lg-2"
                    type="button"
                    (click)="updateDriverStatus('Authorize', filterFormD.value)"
                    style="color: white; background-color: green"
                  >
                    Verify
                  </button>
                  <button
                    [disabled]="!selectedDriverIds.length"
                    class="btn btn-sm btn-orange col-lg-2"
                    type="button"
                    (click)="
                      updateDriverStatus('Deactivate', filterFormD.value)
                    "
                    style="
                      color: white;
                      margin-left: 2px;
                      background-color: orange;
                    "
                  >
                    Deactivate
                  </button>
                  <button
                    [disabled]="!selectedDriverIds.length"
                    class="btn btn-sm btn-blue col-lg-2"
                    type="button"
                    (click)="updateDriverStatus('Activate', filterFormD.value)"
                    style="
                      color: white;
                      margin-left: 2px;
                      background-color: #1d4380;
                    "
                  >
                    Activate
                  </button>
                  <!-- <button class="btn btn-sm btn-blue" type="button" (click)="updateDriverStatus('Delete')" style="color: white;margin-left: 2px; background-color: rgb(191, 59, 59);">Delete</button> -->
                  <!-- <button class="btn btn-sm btn-blue" type="button" (click)="updateDriverStatus('Authorize')" style="color: white;margin-left: 2px; background-color: #23272d;">Authorized</button> -->
                </div>
              </div>
            </div>
            <!-- /////////////////////////////////////////// -->
            <div class="container-fuild mt-2">
              <table
                class="table"
                cellspacing="0"
                id="DmasterUpload"
                width="100%"
              >
                <thead>
                  <tr style="text-align: center; white-space: nowrap">
                    <th class="table-primary">
                      <input
                        type="checkbox"
                        (change)="toggleDriverAllSelection()"
                        [checked]="allDriverSelected"
                      />
                    </th>
                    <th class="table-primary">SL</th>
                    <th class="table-primary">Driver Name</th>
                    <th class="table-primary">Gender</th>
                    <th class="table-primary">Vehicle Driving type</th>
                    <th class="table-primary">Customer</th>
                    <th class="table-primary">Driving Experience (Years)</th>
                    <th class="table-primary">Birth Date</th>
                    <th class="table-primary">Mobile Number</th>
                    <th class="table-primary">E-Mail</th>
                    <th class="table-primary">Address</th>
                    <th class="table-primary">Documents</th>
                    <th class="table-primary">Status</th>
                    <th *ngIf="UserType !== '6'" class="table-primary">
                      Action
                    </th>
                  </tr>
                </thead>
                <!-- <tbody>
  
                    <tr style="white-space: nowrap;text-align: center;">
                      <td></td>
                   
                      <td></td>
                      <td></td>
                     
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td><img src="assets/images/action.png" alt="action"  style="cursor: pointer;"></td>
  
  
  
  
                    </tr>
  
                  </tbody> -->
                <tbody>
                  <!-- Skeleton Rows -->
                  <ng-container *ngIf="isLoadingDriverTable">
                    <tr
                      *ngFor="let i of [1, 2, 3, 4, 5]"
                      style="white-space: nowrap; text-align: center"
                    >
                      <td>
                        <div class="skeleton skeleton-checkbox"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text long"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text long"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text short"></div>
                      </td>
                      <td *ngIf="UserType !== '6'">
                        <div class="skeleton skeleton-text medium"></div>
                      </td>
                    </tr>
                  </ng-container>
                  <ng-container *ngIf="!isLoadingDriverTable">
                    <tr
                      *ngFor="let item of driverTableData; let ind = index"
                      style="white-space: nowrap; text-align: center"
                    >
                      <td>
                        <div class="form-check" style="margin-right: 13px">
                          <!-- <input *ngIf="item?.Raised_By === 'customer'" class="form-check-input" type="checkbox"
                               [checked]="isSelected(item?._id)" id="checkbox-{{ind}}" required
                               (change)="toggleSelection(item?._id)"> -->
                          <input
                            type="checkbox"
                            [checked]="isDriverSelected(item?.DriverId)"
                            id="checkbox-{{ ind }}"
                            required
                            (change)="toggleDriverSelection(item?.DriverId)"
                            class="checkbox"
                          />
                        </div>
                      </td>
                      <td>{{ ind + 1 }}</td>
                      <td>{{ item?.Name }}</td>
                      <td>{{ item?.Gender }}</td>
                      <td>{{ item?.VehicleDutyType }}</td>
                      <td>{{ item?.Customer?.Name }}</td>
                      <td>{{ item?.DrivingExpYrs }}</td>
                      <td>{{ item?.BirthDate }}</td>
                      <th>{{ item?.MobileNo }}</th>
                      <td>{{ item?.Email }}</td>
                      <td>{{ item?.Address }}</td>
                      <td>
                        <a
                          *ngIf="item?.Documents?.AadhaarCard"
                          type="button"
                          href="{{ item?.Documents?.AadhaarCard?.Path }}"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Aadhar.png"
                            alt="adhaar card"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="item?.Documents?.DrivingLicense"
                          type="button"
                          href="{{ item?.Documents?.DrivingLicense?.Path }}"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Driving License.png"
                            alt="Pollution Certificate"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="item?.Documents?.PanCard"
                          type="button"
                          href="{{ item?.Documents?.PanCard?.Path }}"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Pan Card.jpg"
                            alt="Pan card"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="item?.Documents?.Photograph"
                          type="button"
                          href="{{ item?.Documents?.Photograph?.Path }}"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Aadhar.png"
                            alt="National Goods Permit"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="item?.Documents?.VoterId"
                          type="button"
                          href="{{ item?.Documents?.VoterId?.Path }}"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Voter id card.jpg"
                            alt="VoterId"
                            class="cssss"
                          />
                        </a>
                        <a
                          *ngIf="item?.Documents?.Passport"
                          type="button"
                          href="{{ item?.Documents?.Passport?.Path }}"
                          target="_blank"
                        >
                          <img
                            src="assets/icon/Icon/Passport.png"
                            alt="passport"
                            class="cssss"
                          />
                        </a>
                      </td>
                      <td>
                        <span
                          [ngClass]="{
                            'qstatus-base': true,
                            'qpill-green': item?.Status.startsWith('Active'),
                            'qpill-yellow ':
                              item?.Status.startsWith('Deactive'),
                            'qpill-red ': item?.Status.startsWith('Delete')
                          }"
                        >
                          {{ item?.Status }}
                        </span>
                      </td>
                      <!-- <td><img (click)="editDriver(item)" src="assets/images/action.png" alt="action"  style="cursor: pointer;"></td> -->
                      <td *ngIf="UserType !== '6'">
                        <img
                          (click)="editDriver(item)"
                          src="assets/images/action.png"
                          alt="action"
                          style="cursor: pointer"
                        />
                      </td>
                      <!-- 
                        <td *ngIf="hide_column">{{item.Vehicle_Contracted}}</td>
                        <td *ngIf="hide_column">{{item.Vehicle_Used}}</td>
                        <td *ngIf="hide_column">{{item.Vehicle_Use_In_Current_Month}}</td>
                        <td *ngIf="hide_column">{{item.Vehicle_Currently_In_Use}}</td>
                        <td *ngIf="hide_column">{{item.Recommendation_IN_Priority}}</td>
                        <td  *ngIf="hide_column">{{item.Vehicle_Remaining}}</td> -->

                      <!-- <td><button type="button" style="    font-size: 15px; font-weight: bold;
                          color: green"[ngStyle]="{'color': getButtonColor(item.Transporter_Score)}" >Request</button> </td> -->
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- --------------------------------------VIEW--------------------------------------- -->
<div
  class="modal fade"
  id="View"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" style="max-width: 78vw">
    <div class="modal-content" style="max-height: 634px; overflow: scroll">
      <!-- (ngSubmit)="Assign_vehicle_Addsubmit()" -->

      <div class="modal-header" style="background-color: white">
        <div style="display: inline-table">Assigned Vehicle</div>
        &nbsp;
        <button
          class="btn-close btn-sm"
          id="btnUncheckAll"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="card-body">
        <div style="overflow-x: auto">
          <table
            class="table"
            cellspacing="0"
            id="Assignvehicle-view"
            width="100%"
          >
            <thead>
              <tr style="text-align: center; white-space: nowrap">
                <!-- <th class="table-primary"> </th> -->
                <th class="table-primary">Vehicle Number</th>
                <th class="table-primary">Driving License No</th>
                <th class="table-primary">Driving License Exp</th>
                <th class="table-primary">Aadhaar Card No</th>
                <th class="table-primary">Pan Card No</th>
                <!-- <th class="table-primary">Photograph</th> -->
                <th class="table-primary">First Driver Name</th>
                <th class="table-primary">Second Driver Name</th>
                <th class="table-primary">Phone</th>
                <th class="table-primary">Vehicle Type</th>
                <th class="table-primary">Vehicle Capacity</th>
                <th class="table-primary">Registration Certificate No</th>
                <th class="table-primary">Registration Certificate Exp</th>
                <th class="table-primary">Pollution Certificate No</th>
                <th class="table-primary">Pollution Certificate Exp</th>
                <th class="table-primary">Vehicle Insurance No</th>
                <th class="table-primary">Vehicle Insurance Exp</th>
                <th class="table-primary">National Goods Permit</th>
                <th class="table-primary">National Goods Permit Exp</th>
                <th class="table-primary">Quote</th>
                <th class="table-primary">Safety Features</th>
                <th class="table-primary">Remark</th>
                <!-- <th>Safety Features</th> -->
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let item of Assigned_vehicle; let ind = index"
                style="white-space: nowrap; text-align: center"
              >
                <!-- <td><input type="radio" name="value" id="value" (change)="selected_radio(item.OrderNumber,item)"></td> -->
                <td
                  [ngClass]="{
                    'status-0': item.VehicleNumber_status === 0,
                    'status-1': item.VehicleNumber_status === 1
                  }"
                >
                  {{ item.VehicleNumber }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.DrivingLicense_status === 0,
                    'status-1': item.DrivingLicense_status === 1
                  }"
                >
                  {{ item.DrivingLicense_No }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.DrivingLicense_exp === 0,
                    'status-1': item.DrivingLicense_exp !== 0
                  }"
                >
                  {{ item.DrivingLicense_exp }}
                </td>
                <td>{{ item.AadhaarCard_No }}</td>
                <td>{{ item.PanCard_No }}</td>
                <!-- <td>{{item.Photograpg}}</td> -->
                <td>{{ item.First_Driver_name }}</td>
                <td>{{ item.Secornd_Driver_name }}</td>
                <td>{{ item.Phone }}</td>
                <td>{{ item.Vehicle_Type }}</td>
                <td>{{ item.Vehicle_Capacity }}</td>
                <td
                  [ngClass]="{
                    'status-0': item.RegistrationCertificate_status === 0,
                    'status-1': item.RegistrationCertificate_status === 1
                  }"
                >
                  {{ item.RegistrationCertificate_no }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.RegistrationCertificate_exp === 0,
                    'status-1': item.RegistrationCertificate_exp !== 0
                  }"
                >
                  {{ item.RegistrationCertificate_exp }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.PollutionCertificate_status === 0,
                    'status-1': item.PollutionCertificate_status === 1
                  }"
                >
                  {{ item.PollutionCertificate_no }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.PollutionCertificate_exp === 0,
                    'status-1': item.PollutionCertificate_exp !== 0
                  }"
                >
                  {{ item.PollutionCertificate_exp }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.VehicleInsurance_status === 0,
                    'status-1': item.VehicleInsurance_status === 1
                  }"
                >
                  {{ item.VehicleInsurance_no }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.VehicleInsurance_exp === 0,
                    'status-1': item.VehicleInsurance_exp !== 0
                  }"
                >
                  {{ item.VehicleInsurance_exp }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.NationalGoodsPermit_status === 0,
                    'status-1': item.NationalGoodsPermit_status === 1
                  }"
                >
                  {{ item.NationalGoodsPermit }}
                </td>
                <td
                  [ngClass]="{
                    'status-0': item.NationalGoodsPermit_exp === 0,
                    'status-1': item.NationalGoodsPermit_exp !== 0
                  }"
                >
                  {{ item.NationalGoodsPermit_exp }}
                </td>
                <td>{{ item.quote }}</td>
                <td style="color: green">
                  <div class="row">
                    <ng-container *ngIf="item.safetyFeatures[0]?.value">
                      <div class="col-3">
                        <img
                          class="me-2"
                          src="{{ Safety_list[0].img }}"
                          style="height: 3vh"
                        />
                        <!-- <i class='fas fa-lock-open access' style="color: black;" title="{{item.Vehicle_Accessories[0]?.name}}"></i> -->
                      </div>
                    </ng-container>
                    <ng-container *ngIf="item.safetyFeatures[3]?.value">
                      <div class="col-3">
                        <!-- <i class='fas fa-fire-extinguisher'></i> -->
                        <img
                          class="me-2"
                          src="{{ Safety_list[3].img }}"
                          style="height: 3vh"
                        />
                        <!-- <i class='fas fa-fire-extinguisher' style="color: red;font-size: 22px;" title="{{item.Vehicle_Accessories[3]?.name}}"></i> -->
                      </div>
                    </ng-container>
                    <ng-container *ngIf="item.safetyFeatures[1]?.value">
                      <div class="col-3">
                        <img
                          class="me-2"
                          src="{{ Safety_list[1].img }}"
                          style="height: 3vh"
                        />
                        <!-- <i class='fa fa-map-marker access' style="color: green;font-size: 22px;" title="{{item.Vehicle_Accessories[1]?.name}}"></i> -->
                      </div>
                    </ng-container>
                    <ng-container *ngIf="item.safetyFeatures[2]?.value">
                      <div class="col-3">
                        <!-- <i class="fas fa-user-friends"></i> -->
                        <img
                          class="me-2"
                          src="{{ Safety_list[2].img }}"
                          style="height: 3vh"
                        />
                        <!-- <i class='fas fa-user-friends access' style="color: black;" title="{{item.Vehicle_Accessories[2]?.name}}"></i> -->
                      </div>
                    </ng-container>
                  </div>
                </td>
                <td>{{ item.remark }}</td>
                <!-- <td>{{item.safetyFeatures.join(', ')}}</td> -->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /////////////////////agreement view//////////////////////////////////////////////////// -->
<div
  class="modal fade"
  id="agreementView"
  tabindex="-1"
  role="dialog"
  aria-labelledby="uploadModalLabel"
  aria-hidden="true"
  aria-hidden="false"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
>
  <div class="modal-dialog modal-fullscreen" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="uploadModalLabel">Agreement List</h5>
        <!-- (click)="Driverupload1.resetForm()" -->
        <button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- (ngSubmit)="uploaddriver_submit(Driverupload)" -->

      <div class="modal-body">
        <div class="fiter col-md-10">
          <p style="font-weight: 600" class="mb-2">
            <a
              data-bs-toggle="collapse"
              data-bs-target="#collapseExample"
              role="button"
              aria-expanded="false"
              aria-controls="collapseExample"
              style="font-size: 16px"
            >
              <i
                class="fa fa-filter"
                aria-hidden="true"
                style="font-size: 20px; color: #1d4380; margin-top: 8px"
              ></i
              >FILTER
            </a>
          </p>
          <div class="collapse" id="collapseExample">
            <div>
              <div
                class="card card-body pt-0"
                style="border: none; box-shadow: none; margin-bottom: 0px"
              >
                <form
                  #agreementFilter="ngForm"
                  (ngSubmit)="AgreementList(agreementFilter.value)"
                >
                  <div class="row col-12 ps-0">
                    <div class="col-md-2">
                      <label class="m-0" for="dateFrom">Date: From</label>
                      <input
                        id="dateFrom"
                        type="date"
                        ngModel
                        name="dateFrom"
                        class="form-control"
                        placeholder="Select Start Date..."
                      />
                      <!-- <span style="font-size: 11px"
                      *ngIf="filterForm.get('dateFrom')?.touched && filterForm.get('dateFrom')?.errors?.['required']"
                      class="text-danger position-absolute text-sm-center">
                      Select start date.
                    </span> -->
                    </div>
                    <div class="col-md-2">
                      <label class="m-0" for="dateTo">Date: To</label>
                      <input
                        id="dateTo"
                        type="date"
                        ngModel
                        name="dateTo"
                        class="form-control"
                        placeholder="Select End Date..."
                      />
                      <!-- <span style="font-size: 11px"
                      *ngIf="filterForm.get('dateTo')?.touched && filterForm.get('dateTo')?.errors?.['required']"
                      class="text-danger position-absolute text-sm-center">
                      Select end date.
                    </span> -->
                    </div>
                    <div class="col-md-2">
                      <label class="m-0" for="transporter"
                        >Agreement Type</label
                      >
                      <ng-select id="transporter" ngModel name="Agreement">
                        <ng-option
                          [value]="item"
                          *ngFor="let item of filterDataagreement.agreementtype"
                          >{{ item.value }}</ng-option
                        >
                      </ng-select>
                      <!-- <span style="font-size: 11px"
                      *ngIf="filterForm.get('transporter')?.touched && filterForm.get('transporter')?.errors?.['required']"
                      class="text-danger position-absolute text-sm-center">
                      Select customer.
                    </span> -->
                    </div>
                    <div class="col-md-2">
                      <label class="m-0" for="status">Client</label>
                      <ng-select
                        placeholder="select an option"
                        id="ShipmentNo"
                        class="cutombox"
                        ngModel
                        name="Client"
                        required
                      >
                        <ng-option value="" selected
                          >Select an option</ng-option
                        >
                        <ng-option
                          [value]="item"
                          *ngFor="let item of venderList"
                          >{{ item.value }}</ng-option
                        >
                      </ng-select>
                      <!-- <span style="font-size: 11px"
                      *ngIf="filterForm.get('status')?.touched && filterForm.get('status')?.errors?.['required']"
                      class="text-danger position-absolute text-sm-center">
                      Select status.
                    </span> -->
                    </div>
                    <div class="col-md-2 text-end d-flex align-items-end">
                      <button
                        type="submit"
                        class="p-2 px-4 rounded-0 btn-orange shadow-none"
                      >
                        Submit
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <!-- </ng-container> -->
            <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
          </div>
        </div>

        <div class="info">
          <table
            class="display nowrap table"
            cellspacing="0"
            id="Agreementtable"
          >
            <thead>
              <tr style="text-align: center">
                <th class="table-primary">Sl.</th>
                <th class="table-primary">Status</th>
                <th class="table-primary">Agreement Code</th>
                <th class="table-primary">Agreement Date</th>
                <th class="table-primary">No. Of Vehicle</th>
                <!-- <th class="table-primary">Upload Agreement
              </th> -->
                <th class="table-primary">Vehicle Type</th>
                <th class="table-primary">Vehicle Capacity</th>
                <th class="table-primary">Trip Type</th>
                <th class="table-primary">Toll Tax</th>

                <th class="table-primary">From Date</th>
                <th class="table-primary">To Date</th>
                <th class="table-primary">Night Charge</th>
                <th class="table-primary">Night Start Hours</th>
                <th class="table-primary">Night End Hours</th>

                <th class="table-primary">Minimum Monthly Cost</th>
                <th class="table-primary">Fixed Charges</th>
                <th class="table-primary">Tentative Distance (Km)</th>
                <th class="table-primary">Unit Cost</th>
                <th class="table-primary">Minimum Unit</th>
                <th class="table-primary">Minimum Daily Distance(Km)</th>
                <th class="table-primary">Minimum Daily Duration(Hrs)</th>
                <th class="table-primary">Distance Cost</th>
                <th class="table-primary">Hourly Cost</th>
                <th class="table-primary">Tentative Durations (Hrs.)</th>
                <th class="table-primary">View</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of AgreementData; let ind = index">
                <td>
                  {{ ind + 1 }}
                </td>
                <td>
                  {{ item.status }}
                </td>
                <td>
                  {{ item.agreeemnt_code }}
                </td>
                <td>
                  {{ item.agreement_date }}
                </td>
                <td>
                  {{ item.number_of_vehicles }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.vehicle_type }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.vehicle_capacity }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.agreement_type }}
                </td>

                <td>
                  {{ item?.agreementDetails[0]?.toll_tax }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.from_time }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.to_time }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.Night_Charges }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.Night_Time_from }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.Night_Time_to }}
                </td>
                <td>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 1"
                  >
                    {{
                      item?.agreementDetails[0]?.trip_based?.tMinimumMonthlyCost
                    }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 2"
                  >
                    {{
                      item?.agreementDetails[0]?.distance_based
                        ?.dMinimumMonthlyCost
                    }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 3"
                  >
                    {{
                      item?.agreementDetails[0]?.hourly_based
                        ?.hMinimumMonthlyCost
                    }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 4"
                  >
                    {{
                      item?.agreementDetails[0]?.distance_hourly_based
                        ?.dhMinimumMonthlyCost
                    }}
                  </ng-container>
                </td>
                <td>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 1"
                  >
                    {{ item?.agreementDetails[0]?.trip_based?.TFixedCharges }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 2"
                  >
                    {{
                      item?.agreementDetails[0]?.distance_based?.dhFixedCharges
                    }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 3"
                  >
                    {{ item?.agreementDetails[0]?.hourly_based?.hFixedCharges }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 4"
                  >
                    {{
                      item?.agreementDetails[0]?.distance_hourly_based
                        ?.dhFixedCharges
                    }}
                  </ng-container>
                </td>
                <td>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 1"
                  >
                    {{
                      item?.agreementDetails[0]?.trip_based?.TTentativeDistance
                    }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 2"
                  >
                    {{
                      item?.agreementDetails[0]?.distance_based
                        ?.dTentativeDistance
                    }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 3"
                  >
                    {{
                      item?.agreementDetails[0]?.hourly_based
                        ?.hTentativeDistance
                    }}
                  </ng-container>
                  <ng-container
                    *ngIf="item?.agreementDetails[0]?.agreement_type_id == 4"
                  >
                    {{
                      item?.agreementDetails[0]?.distance_hourly_based
                        ?.dhTentativeDistance
                    }}
                  </ng-container>
                </td>
                <td>{{ item?.agreementDetails[0]?.trip_based?.ttripcost }}</td>
                <td>
                  {{
                    item?.agreementDetails[0]?.distance_based?.DMinimumDistance
                  }}
                </td>
                <td>
                  {{
                    item?.agreementDetails[0]?.distance_hourly_based
                      ?.dhMinimumDailyDistance
                  }}
                </td>
                <td>
                  {{
                    item?.agreementDetails[0]?.hourly_based?.hMinimumDuration
                  }}
                </td>
                <td>
                  {{
                    item?.agreementDetails[0]?.distance_based?.DMinimumDistance
                  }}
                </td>
                <td>
                  {{ item?.agreementDetails[0]?.hourly_based?.hHourlyCost }}
                </td>
                <td>
                  {{
                    item?.agreementDetails[0]?.distance_hourly_based
                      ?.dhTentativeDurations
                  }}
                </td>

                <td>
                  <button
                    type="button"
                    (click)="viewF(item)"
                    style="
                      color: white;
                      margin-left: 2px;
                      background-color: #1d4380;
                    "
                  >
                    view
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>