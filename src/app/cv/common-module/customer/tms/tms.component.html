<!-- Header Start -->
<div class="card">
    <div class="card-body innerdiv p-0">
      <!-- headerstart here -->
      <div class="hor-header">
        <div style="overflow: hidden">
          <div class="row align-items-left">
            <div class="col-lg-1 d-flex">
              <button
                class="app-sidebar__toggle ms-1"
                (click)="sidebarToggle()"
              ></button>
            </div>
  
            <div class="col-lg-2"></div>
            <div
              class="col-lg-4"
              style="font-weight: 600; font-size: large; text-align: center"
            >
              <div *ngIf="showOrderTile" class="order-header col-lg-8">
                <div class="bid-summary">
                  <div
                    class="bid-item"
                    style="color: gray"
                    container="body"
                    ngbTooltip="Total Bids: {{ totalBids }}"
                  >
                    <!-- <i class="fas fa-chart-bar bid-icon"></i> -->
                               <svg style="height:27px" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 48 48" id="Bid" viewBox="11 5 26 38">  <g fill="#909293" class="color000000 svgShape">    <path d="M28 25h-7.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5H25c.54999 0 1 .45001 1 1s-.45001 1-1 1h-4.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5H25c.54999 0 1 .45001 1 1s-.45001 1-1 1h-4c-.82843 0-1.5.67157-1.5 1.5S20.17157 38 21 38h4c.54999 0 1 .45001 1 1s-.45001 1-1 1h-3c-.82843 0-1.5.67157-1.5 1.5S21.17157 43 22 43h6c1.65686 0 3-1.34314 3-3V28C31 26.34314 29.65686 25 28 25zM14 29v4c0 2.04999 1.53998 3.73999 3.53003 3.96997C17.51001 36.82001 17.5 36.65997 17.5 36.5c0-.85999.31-1.65002.83002-2.26001C17.52002 33.59998 17 32.60999 17 31.5c0-.98004.40002-1.85999 1.04999-2.5C17.40002 28.35999 17 27.47998 17 26.5c0-.51001.10999-1 .32001-1.44C15.42999 25.38 14 27.01996 14 29zM18.53003 38.97998C18.34998 38.98999 18.17999 39 18 39c-1.09998 0-2.12-.29004-3-.81V39c0 2.15997 1.70001 3.90997 3.84003 3.98999C18.62 42.53998 18.5 42.02997 18.5 41.5c0-.76001.23999-1.46002.65002-2.03003C18.92999 39.32996 18.71997 39.15997 18.53003 38.97998z" fill="#909293" class="color000000 svgShape"></path>    <rect width="6" height="2" x="21" y="21" fill="#909293" class="color000000 svgShape"></rect>    <path d="M18.75 13h-1v1h1c.27588 0 .5-.22412.5-.5S19.02588 13 18.75 13zM29.25 10h-1v4h1c.55127 0 1-.44873 1-1v-2C30.25 10.44873 29.80127 10 29.25 10zM18.75 10.5c0-.27588-.22412-.5-.5-.5h-.5v1h.5C18.52588 11 18.75 10.77588 18.75 10.5z" fill="#909293" class="color000000 svgShape"></path>    <path d="M36,5H12c-0.55225,0-1,0.44775-1,1v12c0,0.55225,0.44775,1,1,1h24c0.55225,0,1-0.44775,1-1V6C37,5.44775,36.55225,5,36,5z    M18.75,16h-2c-0.55225,0-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1h1.5c1.37842,0,2.5,1.12158,2.5,2.5   c0,0.42432-0.10645,0.82422-0.29346,1.1748C20.94434,12.13135,21.25,12.78076,21.25,13.5C21.25,14.87842,20.12842,16,18.75,16z    M24.75,15c0,0.55225-0.44775,1-1,1s-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1s1,0.44775,1,1V15z M32.25,13c0,1.6543-1.3457,3-3,3   h-2c-0.55225,0-1-0.44775-1-1V9c0-0.55225,0.44775-1,1-1h2c1.6543,0,3,1.3457,3,3V13z" fill="#909293" class="color000000 svgShape"></path>  </g></svg>
                          <span class="bid-value badge rounded-pill badge-notification" style="background:gray ;">{{ totalBids }}</span>
                    <span
                      class="bid-value badge rounded-pill badge-notification"
                      style="background: gray"
                      >{{ totalBids }}</span
                    >
                  </div>
                  <div
                    class="bid-item"
                    style="color: #cd7f32"
                    container="body"
                    ngbTooltip="Pending Bids: {{ pendingBids }}"
                  >
                    <i class="fas fa-hourglass-half bid-icon"></i>
                    <span
                      class="bid-value badge rounded-pill badge-notification"
                      style="background: #cd7f32"
                      >{{ pendingBids }}</span
                    >
                  </div>
                  <div
                    class="bid-item"
                    style="color: #28a745"
                    container="body"
                    ngbTooltip="Completed Bids: {{ completedBids }}"
                  >
                    <i class="fas fa-check-circle bid-icon"></i>
  
                    <span
                      class="bid-value badge rounded-pill badge-notification"
                      style="background: #28a745"
                      >{{ completedBids }}</span
                    >
                  </div>
                  <div
                    class="bid-item"
                    style="color: #bb1d1d"
                    container="body"
                    ngbTooltip="Cancelled Bids: {{ canceledBids }}"
                  >
                    <i class="fas fa-times-circle bid-icon"></i>
  
                    <span
                      class="bid-value badge rounded-pill badge-notification"
                      style="background: #bb1d1d"
                      >{{ canceledBids }}</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-2 text-center"></div>
  
            <div class="col-lg-1"></div>
            <div class="col-lg-1">
              <!-- <a  routerLink="/ILgic/createTrip"><i class="fa fa-plus-circle" aria-hidden="true" style="font-size: 20px;color: #1D4380;"></i></a>  -->
            </div>
            <div class="col-lg-1 text-center">
              <a class="header-brand1">
                <img
                  src="assets/images/itraceit_logo1.png"
                  alt="ILGIC Logo"
                  class="header-brand-img desktop-logo"
                  style="height: auto; width: 80%"
                />
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- HEADER END -->
  <ngx-spinner
    bdColor="rgba(51, 51, 51, 0.8)"
    size="default"
    name="spinner-5"
    [fullScreen]="false"
    type="ball-spin-clockwise"
  >
  </ngx-spinner>
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <nav class="flex-md-column">
          <div
            class="nav nav-tabs"
            id="nav-tab"
            role="tablist"
            style="background-color: #ece9e9"
          >
            <!-- <button
              (click)="onTabClicked('loadPlanner')"
              class="nav-link active"
              id="nav-Region-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-Region"
              type="button"
              role="tab"
              aria-controls="nav-Region"
              aria-selected="true"
            >
              Load Planner
            </button> -->
          
              <button
                (click)="onTabClicked('indent')"
                class="nav-link active"
                id="nav-Trip-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-Trip"
                type="button"
                role="tab"
                aria-controls="nav-Trip"
                aria-selected="false"
              >
                Indenting
              </button>
            
            <!-- indent/////////////////// -->
            <button
              (click)="onTabClicked('order')"
              class="nav-link"
              id="nav-ORDER-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-ORDER"
              type="button"
              role="tab"
              aria-controls="nav-ORDER"
              aria-selected="false"
            >
              Order
            </button>
            <!-- Quote -->
            <button
              (click)="onTabClicked('quote')"
              class="nav-link"
              id="nav-Quote-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-Quote"
              type="button"
              role="tab"
              aria-controls="nav-Quote"
              aria-selected="false"
            >
              Quote
            </button>
            <!-- REQUEST -->
            <!-- <button class="nav-link" id="nav-REQUEST-tab" data-bs-toggle="tab" data-bs-target="#nav-REQUEST"
                type="button" role="tab" aria-controls="nav-REQUEST" aria-selected="false">Quote(Request)</button> -->
  
            <!-- Trip -->
  
            <!-- Billing -->
          
  
            <!-- Agreement -->
           
  
            <!-- Vehicle -->
         
            <!-- Driver -->
          
          </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
          <!-- statics -->
          <div
            class="tab-pane fade "
            id="nav-Region"
            role="tabpanel"
            aria-labelledby="nav-Region-tab"
          >
            Load planner
  
            <!--  -->
          </div>
          <!-- indent -->
          <ng-container >
            <div
              class="tab-pane fade show active"
               
              id="nav-Trip"
              role="tabpanel"
              aria-labelledby="nav-Trip-tab"
            >
              <div class="col-lg-12">
                <!-- <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" name="spinner-5" [fullScreen]="false"
                  type="ball-spin-clockwise"> </ngx-spinner> -->
                <div class="fiter">
                  <p>
                    <a
                      data-bs-toggle="collapse"
                      data-bs-target="#collapseExample"
                      role="button"
                      aria-expanded="true"
                      aria-controls="collapseExample"
                      style="font-size: 16px"
                    >
                      <i
                        class="fa fa-filter"
                        aria-hidden="true"
                        style="font-size: 20px; color: gray; margin-top: 8px"
                      ></i
                      >FILTER
                    </a>
                  </p>
                  <div class="collapse show" id="collapseExample">
                    <div>
                      <div
                        class="card card-body"
                        style="border: none; box-shadow: none; margin-bottom: 0px"
                      >
                        <!--  -->
  
                        <form
                          #filterForm_s="ngForm"
                          (ngSubmit)="filterSubmit(filterForm_s)"
                          novalidate
                        >
                          <div
                            class="col-lg-12 container-fluid d-flex flex-column gap-3"
                          >
                            <div class="row gap-3">
                              <div class="column">
                                <span class="filtor_name">Select Capacity</span>
                                <ng-select
                                  name="Capacity"
                                  id="ShipmentNo"
                                  style="font-size: 14px; font-weight: 400"
                                  ngModel
                                  required
                                  [closeOnSelect]="true"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['Capacity']?.valid
                                  }"
                                  class="cutombox"
                                >
                                  <ng-option value="" selected>Select</ng-option>
                                  <ng-option
                                    [value]="item"
                                    *ngFor="let item of Vehicle_capacity"
                                    >{{ item.value }}</ng-option
                                  >
                                </ng-select>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['Capacity']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a capacity.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Vehicle Body Type</span>
                                <ng-select
                                  name="Body"
                                  placeholder="Select Agency"
                                  class="cutombox"
                                  id="ShipmentNo"
                                  style="font-size: 14px; font-weight: 400"
                                  ngModel
                                  required
                                  [closeOnSelect]="true"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['Body']?.valid
                                  }"
                                >
                                  <ng-option value="" selected>Select</ng-option>
                                  <ng-option
                                    [value]="item"
                                    *ngFor="let item of Vehicle_Body_Type"
                                    >{{ item.value }}</ng-option
                                  >
                                </ng-select>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['Body']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a body type.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Vehicle Size</span>
                                <ng-select
                                  name="Size"
                                  id="ShipmentNo"
                                  style="font-size: 14px; font-weight: 400"
                                  ngModel
                                  required
                                  [closeOnSelect]="true"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['Size']?.valid
                                  }"
                                  class="cutombox"
                                >
                                  <ng-option value="" selected
                                    >Select Size</ng-option
                                  >
                                  <ng-option
                                    [value]="item"
                                    *ngFor="let item of indentFilter?.vehiclesize"
                                    >{{ item.value }}</ng-option
                                  >
                                </ng-select>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['Capacity']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a capacity.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Load Type</span>
                                <ng-select
                                  name="Load_type"
                                  class="cutombox"
                                  placeholder="Select Load Type"
                                  id="ShipmentNo"
                                  style="font-size: 14px; font-weight: 400"
                                  ngModel
                                  required
                                  [closeOnSelect]="true"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['Load_type']?.valid
                                  }"
                                >
                                  <ng-option value="" selected>Select</ng-option>
                                  <ng-option
                                    [value]="item"
                                    *ngFor="let item of Load_type"
                                    >{{ item.value }}</ng-option
                                  >
                                </ng-select>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['Load_type']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a load type.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Route</span>
                                <!-- <ng-select
            [multiple]="true"
           
            name="Route_type"
            class="cutombox"
            placeholder="Select Route"
            id="ShipmentNo"
            style="font-size: 14px;font-weight: 400;max-width: 236px;"
            [(ngModel)]="selectedRoutes"
            (change)="onRouteChange($event)"
            required
            [closeOnSelect]="true"
            [ngClass]="{ 'is-invalid': filterForm_s.submitted && !filterForm_s.controls['Load_type']?.valid }"
          >
            <ng-option [value]="item" *ngFor="let item of indentFilter?.routesequence">
              {{ item.route_sequence }}
            </ng-option>
              <ng-option value="122-gsj-fdbf-fbf-dbjfv">122-gsj-fdbf-fbf-dbjfv</ng-option>
          </ng-select> -->
                                <ng-select
                                  [multiple]="true"
                                  name="Route_type"
                                  class="cutombox"
                                  placeholder="Select Route"
                                  id="ShipmentNo"
                                  style="
                                    font-size: 14px;
                                    font-weight: 400;
                                    max-width: 1000px;
                                  "
                                  required
                                  [(ngModel)]="selectedRoutes"
                                  (change)="onRouteChange($event)"
                                  required
                                  [closeOnSelect]="true"
                                >
                                  <ng-option
                                    [value]="item"
                                    *ngFor="
                                      let item of indentFilter?.routesequence
                                    "
                                    [disabled]="isOptionDisabled()"
                                  >
                                    {{ item.route_sequence }}
                                  </ng-option>
                                  <!-- <ng-option value="122-gsj-fdbf-fbf-dbjfv" [disabled]="isOptionDisabled()">122-gsj-fdbf-fbf-dbjfv</ng-option> -->
                                </ng-select>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['Route_type']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a route.
                                </div>
                              </div>
                            </div>
                            <div class="row gap-3">
                              <div
                                class="column position-relative"
                                style="max-width: 1000px"
                              >
                                <span class="filtor_name">From</span>
                                <input
                                  type="text"
                                  name="From"
                                  style="background: transparent"
                                  class="form-control cutombox"
                                  [ngModel]="selectedRoutes[0] || ''"
                                  readonly
                                  required
                                  ngModel
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['From']?.valid
                                  }"
                                />
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['From']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a source.
                                </div>
                                <span
                                  style="position: absolute; right: -5%; top: 50%"
                                >
                                  <i
                                    class="fa-solid fa-arrow-right-arrow-left"
                                    style="color: black"
                                  ></i>
                                </span>
                              </div>
                              <div class="column" style="max-width: 1000px">
                                <span class="filtor_name">To</span>
                                <input
                                  style="background: transparent"
                                  name="To"
                                  type="text"
                                  class="form-control cutombox"
                                  [ngModel]="
                                    selectedRoutes[selectedRoutes.length - 1] ||
                                    ''
                                  "
                                  readonly
                                  required
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['To']?.valid
                                  }"
                                />
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['To']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a destination.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Date</span>
                                <div class="input-group date" id="datepicker">
                                  <input
                                    type="input"
                                    id="Date-select"
                                    (click)="Dateselect('#Date-select')"
                                    class="form-control cutombox"
                                    [ngModel]="datetimepicker1"
                                    required
                                    name="To_Date"
                                    [ngClass]="{
                                      'is-invalid':
                                        filterForm_s.submitted &&
                                        !filterForm_s.controls['To_Date']?.valid
                                    }"
                                  />
                                  <div class="input-group-append">
                                    <span class="input-group-text">
                                      <i
                                        class="fa fa-calendar"
                                        style="color: black !important"
                                      ></i>
                                    </span>
                                  </div>
                                </div>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['To_Date']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a date.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Time</span>
                                <input
                                  type="time"
                                  class="form-control cutombox"
                                  [ngModel]="timepicker1"
                                  required
                                  name="To_time"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['To_time']?.valid
                                  }"
                                />
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['To_time']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a time.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Bid Expiry Date</span>
                                <div class="input-group date" id="datepicker">
                                  <input
                                    type="input"
                                    id="bid-date"
                                    (click)="Dateselect('#bid-date')"
                                    class="form-control cutombox"
                                    [ngModel]="timepicker2"
                                    required
                                    name="bid_expiry_date"
                                    [ngClass]="{
                                      'is-invalid':
                                        filterForm_s.submitted &&
                                        !filterForm_s.controls['bid_expiry_date']
                                          ?.valid
                                    }"
                                  />
                                  <div class="input-group-append">
                                    <span
                                      (click)="Dateselect('#bid-date')"
                                      class="input-group-text"
                                    >
                                      <i
                                        class="fa fa-calendar"
                                        style="color: black !important"
                                      ></i>
                                    </span>
                                  </div>
                                </div>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['bid_expiry_date']
                                      ?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a date.
                                </div>
                              </div>
                            </div>
                            <div class="row  gap-3">
                              <div class="column">
                                <span class="filtor_name">Number of Vehicle</span>
                                <input
                                  type="number"
                                  class="form-control cutombox"
                                  placeholder="Number of Vehicle"
                                  required
                                  name="novehicle"
                                  ngModel
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['novehicle']?.valid
                                  }"
                                />
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['novehicle']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please enter the number of vehicles.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Booking Type</span>
                                <ng-select
                                  name="Bookingtype"
                                  class="cutombox"
                                  placeholder="Select Agency"
                                  id="ShipmentNo"
                                  style="font-size: 14px; font-weight: 400"
                                  [ngModel]
                                  required
                                  [closeOnSelect]="true"
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['Bookingtype']?.valid
                                  }"
                                >
                                  <ng-option [value]="{ value: 'all', id: 3 }"
                                    >All</ng-option
                                  >
                                  <ng-option
                                    [value]="item"
                                    *ngFor="let item of Booking_Type"
                                    >{{ item.value }}</ng-option
                                  >
                                </ng-select>
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['Bookingtype']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please select a booking type.
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Base Cost</span>
                                <input
                                  type="number"
                                  step="1"
                                  class="form-control cutombox"
                                  placeholder="Base cost"
                                  required
                                  name="baseCost"
                                  ngModel
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['baseCost']?.valid
                                  }"
                                />
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['baseCost']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please enter the base cost.
                                </div>
                              </div>
                              <div class="column position-relative">
                                <!-- <div style="margin-top: 17px !important;">
                <ng-container *ngFor="let item of Safety_ceck_list; let ind=index">
                  <div class="form-check form-check-inline">
                    <input class="form-check-input checkboxcss" [(ngModel)]="item.value" name="{{item.name}}" type="checkbox" (change)="changecheck($event, ind, item.key)" />
                    <label class="form-check-label" for="inlineCheckbox{{ind}}">{{item.name}}</label>
                  </div>
                </ng-container>
              </div> -->
                                <span class="filtor_name">Safety Checks</span>
                                <!-- <ng-select
                                  class="cutombox"
                                  [items]="Safety_ceck_list"
                                  [multiple]="true"
                                  bindLabel="name"
                                  bindValue="id"
                                  [closeOnSelect]="false"
                                  [(ngModel)]="selectedItems"
                                  placeholder="Select safety options..."
                                  [ngModelOptions]="{ standalone: true }"
                                >
                                  <ng-template
                                    ng-optgroup-tmp
                                    class="d-flex gap-1"
                                    ng-header-tmp
                                  >
                                    <input
                                      type="checkbox"
                                      [checked]="isAllSelected()"
                                      (change)="selectAllItems()"
                                    />
                                    <div
                                      class="d-inline ms-1"
                                      style="
                                        font-size: 14px;
                                        color: #172c51;
                                        font-weight: 600;
                                      "
                                    >
                                      Select all
                                    </div>
                                  </ng-template>
                                  <ng-template
                                    ng-option-tmp
                                    let-item="item"
                                    let-item$="item$"
                                    let-index="index"   
                                  >
                                  <label class="d-flex align-items-center ms-2" for="item-{{ index }}">
                                    <input
                                      id="item-{{ index }}"
                                      type="checkbox"
                                      [ngModel]="item$.selected"
                                      [ngModelOptions]="{ standalone: true }"
                                      (change)="onItemSelect(item, index)"
                                    />
                                   {{item.name}} 
                                  </label>                             
                                  </ng-template>
                                </ng-select> -->
                                <!-- <ng-select 
                                [items]="Safety_ceck_list" 
                                bindLabel="name" 
                                bindValue="id"
                                [(ngModel)]="selectedItems" 
                                name="safetyOptions"
                                [multiple]="true"
                                [closeOnSelect]="false"
                                placeholder="Select safety options"
                                class="custom-dropdown">
                                
                                <ng-template ng-option-tmp let-item="item">
                                  <div class="custom-option">
                                    <input 
                                      type="checkbox" 
                                      [checked]="isSafetySelected(item.id)" 
                                      (change)="onSafetyItemSelect(item,  $event.target)">
                                    <label>{{ item.name }}</label>
                                  </div>
                                </ng-template>
                            
                              </ng-select> -->
                                <ng-select
                                  class="cutombox position-absolute"
                                  style="width:92%"
                                  [items]="Safety_ceck_list"
                                  bindLabel="name"
                                  bindValue="id"
                                  [(ngModel)]="selectedItems"
                                  name="safetyItems"
                                  [multiple]="true"
                                  placeholder="Select Safety Items"
                                  [closeOnSelect]="false"
                                  (change)="onSafetyItemChange()"
                                >
                                  <!-- Custom "Select All" option -->
                                  <ng-template ng-header-tmp>
                                    <div style="color: black; font-weight: 700">
                                      <input
                                        type="checkbox"
                                        [checked]="
                                          selectedItems.length ===
                                          Safety_ceck_list.length
                                        "
                                        (change)="selectAllItems($event)"
                                      />
                                      Select All
                                    </div>
                                  </ng-template>
  
                                  <!-- Default option rendering -->
                                  <ng-template
                                    ng-option-tmp
                                    let-item="item"
                                    let-index="index"
                                  >
                                    <div>
                                      <input
                                        type="checkbox"
                                        [checked]="isSafetySelected(item.id)"
                                      />
                                      {{ item.name }}
                                    </div>
                                  </ng-template>
                                </ng-select>
  
                                <!-- <ng-select
                                  class="cutombox"
                                  [items]="Safety_ceck_list"
                                  [multiple]="true"
                                  bindLabel="name"
                                  bindValue="id"
                                  [closeOnSelect]="false"
                                  [(ngModel)]="selectedItems"
                                  placeholder="Select safety options..."
                                  [ngModelOptions]="{ standalone: true }"
                                >
                                  <ng-template
                                    ng-optgroup-tmp
                                    class="d-flex gap-1"
                                    ng-header-tmp
                                  >
                                    <input
                                      type="checkbox"
                                      [checked]="isAllSelected()"
                                      (change)="selectAllItems()"
                                    />
                                    <div
                                      class="d-inline ms-1"
                                      style="font-size: 14px; color: #172c51; font-weight: 600;"
                                    >
                                      Select all
                                    </div>
                                  </ng-template>
                                  <ng-template
                                  class="d-flex gap-2"
                                    ng-option-tmp
                                    let-item="item"
                                    let-item$="item$"
                                    let-index="index"
                                  >
                                  <div (click)="onItemSelect(item,index)">
                                    <input
                                    id="item-{{ index }}"
                                    type="checkbox"
                                    [checked]="item.value"
                                                  
                                  />
                                  <label class="ms-2" for="item-{{index}}">{{item.name}}</label>
                                  </div>
                                 
                                  </ng-template>
                                </ng-select> -->
  
                                <div class="position-absolute" style="right: 5px;top:0px">
                                  <input
                                    type="checkbox"
                                    name="MandatorySafety"
                                    [checked]="isMandatoryCheckboxChecked"
                                    [disabled]="selectedItems.length == 0"
                                    (click)="toggleMandatoryCheckbox()"
                                  />
                                  <span
                                    style="
                                      color: #0c254a;
                                      font-weight: 500;
                                      margin-left: 2px;
                                    "
                                    >Mandatory</span
                                  >
                                </div>
  
                                <!-- <ng-select
                    [items]="Safety_ceck_list"
                    [multiple]="true"
                    bindLabel="name"
                    groupBy="gender"
                    [selectableGroup]="true"
                    [selectableGroupAsModel]="false"
                    [closeOnSelect]="false"
                    bindValue="id"
                    [(ngModel)]="selectedPeople">
                    <ng-template ng-optgroup-tmp let-item="item" let-item$="item$" let-index="index">
                      <input id="item-{{ index }}" type="checkbox" [ngModel]="item$.selected" /> {{ item.gender | uppercase }}
                    </ng-template>
                    <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                      <input id="item-{{ index }}" type="checkbox" [ngModel]="item$.selected" /> {{ item.name }}
                    </ng-template>
                      </ng-select> -->
                              </div>
                              <div class="column">
                                <span class="filtor_name">Age of Vehicle</span>
                                <input
                                  type="number"
                                  step="1"
                                  class="form-control cutombox"
                                  placeholder="Age"
                                  required
                                  name="Agevehicle"
                                  ngModel
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['Agevehicle']?.valid
                                  }"
                                />
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['Agevehicle']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please enter the age of the vehicle.
                                </div>
                              </div>
                            </div>
                            <div class="row  gap-3">
                              <div class="column">
                                <span class="filtor_name">TAT Hours</span>
                                <input
                                  type="number"
                                  class="form-control cutombox"
                                  placeholder="Enter TAT hours"
                                  required
                                  name="tatHours"
                                  ngModel
                                  [ngClass]="{
                                    'is-invalid':
                                      filterForm_s.submitted &&
                                      !filterForm_s.controls['tatHours']?.valid
                                  }"
                                />
                                <div
                                  *ngIf="
                                    filterForm_s.submitted &&
                                    filterForm_s.controls['tatHours']?.invalid
                                  "
                                  class="invalid-feedback"
                                >
                                  Please enter the TAT hours .
                                </div>
                              </div>
                              <div class="column">
                                <span class="filtor_name">Remarks</span>
                                <input
                                  type="text"
                                  step="1"
                                  class="form-control cutombox"
                                  placeholder="remarks"
                                  name="remarks"
                                  ngModel
                                />
                              </div>
                              <div class="column"></div>
                              <div class="column position-relative"></div>
                              <div class="column"></div>
                            </div>
                            <div class="col-lg-1">
                              <button
                                class="btn btn-outline-primary searcg-button"
                                type="submit"
                              >
                                Search
                              </button>
                            </div>
                            &nbsp;
                          </div>
                        </form>
                      </div>
                    </div>
                    <!-- </ng-container> -->
                    <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                  </div>
                </div>
              </div>
              <div class="col-lg-12">
                <div style="overflow: scroll">
                  <ng-container *ngIf="table_show">
                    <div class="d-flex">
                      <button
                        [disabled]="indentObject.length == 0"
                        type="button"
                        style="
                          font-size: 13px;
                          background: #6abd46;
                          color: white;
                          font-weight: 400;
                          padding: 3px 9px;
                          font-weight: 400;
                        "
                        class="btn"
                        (click)="Request('1')"
                      >
                        Generate Order
                      </button>
                      <button
                        [disabled]="indentObject.length == 0"
                        type="button"
                        class="btn btn-outline-primary ms-2"
                        style="
                          font-size: 13px;
                          font-weight: 400;
                          border-radius: 6px;
                        "
                        (click)="Request(5)"
                      >
                        Request Quote
                      </button>
                    </div>
                    <table
                      class="table"
                      cellspacing="0"
                      id="Assign-vehicle"
                      width="100%"
                    >
                      <thead>
                        <tr style="text-align: center; white-space: nowrap">
                          <th class="table-primary">
                            <input
                              type="checkbox"
                              (change)="qtoggleIndentTableAllSelection()"
                              [checked]="qallIndentSelected"
                            />
                          </th>
                          <th class="table-primary">SL</th>
                          <th class="table-primary">Transporter Name</th>
                          <!-- <th class="table-primary">Agency</th> -->
                          <th class="table-primary">Transporter Score</th>
                          <th class="table-primary">No. of Trips</th>
                          <th class="table-primary">Vehicle Contracted</th>
                          <th class="table-primary">Vehicle Used</th>
                          <th class="table-primary">
                            Vehicle Used In Current Month
                          </th>
                          <th class="table-primary">Vehicle Currently In Use</th>
                          <th class="table-primary">Vehicle Remaining</th>
                          <th class="table-primary">
                            Recommendation IN Priority
                          </th>
                          <th class="table-primary">Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="let item of searched_data; let ind = index"
                          style="white-space: nowrap; text-align: center"
                          [ngStyle]="getStyle(item.Transporter_Score)"
                        >
                          <td>
                            <!-- <input class="vehiclecheck" type="checkbox"  > -->
                            <input
                              type="checkbox"
                              class="vehiclecheck"
                              [checked]="
                                isIndentSelected(item.Transporter_Name?.id)
                              "
                              id="checkbox-{{ item?.vehicle?.id }}"
                              required
                              (change)="
                                qtoggleIndentTableSelection(
                                  item.Transporter_Name?.id,
                                  item
                                )
                              "
                              class="checkbox"
                            />
                          </td>
                          <td>{{ ind + 1 }}</td>
                          <td>{{ item.Transporter_Name.value }}</td>
  
                          <td>{{ item.Transporter_Score }}</td>
                          <td>{{ item.No_of_Trips }}</td>
                          <td>{{ item.Vehicle_Contracted }}</td>
                          <td>{{ item.Vehicle_Used }}</td>
                          <td>{{ item.Vehicle_Use_In_Current_Month }}</td>
                          <td>{{ item.Vehicle_Currently_In_Use }}</td>
                          <td>{{ item.Recommendation_IN_Priority }}</td>
                          <td>{{ item.Vehicle_Remaining }}</td>
  
                          <!-- </tr>  -->
                          <!-- <tr 
                    style="white-space: nowrap;text-align: center;">
                    <td style="color: green;">1</td>
                    <td style="color: green;">Jain Transport</td>
                   
                    <td style="color: green;">98</td>
                    <td style="color: green;">11</td>
                    <td *ngIf="hide_column"style="color: green;">88</td>
                    <td *ngIf="hide_column" style="color: green;">48</td>
                    <td *ngIf="hide_column" style="color: green;">38</td> -->
                          <!-- <td><button type="button" style=" font-size: 13px;
                      font-weight: 400;
                      color: white;
                      border-radius: 6px;"[ngStyle]="{'background': getButtonColor(item.Transporter_Score)}" >{{item.Status}}</button> </td> -->
                          <td>
                            <!-- <button
                              type="button"
                              style="
                                font-size: 13px;
                                background: #6abd46;
                                color: white;
                                font-weight: 400;
                                padding: 3px;
                                width: 87px;
                                height: 27px;
                                font-weight: 400;
                              "
                              class="btn"
                              (click)="Request(item, 1)"
                            >
                              Request
                            </button> -->
                            <!-- [ngStyle]="{'background': getButtonColor(item.Transporter_Score)}" -->
                            <!-- [ngStyle]="{'background': getButtonColor(item.Transporter_Score)}" -->
                            <!-- <ng-container  *ngIf="!hide_column">
                   <button type="button" class="btn btn-outline-primary ms-2" style=" font-size: 13px;font-weight: 400;border-radius: 6px;"  (click)="Request(item,5)" >Generate Quote</button>
                        </ng-container> -->
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </ng-container>
                  <!-- <ng-container *ngIf="!hide_column && table_show">
                    <table
                      class="table"
                      cellspacing="0"
                      id="masterUpload"
                      width="100%"
                    >
                      <thead>
                        <tr style="text-align: center; white-space: nowrap">
                          <th class="table-primary">SL</th>
                          <th class="table-primary">Transporter Name</th>
                          <th class="table-primary">Transporter Score</th>
                          <th class="table-primary">No. of Trips</th>
                          <th class="table-primary">Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="let item of searched_data; let ind = index"
                          style="white-space: nowrap; text-align: center"
                          [ngStyle]="getStyle(item.Transporter_Score)"
                        >
                          <td>{{ ind + 1 }}</td>
                          <td>{{ item.Transporter_Name.value }}</td>
  
                          <td>{{ item.Transporter_Score }}</td>
                          <td>{{ item.No_of_Trips }}</td>
                          <td>
                            <button
                              type="button"
                              style="
                                font-size: 13px;
                                background: #6abd46;
                                color: white;
                                font-weight: 400;
                                padding: 3px;
                                width: 87px;
                                height: 27px;
                                font-weight: 400;
                              "
                              class="btn"
                              (click)="Request(item, 1)"
                            >
                              Request
                            </button>
                         
                   
                            <ng-container>
                              <button
                                type="button"
                                class="btn ms-2"
                                style="
                                  font-size: 13px;
                                  font-weight: 400;
                                  color: white;
                                  background: #1d4380;
                                  padding: 4px;
                                  border-radius: 3px;
                                  width: 107px;
                                  height: 30px;
                                "
                                (click)="Request(item, 5)"
                              >
                                Generate Quote
                              </button>
                            </ng-container>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </ng-container> -->
                </div>
              </div>
            </div>
          </ng-container>
  
          <!-- ORDER -->
          <div
            class="tab-pane fade"
            id="nav-ORDER"
            role="tabpanel"
            aria-labelledby="nav-ORDER-tab"
            style="min-height: 50vh !important" >
            <div class="col-lg-12">
              <div class="fiter">
                <p>
                  <a
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseExample"
                    role="button"
                    aria-expanded="true"
                    aria-controls="collapseExample"
                    style="font-size: 16px;    position: initial;"
                  >
                    <i
                      class="fa fa-filter"
                      aria-hidden="true"
                      style="font-size: 20px; color: gray; margin-top: 8px"
                    ></i
                    >FILTER
                  </a>
                </p>
                <div class="collapse show" id="collapseExample"  style="position: initial;">
                  <div>
                    <div
                      class="card card-body"
                      style="border: none; box-shadow: none; margin-bottom: 0px"
                    >
                      <nav class="flex-md-column">
                        <div
                          class="nav nav-tabs mm"
                          id="nav-tab"
                          role="tablist"
                          style="border-bottom: none !important"
                        >
                          <!-- <button class="nav-link active" id="nav-Region-tab" data-bs-toggle="tab" data-bs-target="#nav-Region"
                              type="button" role="tab" aria-controls="nav-Region" aria-selected="true"
                             >Load Planner</button> -->
  
                          <!-- <button class="nav-link active all-button " id="nav-All-tab" data-bs-toggle="tab" data-bs-target="#nav-All"
                              type="button" role="tab" aria-controls="nav-All" aria-selected="true" (click)="change_status1()">All</button>
                           
                            <button class="nav-link all-button " id="nav-NEw-tab" data-bs-toggle="tab" data-bs-target="#nav-NEw"
                              type="button" role="tab" aria-controls="nav-NEw" aria-selected="false" (click)="change_status()" >New</button> -->
                        </div>
                      </nav>
                      <div class="tab-content" id="nav-tabContent">
                        <!-- statics -->
                        <!-- <div class="tab-pane fade show active" id="nav-Region" role="tabpanel" aria-labelledby="nav-Region-tab">
                           Load planner
                          </div> -->
                        <!-- ORDER -->
                        <div
                          class="tab-pane fade show active"
                          id="nav-All"
                          role="tabpanel"
                          aria-labelledby="nav-ORDER-tab"
                        >
                          <div
                            class="card card-body"
                            style="
                              border: none;
                              box-shadow: none;
                              margin-bottom: 0px;
                            "
                            *ngIf="All_data"
                          >
                            <!--  -->
                            <form
                              #filterForm="ngForm"
                              (ngSubmit)="filterSubmit_order(filterForm)"
                            >
                              <div class="col-lg-12">
                                <div class="row">
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Start Date</span>
                                    <div class="input-group date" id="datepicker">
                                      <input
                                        type="input"
                                        id="Date-select2"
                                        (click)="Dateselect2()"
                                        class="form-control"
                                        [ngModel]="datetimepicker1"
                                        required
                                        name="from_Date"
                                      />
  
                                      <!-- <div class="input-group-append">
                                  <span class="input-group-text">
                                    <i class="fa fa-calendar" style="color: black !important;"></i>
                                  </span>
                                </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">End Date</span>
                                    <div class="input-group date" id="datepicker">
                                      <input
                                        type="input"
                                        id="Date-select_end"
                                        (click)="Dateselect1()"
                                        class="form-control"
                                        [ngModel]="datetimepicker1"
                                        required
                                        name="To_Date"
                                      />
  
                                      <!-- <div class="input-group-append">
                                  <span class="input-group-text">
                                    <i class="fa fa-calendar" style="color: black !important;"></i>
                                  </span>
                                </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Order Id</span>
  
                                    <input
                                      type="input"
                                      name="Order_id"
                                      ngModel
                                      placeholder="Enter Order Id"
                                      class="form-control"
                                    />
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Transporter</span>
                                    <ng-select
                                      name="Client"
                                      #Clients="ngModel"
                                      id="ShipmentNo"
                                      [ngClass]="{
                                        'is-invalid':
                                          Clients.invalid &&
                                          (Clients.touched ||
                                            filterForm.submitted)
                                      }"
                                      style="font-size: 14px; font-weight: 400"
                                      
                                      ngModel
                                      [closeOnSelect]="true"
                                    >
                                    <ng-option value selected>All</ng-option>
                                      <!-- <ng-option value="" >Close Body</ng-option>
                                <ng-option value="" >Open Body</ng-option> -->
                                      <ng-option
                                        [value]="item"
                                        *ngFor="let item of client"
                                        >{{ item.value }}
                                      </ng-option>
                                    </ng-select>
                                  </div>
  
                                  <!-- <div class="col-lg-2">
                              <span class="filtor_name">From</span>
                              <ng-select name="From"  id="ShipmentNo"
                              style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                             
                              <ng-option value="" selected>Select</ng-option>
                              <ng-option [value]="item" *ngFor="let item of Source">{{item.value}} </ng-option>
                              
                            </ng-select>
                            </div>
                            <span style="    position: absolute;
                               margin-left: 82%;
                            top: 31px;
                            width: 2px;"><i class="fa-solid fa-arrow-right-arrow-left" style="color: black;"></i></span>
                            <div class="col-lg-2">
                              <span class="filtor_name">To</span>
                              <ng-select name="To"  id="ShipmentNo"
                              style="font-size: 14px;font-weight: 400;" ngModel [closeOnSelect]="true">
                             
                              <ng-option value="" selected>Select</ng-option>
                              <ng-option [value]="item" *ngFor="let item of Destination">{{item.value}} </ng-option>
                              
                            </ng-select>
                            </div> -->
                                  <!-- </div>
                             <div class="row"> -->
                                  <div class="col-lg-1">
                                    <button
                                      class="btn btn-outline-primary searcg-button"
                                      type="submit"
                                    >
                                      Search
                                    </button>
                                    <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                        <!-- <div class="tab-pane fade" id="nav-NEw" role="tabpanel" aria-labelledby="nav-NEw-tab">
                            <div class="card card-body" style="border: none ; box-shadow: none; margin-bottom: 0px;" *ngIf="!All_data">
                            
                              <form #filterForm="ngForm" (ngSubmit)="filterSubmit_order(filterForm)">
                                <div class="col-lg-12">
                                  <div class="row">
                            <div class="col-lg-2" >
                              <span class="filtor_name">Start Date</span>
                              <div class="input-group date" id="datepicker">
    
                              <input type="input" id="Date-select2" (click)="Dateselect2()" class="form-control"
                               [ngModel]="datetimepicker1" required name="from_Date" />
    
                              </div>
                            </div>
                            <div class="col-lg-2" >
                              <span class="filtor_name">End Date</span>
                              <div class="input-group date" id="datepicker">
    
                              <input type="input" id="Date-select_end" (click)="Dateselect1()" class="form-control"
                               [ngModel]="datetimepicker1" required name="To_Date" />
    
                               
                              </div>
                            </div>
                            <div class="col-lg-2" >
                              <span class="filtor_name">Order Id</span>
    
                              <input type="input" name="Order_id" ngModel placeholder="Enter Order Id" class="form-control"
                                 />
    
                              </div>
                              <div class="col-lg-2">
                                <span class="filtor_name">Transporter</span>
                                <ng-select name="Client" #Clients="ngModel" id="ShipmentNo"[ngClass]="{'is-invalid': (Clients.invalid && (Clients.touched || filterForm.submitted))}"
                                style="font-size: 14px;font-weight: 400;"  required  ngModel [closeOnSelect]="true">
                               
                                <ng-option value="" selected>Select</ng-option>
                                <ng-option [value]="item" *ngFor="let item of client">{{item.value}} </ng-option>
                                
                              </ng-select>
                              </div>
                              <div class="col-lg-1">
                                
                                <button class="btn btn-outline-primary searcg-button" type="submit">Search</button>
                              
                               </div>
                             </div>
                                </div>
                              </form>
                            </div>
                          </div> -->
                      </div>
                    </div>
                    <!-- </ng-container> -->
                    <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                  </div>
                </div>
              </div>
              <div class="col-lg-12" *ngIf="table_show_order">
                <div class="">
                  <!-- data-bs-toggle="modal" data-bs-target="#upload"-->
                  <ng-container *ngIf="UserType == '6'">
                    <button
                      type="button"
                      class="btn btn-success set-Assign"
                      style="border-radius: 0px; background: #6abd46 !important"
                      (click)="orderstatus_Decline('Accept', 0)"
                      [disabled]="!isRadioSelected"
                    >
                      Accept
                    </button>
                    <button
                      type="button"
                      class="btn btn-danger set-Decline"
                      style="border-radius: 0px; background: red !important"
                      (click)="orderstatus_Decline('Rejected', 2)"
                      [disabled]="!isRadioSelected"
                    >
                      Reject
                    </button>
                  </ng-container>
                </div>
                <div style="overflow: scroll">
                  <table
                    class="table"
                    cellspacing="0"
                    id="Assignvehicle"
                    width="100%"
                  >
                    <thead>
                      <tr style="text-align: center; white-space: nowrap">
                        <th class="table-primary"></th>
                        <th class="table-primary">SL</th>
                        <th class="table-primary">Order Number</th>
                        <th class="table-primary">Transporter</th>
                        <th class="table-primary">Dispatch Date & Time</th>
                        <th class="table-primary">Source</th>
                        <th class="table-primary">Destination</th>
                        <th class="table-primary">Route Sequence</th>
                        <th class="table-primary">Vehicle Capacity</th>
                        <th class="table-primary">Vehicle Type</th>
                        <th class="table-primary">No of Vehicles</th>
                        <th class="table-primary">Vehicle Accessories</th>
                        <th class="table-primary">Requirement</th>
  
                        <th class="table-primary">Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="let item of searched_data_order; let ind = index"
                        style="white-space: nowrap; text-align: center"
                        [ngStyle]="{ color: getStyle_status(item.Status) }"
                      >
                        <td>
                          <input
                            type="radio"
                            name="value"
                            id="value"
                            (change)="selected_radio(item.OrderNumber, item)"
                          />
                        </td>
                        <td>{{ ind + 1 }}</td>
                        <td>{{ item.OrderNumber }}</td>
  
                        <td>{{ item.transporter_name }}</td>
                        <td>{{ item.dispatchdate }} {{ item.dispatchtime }}</td>
                        <td>{{ item.Source }}</td>
                        <td>{{ item.Destination }}</td>
                        <td>{{ item.Route_Sequence?.value }}</td>
                        <td>{{ item.Vehicle_Capacity }}</td>
                        <td>{{ item.Vehicle_Type }}</td>
                        <td>{{ item.No_of_Vehicles }}</td>
                        <td style="color: green">
                          <div class="row">
                            <ng-container
                              *ngIf="item.Vehicle_Accessories[0]?.value"
                            >
                              <div class="col-3">
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[0].img }}"
                                  style="height: 3vh"
                                />
                                <!-- <i class='fas fa-lock-open access' style="color: black;" title="{{item.Vehicle_Accessories[0]?.name}}"></i> -->
                              </div>
                            </ng-container>
                            <ng-container
                              *ngIf="item.Vehicle_Accessories[3]?.value"
                            >
                              <div class="col-3">
                                <!-- <i class='fas fa-fire-extinguisher'></i> -->
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[3].img }}"
                                  style="height: 3vh"
                                />
                                <!-- <i class='fas fa-fire-extinguisher' style="color: red;font-size: 22px;" title="{{item.Vehicle_Accessories[3]?.name}}"></i> -->
                              </div>
                            </ng-container>
                            <ng-container
                              *ngIf="item.Vehicle_Accessories[1]?.value"
                            >
                              <div class="col-3">
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[1].img }}"
                                  style="height: 3vh"
                                />
                                <!-- <i class='fa fa-map-marker access' style="color: green;font-size: 22px;" title="{{item.Vehicle_Accessories[1]?.name}}"></i> -->
                              </div>
                            </ng-container>
                            <ng-container
                              *ngIf="item.Vehicle_Accessories[2]?.value"
                            >
                              <div class="col-3">
                                <!-- <i class="fas fa-user-friends"></i> -->
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[2].img }}"
                                  style="height: 3vh"
                                />
                                <!-- <i class='fas fa-user-friends access' style="color: black;" title="{{item.Vehicle_Accessories[2]?.name}}"></i> -->
                              </div>
                            </ng-container>
                          </div>
                        </td>
                        <td>{{ item.Requirement }}</td>
  
                        <td>
                          <button
                            type="button"
                            style="
                              font-size: 15px;
                              font-weight: 400;
                              color: green;
                              width: 150px;
                            "
                            class="btn"
                            [ngStyle]="{ color: getStyle_status(item.Status) }"
                          >
                            {{ item.status_remark }}
                          </button>
                          <ng-container *ngIf="item.Status == '3'">
                            <button
                              class="btn"
                              style="width: 50px"
                              (click)="open_AssignVehicle(item)"
                            >
                              <i
                                _ngcontent-ydm-c127=""
                                class="fa fa-info-circle"
                                style="font-size: 22px; color: #1d4380"
                              ></i>
                            </button>
                          </ng-container>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Quote -->
          <div
            class="tab-pane fade"
            id="nav-Quote"
            role="tabpanel"
            aria-labelledby="nav-Quote-tab"
            style="min-height: 50vh !important">
            <div class="col-lg-12">
              <div class="fiter">
                <p>
                  <a
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseExample"
                    role="button"
                    aria-expanded="true"
                    aria-controls="collapseExample"
                    style="font-size: 16px"
                  >
                    <i
                      class="fa fa-filter"
                      aria-hidden="true"
                      style="font-size: 20px; color: gray; margin-top: 8px"
                    ></i
                    >FILTER
                  </a>
                </p>
                <div class="collapse show" id="collapseExample">
                  <div>
                    <div
                      class="card card-body"
                      style="border: none; box-shadow: none; margin-bottom: 0px"
                    >
                      <nav class="flex-md-column">
                        <div
                          class="nav nav-tabs mm"
                          id="nav-tab"
                          role="tablist"
                          style="border-bottom: none !important"
                        >
                          <!-- <button class="nav-link active" id="nav-Region-tab" data-bs-toggle="tab" data-bs-target="#nav-Region"
                            type="button" role="tab" aria-controls="nav-Region" aria-selected="true"
                           >Load Planner</button> -->
  
                          <!-- <button class="nav-link active all-button " id="nav-All-tab" data-bs-toggle="tab" data-bs-target="#nav-All"
                            type="button" role="tab" aria-controls="nav-All" aria-selected="true" (click)="change_status1()">All</button>
                         
                          <button class="nav-link all-button " id="nav-NEw-tab" data-bs-toggle="tab" data-bs-target="#nav-NEw"
                            type="button" role="tab" aria-controls="nav-NEw" aria-selected="false" (click)="change_status()" >New</button> -->
                        </div>
                      </nav>
                      <div class="tab-content" id="nav-tabContent">
                        <!-- statics -->
                        <!-- <div class="tab-pane fade show active" id="nav-Region" role="tabpanel" aria-labelledby="nav-Region-tab">
                         Load planner
                        </div> -->
                        <!-- ORDER -->
                        <div
                          class="tab-pane fade show active"
                          id="nav-All"
                          role="tabpanel"
                          aria-labelledby="nav-ORDER-tab"
                        >
                          <div
                            class="card card-body"
                            style="
                              border: none;
                              box-shadow: none;
                              margin-bottom: 0px;
                            "
                            *ngIf="All_data"
                          >
                            <!--  -->
                            <form
                              #filterForm="ngForm"
                              (ngSubmit)="filterSubmit_quote(filterForm)"
                            >
                              <div class="col-lg-12">
                                <div class="row">
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Start Date</span>
                                    <div class="input-group date" id="datepicker">
                                      <input
                                        type="input"
                                        id="quoteStartDate"
                                        (click)="Dateselect('#quoteStartDate')"
                                        class="form-control"
                                        [ngModel]="quoteStartDate"
                                        required
                                        name="from_Date"
                                      />
  
                                      <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">End Date</span>
                                    <div class="input-group date" id="datepicker">
                                      <input
                                        type="input"
                                        id="quoteEndDate"
                                        (click)="Dateselect('#quoteEndDate')"
                                        class="form-control"
                                        [ngModel]="quoteEndDate"
                                        required
                                        name="To_Date"
                                      />
  
                                      <!-- <div class="input-group-append">
                                <span class="input-group-text">
                                  <i class="fa fa-calendar" style="color: black !important;"></i>
                                </span>
                              </div> -->
                                    </div>
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Order Id</span>
  
                                    <input
                                      type="input"
                                      name="Order_id"
                                      ngModel
                                      placeholder="Enter Order Id"
                                      class="form-control"
                                    />
                                  </div>
                                  <div class="col-lg-2">
                                    <span class="filtor_name">Transporter</span>
                                    <ng-select
                                      name="Client"
                                      #Clients="ngModel"
                                      id="ShipmentNo"
                                      [ngClass]="{
                                        'is-invalid':
                                          Clients.invalid &&
                                          (Clients.touched ||
                                            filterForm.submitted)
                                      }"
                                      style="font-size: 14px; font-weight: 400"
                                      ngModel
                                      [closeOnSelect]="true"
                                    >
                                      <ng-option value selected>All</ng-option>
                                      <!-- <ng-option value="" >Close Body</ng-option>
                              <ng-option value="" >Open Body</ng-option> -->
                                      <ng-option
                                        [value]="item"
                                        *ngFor="let item of client"
                                        >{{ item.value }}
                                      </ng-option>
                                    </ng-select>
                                  </div>
  
                                  <div class="col-lg-1">
                                    <button
                                      class="btn btn-outline-primary searcg-button"
                                      type="submit"
                                    >
                                      Search
                                    </button>
                                    <!-- <button class="btn"(click)="openLoadPlannerTab()">mmmmm</button> -->
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- </ng-container> -->
                    <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
                  </div>
                </div>
              </div>
              <!-- ////////////////////////////////////////////////////////////////////////////////////// -->
              <!-- <div class="row" id="simple_table" style="padding: 3px 10px 15px 10px">
          </div> -->
              <div class="col-lg-12" *ngIf="table_show_order">
                <div class="">
                  <!-- data-bs-toggle="modal" data-bs-target="#upload"-->
                  <ng-container *ngIf="UserType !== '6'">
                    <button
                      type="button"
                      class="btn btn-success set-Assign"
                      style="border-radius: 0px; background: #6abd46 !important"
                      (click)="orderstatus_Decline('Accept', 0)"
                      [disabled]="!isRadioSelected"
                    >
                      Accept
                    </button>
                    <button
                      type="button"
                      class="btn btn-danger set-Decline"
                      style="border-radius: 0px; background: red !important"
                      (click)="orderstatus_Decline('Rejected', 2)"
                      [disabled]="!isRadioSelected"
                    >
                      Reject
                    </button>
                  </ng-container>
                </div>
                <div style="overflow: scroll">
                  <table
                    class="table"
                    cellspacing="0"
                    id="AssignvehicleQuote"
                    width="100%"
                  >
                    <thead>
                      <tr style="text-align: center; white-space: nowrap">
                        <th class="table-primary"></th>
                        <th class="table-primary">SL</th>
                        <th class="table-primary">Order Number</th>
                        <th class="table-primary">Bidding Status</th>
                        <th class="table-primary">Minimum Transporter Quote</th>
                        <th class="table-primary">Maximum Transporter Quote</th>
                        <th class="table-primary">Dispatch Date & Time</th>
                        <th class="table-primary">Base Cost</th>
                        <th class="table-primary">Source</th>
                        <th class="table-primary">Destination</th>
                        <th class="table-primary">Route Sequence</th>
                        <th class="table-primary">Vehicle Capacity</th>
                        <th class="table-primary">Vehicle Type</th>
                        <th class="table-primary">No of Vehicles</th>
                        <th class="table-primary">Vehicle Accessories</th>
                        <th class="table-primary">Requirement</th>
                        <th class="table-primary">Remark</th>
                        <th class="table-primary">Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Check if order.value is an array -->
                      <tr
                        *ngFor="let item of quoteArrayData1; let ind = index"
                        style="white-space: nowrap; text-align: center"
                      >
                        <td>
                          <div
                            class="mt-2 d-flex justify-content-end align-items-start"
                          >
                            <button
                              (click)="popupQuote(item, $event, ind)"
                              class="dt-control"
                            >
                              <i
                                style="color: #1d4380"
                                class="fa-solid fa-circle-plus fa-xl"
                              ></i>
                            </button>
                          </div>
                        </td>
                        <!-- <ng-container *ngFor="let item of order[1]" > -->
  
                        <td>{{ ind + 1 }}</td>
                        <td>{{ item[1][0].OrderNumber }}</td>
                        <td>
                          {{ searched_data_quote?.ratio[item[1][0].OrderNumber] }}
                        </td>
                        <td>{{ minQuote(item[1][0]?.OrderNumber) }}</td>
                        <td>{{ maxQuote(item[1][0]?.OrderNumber) }}</td>
                        <td>
                          {{ item[1][0].dispatchdate }}
                          {{ item[1][0].dispatchtime }}
                        </td>
                        <td>{{ item[1][0].basecost }}</td>
                        <td>{{ item[1][0].Source }}</td>
                        <td>{{ item[1][0].Destination }}</td>
                        <td>{{ item[1][0].Route_Sequence?.value }}</td>
                        <td>{{ item[1][0].Vehicle_Capacity }}</td>
                        <td>{{ item[1][0].Vehicle_Type }}</td>
                        <td>{{ item[1][0].No_of_Vehicles }}</td>
                        <td style="color: green">
                          <div class="row">
                            <ng-container
                              *ngIf="item[1][0].Vehicle_Accessories[0]?.value"
                            >
                              <div class="col-3">
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[0].img }}"
                                  style="height: 3vh"
                                />
                              </div>
                            </ng-container>
                            <ng-container
                              *ngIf="item[1][0].Vehicle_Accessories[3]?.value"
                            >
                              <div class="col-3">
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[3].img }}"
                                  style="height: 3vh"
                                />
                              </div>
                            </ng-container>
                            <ng-container
                              *ngIf="item[1][0].Vehicle_Accessories[1]?.value"
                            >
                              <div class="col-3">
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[1].img }}"
                                  style="height: 3vh"
                                />
                              </div>
                            </ng-container>
                            <ng-container
                              *ngIf="item[1][0].Vehicle_Accessories[2]?.value"
                            >
                              <div class="col-3">
                                <img
                                  class="me-2"
                                  src="{{ Safety_list[2].img }}"
                                  style="height: 3vh"
                                />
                              </div>
                            </ng-container>
                          </div>
                        </td>
                        <td>{{ item[1][0].Requirement }}</td>
                        <td>{{ item[1][0].remark }}</td>
                        <td>
                          <button
                            type="button"
                            style="
                              font-size: 15px;
                              font-weight: 400;
                              color: green;
                              width: 150px;
                            "
                            class="btn"
                            [ngStyle]="{ color: getStyle_status(item.Status) }"
                          >
                            {{ item[1][0].status_remark }}
                          </button>
                          <ng-container *ngIf="item[1][0].Status == '3'">
                            <button
                              class="btn"
                              style="width: 50px"
                              (click)="open_AssignVehicle(item)"
                            >
                              <i
                                class="fa fa-info-circle"
                                style="font-size: 22px; color: #1d4380"
                              ></i>
                            </button>
                          </ng-container>
                        </td>
                        <!-- </ng-container>    -->
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
  
              <!-- /////////////////////////////////////////////////////////////////////////////////////////// -->
            </div>
          </div>
          <!-- Quote Modal -->
          <div
            class="modal fade"
            id="quoteModal"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            tabindex="-1"
            aria-labelledby="quoteModal"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-xl">
              <div
                class="modal-content rounded-3 border rounded-3 border-1 border-color-light shadow-light"
              >
                <!-- Modal Header with Close Icon -->
                <div class="modal-header">
                  <h5 class="modal-title">Transport Details</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
  
                <!-- Modal Body -->
                <div class="modal-body">
                  <div class="col-lg-12" *ngIf="table_show_order">
                    <div class="">
                      <!-- data-bs-toggle="modal" data-bs-target="#upload"-->
                    </div>
                    <div style="overflow: scroll">
                      <table
                        class="table"
                        cellspacing="0"
                        id="AssignvehicleQuotePopup"
                        width="100%"
                      >
                        <thead>
                          <tr style="text-align: center; white-space: nowrap">
                            <th class="table-primary">SL</th>
                            <th class="table-primary">Driver Name</th>
                            <th class="table-primary">Phone number</th>
                            <th class="table-primary">Driver Document</th>
                            <th class="table-primary">Quote Amount</th>
                            <th class="table-primary">Vehicle Number</th>
                            <th class="table-primary">Vehicle Type</th>
                            <th class="table-primary">Vehicle Accessories</th>
                            <th class="table-primary">Vehicle Document</th>
                            <th class="table-primary">Vehicle Capacity</th>
                            <th class="table-primary">Requirement</th>
                            <th class="table-primary">Remark</th>
                          </tr>
                        </thead>
                        <tbody
                          *ngFor="
                            let item of popupQuoteVehicleDriver;
                            let ind = index
                          "
                        >
                          <!-- Check if order.value is an array -->
                          <tr style="white-space: nowrap; text-align: center">
                            <!-- <ng-container *ngFor="let item of order[1]" > -->
  
                            <td>{{ ind + 1 }}</td>
                            <td>{{ item?.Driver_name }}</td>
                            <td>{{ item?.Phone }}</td>
                            <td style="text-align:left">
                              <div *ngFor="let document of item?.DriverDocument | keyvalue" class="document-item position-relative d-inline">
                                <a *ngIf="getStatus(document?.value) === 1" target="_blank" [href]="getFilePath(document?.value)"> 
                                  <img style="height: 20px;" [src]="driverDocImage[getDocTypeId(document?.value)]" alt="">
                                </a>
                              </div>
                              <!-- Driver Document -->
                            </td>  
                            <td>{{ item.Quote_single }}</td>
                            <td>{{ item.Vehicle_number }}</td>
                            <td>{{ item.Type }}</td>
                            <td>Vehicle Accessories</td>
                            <td>Vehicle Document</td>
                            <td>{{ item.Capacity_tonns }}</td>
                            <!-- <td>{{ item.Vehicle_Type }}</td> -->
                            <!-- <td>{{ item.No_of_Vehicles }}</td> -->
                            <!-- <td style="color: green">
                              <div class="row">
                                <ng-container *ngIf="item.Vehicle_Accessories[0]?.value">
                                  <div class="col-3">
                                    <img class="me-2" src="{{ Safety_list[0].img }}" style="height: 3vh" />
                                  </div>
                                </ng-container>
                                <ng-container *ngIf="item.Vehicle_Accessories[3]?.value">
                                  <div class="col-3">
                                    <img class="me-2" src="{{ Safety_list[3].img }}" style="height: 3vh" />
                                  </div>
                                </ng-container>
                                <ng-container *ngIf="item.Vehicle_Accessories[1]?.value">
                                  <div class="col-3">
                                    <img class="me-2" src="{{ Safety_list[1].img }}" style="height: 3vh" />
                                  </div>
                                </ng-container>
                                <ng-container *ngIf="item.Vehicle_Accessories[2]?.value">
                                  <div class="col-3">
                                    <img class="me-2" src="{{ Safety_list[2].img }}" style="height: 3vh" />
                                  </div>
                                </ng-container>
                              </div>
                            </td> -->
                            <td></td>
  
                            <td>{{ item.remark }}</td>
  
                            <!-- <td>
                              <button
                                type="button"
                                style="font-size: 15px; font-weight: 400; color: green; width: 150px;"
                                class="btn"
                                [ngStyle]="{ color: getStyle_status(item.Status) }"
                              >
                                {{ item.status_remark }}
                              </button>
                              <ng-container *ngIf="item.Status == '3'">
                                <button class="btn" style="width: 50px" (click)="open_AssignVehicle(item)">
                                  <i class="fa fa-info-circle" style="font-size: 22px; color: #1d4380"></i>
                                </button>
                              </ng-container>
                            </td> -->
                            <!-- </ng-container>    -->
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <!-- REQUEST -->
          <!-- <div class="tab-pane fade" id="nav-REQUEST" role="tabpanel" aria-labelledby="nav-REQUEST-tab">
                REQUEST
            </div> -->
  
          <!-- Billing -->
       
  
          <!-- Modal -->
      
  
          <!-- Agreement -->
        <!-- Agreement -->
      
          <!-- Vehicle -->
          
          <!-- Driver -->
         
        </div>
      </div>
    </div>
  </div>
  
  <!-- --------------------------------------VIEW--------------------------------------- -->
  <div
    class="modal fade"
    id="View"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" style="max-width: 78vw">
      <div class="modal-content" style="max-height: 634px; overflow: scroll">
        <!-- (ngSubmit)="Assign_vehicle_Addsubmit()" -->
  
        <div class="modal-header" style="background-color: white">
          <div style="display: inline-table">Assigned Vehicle</div>
          &nbsp;
          <button
            class="btn-close btn-sm"
            id="btnUncheckAll"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="card-body">
          <div style="overflow-x: auto">
            <table
              class="table"
              cellspacing="0"
              id="Assignvehicle-view"
              width="100%"
            >
              <thead>
                <tr style="text-align: center; white-space: nowrap">
                  <!-- <th class="table-primary"> </th> -->
                  <th class="table-primary">Vehicle Number</th>
                  <th class="table-primary">Driving License No</th>
                  <th class="table-primary">Driving License Exp</th>
                  <th class="table-primary">Aadhaar Card No</th>
                  <th class="table-primary">Pan Card No</th>
                  <!-- <th class="table-primary">Photograph</th> -->
                  <th class="table-primary">First Driver Name</th>
                  <th class="table-primary">Second Driver Name</th>
                  <th class="table-primary">Phone</th>
                  <th class="table-primary">Vehicle Type</th>
                  <th class="table-primary">Vehicle Capacity</th>
                  <th class="table-primary">Registration Certificate No</th>
                  <th class="table-primary">Registration Certificate Exp</th>
                  <th class="table-primary">Pollution Certificate No</th>
                  <th class="table-primary">Pollution Certificate Exp</th>
                  <th class="table-primary">Vehicle Insurance No</th>
                  <th class="table-primary">Vehicle Insurance Exp</th>
                  <th class="table-primary">National Goods Permit</th>
                  <th class="table-primary">National Goods Permit Exp</th>
                  <th class="table-primary">Quote</th>
                  <th class="table-primary">Safety Features</th>
                  <th class="table-primary">Remark</th>
                  <!-- <th>Safety Features</th> -->
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let item of Assigned_vehicle; let ind = index"
                  style="white-space: nowrap; text-align: center"
                >
                  <!-- <td><input type="radio" name="value" id="value" (change)="selected_radio(item.OrderNumber,item)"></td> -->
                  <td
                    [ngClass]="{
                      'status-0': item.VehicleNumber_status === 0,
                      'status-1': item.VehicleNumber_status === 1
                    }"
                  >
                    {{ item.VehicleNumber }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.DrivingLicense_status === 0,
                      'status-1': item.DrivingLicense_status === 1
                    }"
                  >
                    {{ item.DrivingLicense_No }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.DrivingLicense_exp === 0,
                      'status-1': item.DrivingLicense_exp !== 0
                    }"
                  >
                    {{ item.DrivingLicense_exp }}
                  </td>
                  <td>{{ item.AadhaarCard_No }}</td>
                  <td>{{ item.PanCard_No }}</td>
                  <!-- <td>{{item.Photograpg}}</td> -->
                  <td>{{ item.First_Driver_name }}</td>
                  <td>{{ item.Secornd_Driver_name }}</td>
                  <td>{{ item.Phone }}</td>
                  <td>{{ item.Vehicle_Type }}</td>
                  <td>{{ item.Vehicle_Capacity }}</td>
                  <td
                    [ngClass]="{
                      'status-0': item.RegistrationCertificate_status === 0,
                      'status-1': item.RegistrationCertificate_status === 1
                    }"
                  >
                    {{ item.RegistrationCertificate_no }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.RegistrationCertificate_exp === 0,
                      'status-1': item.RegistrationCertificate_exp !== 0
                    }"
                  >
                    {{ item.RegistrationCertificate_exp }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.PollutionCertificate_status === 0,
                      'status-1': item.PollutionCertificate_status === 1
                    }"
                  >
                    {{ item.PollutionCertificate_no }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.PollutionCertificate_exp === 0,
                      'status-1': item.PollutionCertificate_exp !== 0
                    }"
                  >
                    {{ item.PollutionCertificate_exp }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.VehicleInsurance_status === 0,
                      'status-1': item.VehicleInsurance_status === 1
                    }"
                  >
                    {{ item.VehicleInsurance_no }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.VehicleInsurance_exp === 0,
                      'status-1': item.VehicleInsurance_exp !== 0
                    }"
                  >
                    {{ item.VehicleInsurance_exp }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.NationalGoodsPermit_status === 0,
                      'status-1': item.NationalGoodsPermit_status === 1
                    }"
                  >
                    {{ item.NationalGoodsPermit }}
                  </td>
                  <td
                    [ngClass]="{
                      'status-0': item.NationalGoodsPermit_exp === 0,
                      'status-1': item.NationalGoodsPermit_exp !== 0
                    }"
                  >
                    {{ item.NationalGoodsPermit_exp }}
                  </td>
                  <td>{{ item.quote }}</td>
                  <td style="color: green">
                    <div class="row">
                      <ng-container *ngIf="item.safetyFeatures[0]?.value">
                        <div class="col-3">
                          <img
                            class="me-2"
                            src="{{ Safety_list[0].img }}"
                            style="height: 3vh"
                          />
                          <!-- <i class='fas fa-lock-open access' style="color: black;" title="{{item.Vehicle_Accessories[0]?.name}}"></i> -->
                        </div>
                      </ng-container>
                      <ng-container *ngIf="item.safetyFeatures[3]?.value">
                        <div class="col-3">
                          <!-- <i class='fas fa-fire-extinguisher'></i> -->
                          <img
                            class="me-2"
                            src="{{ Safety_list[3].img }}"
                            style="height: 3vh"
                          />
                          <!-- <i class='fas fa-fire-extinguisher' style="color: red;font-size: 22px;" title="{{item.Vehicle_Accessories[3]?.name}}"></i> -->
                        </div>
                      </ng-container>
                      <ng-container *ngIf="item.safetyFeatures[1]?.value">
                        <div class="col-3">
                          <img
                            class="me-2"
                            src="{{ Safety_list[1].img }}"
                            style="height: 3vh"
                          />
                          <!-- <i class='fa fa-map-marker access' style="color: green;font-size: 22px;" title="{{item.Vehicle_Accessories[1]?.name}}"></i> -->
                        </div>
                      </ng-container>
                      <ng-container *ngIf="item.safetyFeatures[2]?.value">
                        <div class="col-3">
                          <!-- <i class="fas fa-user-friends"></i> -->
                          <img
                            class="me-2"
                            src="{{ Safety_list[2].img }}"
                            style="height: 3vh"
                          />
                          <!-- <i class='fas fa-user-friends access' style="color: black;" title="{{item.Vehicle_Accessories[2]?.name}}"></i> -->
                        </div>
                      </ng-container>
                    </div>
                  </td>
                  <td>{{ item.remark }}</td>
                  <!-- <td>{{item.safetyFeatures.join(', ')}}</td> -->
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /////////////////////agreement view//////////////////////////////////////////////////// -->
  <div
    class="modal fade"
    id="agreementView"
    tabindex="-1"
    role="dialog"
    aria-labelledby="uploadModalLabel"
    aria-hidden="true"
    aria-hidden="false"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
  >
    <div class="modal-dialog modal-fullscreen" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="uploadModalLabel">Agreement List</h5>
          <!-- (click)="Driverupload1.resetForm()" -->
          <button
            type="button"
            class="close"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <!-- (ngSubmit)="uploaddriver_submit(Driverupload)" -->
  
        <div class="modal-body">
          <div class="fiter col-md-10">
            <p style="font-weight: 600" class="mb-2">
              <a
                data-bs-toggle="collapse"
                data-bs-target="#collapseExample"
                role="button"
                aria-expanded="false"
                aria-controls="collapseExample"
                style="font-size: 16px"
              >
                <i
                  class="fa fa-filter"
                  aria-hidden="true"
                  style="font-size: 20px; color: #1d4380; margin-top: 8px"
                ></i
                >FILTER
              </a>
            </p>
            <div class="collapse" id="collapseExample">
              <div>
                <div
                  class="card card-body pt-0"
                  style="border: none; box-shadow: none; margin-bottom: 0px"
                >
                  <form
                    #agreementFilter="ngForm"
                    (ngSubmit)="AgreementList(agreementFilter.value)"
                  >
                    <div class="row col-12 ps-0">
                      <div class="col-md-2">
                        <label class="m-0" for="dateFrom">Date: From</label>
                        <input
                          id="dateFrom"
                          type="date"
                          ngModel
                          name="dateFrom"
                          class="form-control"
                          placeholder="Select Start Date..."
                        />
                        <!-- <span style="font-size: 11px"
                        *ngIf="filterForm.get('dateFrom')?.touched && filterForm.get('dateFrom')?.errors?.['required']"
                        class="text-danger position-absolute text-sm-center">
                        Select start date.
                      </span> -->
                      </div>
                      <div class="col-md-2">
                        <label class="m-0" for="dateTo">Date: To</label>
                        <input
                          id="dateTo"
                          type="date"
                          ngModel
                          name="dateTo"
                          class="form-control"
                          placeholder="Select End Date..."
                        />
                        <!-- <span style="font-size: 11px"
                        *ngIf="filterForm.get('dateTo')?.touched && filterForm.get('dateTo')?.errors?.['required']"
                        class="text-danger position-absolute text-sm-center">
                        Select end date.
                      </span> -->
                      </div>
                      <div class="col-md-2">
                        <label class="m-0" for="transporter"
                          >Agreement Type</label
                        >
                        <ng-select id="transporter" ngModel name="Agreement">
                          <ng-option
                            [value]="item"
                            *ngFor="let item of filterDataagreement.agreementtype"
                            >{{ item.value }}</ng-option
                          >
                        </ng-select>
                        <!-- <span style="font-size: 11px"
                        *ngIf="filterForm.get('transporter')?.touched && filterForm.get('transporter')?.errors?.['required']"
                        class="text-danger position-absolute text-sm-center">
                        Select customer.
                      </span> -->
                      </div>
                      <div class="col-md-2">
                        <label class="m-0" for="status">Client</label>
                        <ng-select
                          placeholder="select an option"
                          id="ShipmentNo"
                          class="cutombox"
                          ngModel
                          name="Client"
                          required
                        >
                          <ng-option value="" selected
                            >Select an option</ng-option
                          >
                          <ng-option
                            [value]="item"
                            *ngFor="let item of venderList"
                            >{{ item.value }}</ng-option
                          >
                        </ng-select>
                        <!-- <span style="font-size: 11px"
                        *ngIf="filterForm.get('status')?.touched && filterForm.get('status')?.errors?.['required']"
                        class="text-danger position-absolute text-sm-center">
                        Select status.
                      </span> -->
                      </div>
                      <div class="col-md-2 text-end d-flex align-items-end">
                        <button
                          type="submit"
                          class="p-2 px-4 rounded-0 btn-orange shadow-none"
                        >
                          Submit
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
              <!-- </ng-container> -->
              <!-- <div class=" " ><i class="fa fa-filter" aria-hidden="true"></i></div>    -->
            </div>
          </div>
  
          <div class="info">
            <table
              class="display nowrap table"
              cellspacing="0"
              id="Agreementtable"
            >
              <thead>
                <tr style="text-align: center">
                  <th class="table-primary">Sl.</th>
                  <th class="table-primary">Status</th>
                  <th class="table-primary">Agreement Code</th>
                  <th class="table-primary">Agreement Date</th>
                  <th class="table-primary">No. Of Vehicle</th>
                  <!-- <th class="table-primary">Upload Agreement
                </th> -->
                  <th class="table-primary">Vehicle Type</th>
                  <th class="table-primary">Vehicle Capacity</th>
                  <th class="table-primary">Trip Type</th>
                  <th class="table-primary">Toll Tax</th>
  
                  <th class="table-primary">From Date</th>
                  <th class="table-primary">To Date</th>
                  <th class="table-primary">Night Charge</th>
                  <th class="table-primary">Night Start Hours</th>
                  <th class="table-primary">Night End Hours</th>
  
                  <th class="table-primary">Minimum Monthly Cost</th>
                  <th class="table-primary">Fixed Charges</th>
                  <th class="table-primary">Tentative Distance (Km)</th>
                  <th class="table-primary">Unit Cost</th>
                  <th class="table-primary">Minimum Unit</th>
                  <th class="table-primary">Minimum Daily Distance(Km)</th>
                  <th class="table-primary">Minimum Daily Duration(Hrs)</th>
                  <th class="table-primary">Distance Cost</th>
                  <th class="table-primary">Hourly Cost</th>
                  <th class="table-primary">Tentative Durations (Hrs.)</th>
                  <th class="table-primary">View</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of AgreementData; let ind = index">
                  <td>
                    {{ ind + 1 }}
                  </td>
                  <td>
                    {{ item.status }}
                  </td>
                  <td>
                    {{ item.agreeemnt_code }}
                  </td>
                  <td>
                    {{ item.agreement_date }}
                  </td>
                  <td>
                    {{ item.number_of_vehicles }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.vehicle_type }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.vehicle_capacity }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.agreement_type }}
                  </td>
  
                  <td>
                    {{ item?.agreementDetails[0]?.toll_tax }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.from_time }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.to_time }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.Night_Charges }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.Night_Time_from }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.Night_Time_to }}
                  </td>
                  <td>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 1"
                    >
                      {{
                        item?.agreementDetails[0]?.trip_based?.tMinimumMonthlyCost
                      }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 2"
                    >
                      {{
                        item?.agreementDetails[0]?.distance_based
                          ?.dMinimumMonthlyCost
                      }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 3"
                    >
                      {{
                        item?.agreementDetails[0]?.hourly_based
                          ?.hMinimumMonthlyCost
                      }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 4"
                    >
                      {{
                        item?.agreementDetails[0]?.distance_hourly_based
                          ?.dhMinimumMonthlyCost
                      }}
                    </ng-container>
                  </td>
                  <td>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 1"
                    >
                      {{ item?.agreementDetails[0]?.trip_based?.TFixedCharges }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 2"
                    >
                      {{
                        item?.agreementDetails[0]?.distance_based?.dhFixedCharges
                      }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 3"
                    >
                      {{ item?.agreementDetails[0]?.hourly_based?.hFixedCharges }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 4"
                    >
                      {{
                        item?.agreementDetails[0]?.distance_hourly_based
                          ?.dhFixedCharges
                      }}
                    </ng-container>
                  </td>
                  <td>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 1"
                    >
                      {{
                        item?.agreementDetails[0]?.trip_based?.TTentativeDistance
                      }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 2"
                    >
                      {{
                        item?.agreementDetails[0]?.distance_based
                          ?.dTentativeDistance
                      }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 3"
                    >
                      {{
                        item?.agreementDetails[0]?.hourly_based
                          ?.hTentativeDistance
                      }}
                    </ng-container>
                    <ng-container
                      *ngIf="item?.agreementDetails[0]?.agreement_type_id == 4"
                    >
                      {{
                        item?.agreementDetails[0]?.distance_hourly_based
                          ?.dhTentativeDistance
                      }}
                    </ng-container>
                  </td>
                  <td>{{ item?.agreementDetails[0]?.trip_based?.ttripcost }}</td>
                  <td>
                    {{
                      item?.agreementDetails[0]?.distance_based?.DMinimumDistance
                    }}
                  </td>
                  <td>
                    {{
                      item?.agreementDetails[0]?.distance_hourly_based
                        ?.dhMinimumDailyDistance
                    }}
                  </td>
                  <td>
                    {{
                      item?.agreementDetails[0]?.hourly_based?.hMinimumDuration
                    }}
                  </td>
                  <td>
                    {{
                      item?.agreementDetails[0]?.distance_based?.DMinimumDistance
                    }}
                  </td>
                  <td>
                    {{ item?.agreementDetails[0]?.hourly_based?.hHourlyCost }}
                  </td>
                  <td>
                    {{
                      item?.agreementDetails[0]?.distance_hourly_based
                        ?.dhTentativeDurations
                    }}
                  </td>
  
                  <td>
                    <button
                      type="button"
                      (click)="viewF(item)"
                      style="
                        color: white;
                        margin-left: 2px;
                        background-color: #1d4380;
                      "
                    >
                      view
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>